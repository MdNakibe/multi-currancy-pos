!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.canvasDatagrid=t():e.canvasDatagrid=t()}(self,(function(){return function(){var __webpack_modules__={392:function(e,t,r){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function l(e){var t;function r(){if(e.buttonMenu)e.disposeButtonMenu();else{var r={left:e.button.wrapper.left-e.scrollBox.scrollLeft,top:e.button.wrapper.top+e.button.wrapper.offsetHeight-e.scrollBox.scrollTop};e.buttonMenu=function(r,l){var i,a,s,c=document.createElement("div"),d=-1,u={};function f(){function t(t,r){var o;null!==(o=t.title)&&("object"!==n(o)?(function(t){e.createInlineStyle(t,"canvas-datagrid-button-menu-item"+(e.mobile?"-mobile":"")),t.addEventListener("mouseover",(function(){e.createInlineStyle(t,"canvas-datagrid-button-menu-item:hover")})),t.addEventListener("mouseout",(function(){e.createInlineStyle(t,"canvas-datagrid-button-menu-item")}))}(r),r.innerHTML=o):r.appendChild(o)),t.buttonMenuItemContainer=r,t.click&&r.addEventListener("click",(function(r){t.click.apply(e,[r]),e.disposeButton()}))}var r,i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,l=function(){};return{s:l,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(l);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=document.createElement("div");t(a,s),c.appendChild(s)}}catch(e){i.e(e)}finally{i.f()}}return u.buttonMenu=c,a={},s=e.scrollOffset(e.canvas),void 0===t&&(t=e.style.buttonZIndex),f(),e.createInlineStyle(c,"canvas-datagrid-button-menu"+(e.mobile?"-mobile":"")),a.x=r.left-s.left,a.y=r.top-s.top,a.height=0,t+=1,c.style.position="absolute",c.style.zIndex=t,c.style.left=a.x+"px",c.style.top=a.y+"px",document.body.appendChild(c),(i=c.getBoundingClientRect()).bottom>window.innerHeight&&(a.y=e.button.wrapper.top-c.offsetHeight-e.scrollBox.scrollTop,a.y<0&&(a.y=e.style.buttonMenuWindowMargin),c.offsetHeight>window.innerHeight-e.style.buttonMenuWindowMargin&&(c.style.height=window.innerHeight-2*e.style.buttonMenuWindowMargin+"px")),i.right>window.innerWidth&&(a.x-=i.right-window.innerWidth+e.style.buttonMenuWindowMargin),a.x<0&&(a.x=e.style.buttonMenuWindowMargin),a.y<0&&(a.y=e.style.buttonMenuWindowMargin),c.style.left=a.x+"px",c.style.top=a.y+"px",u.clickIndex=function(e){l[e].buttonMenuItemContainer.dispatchEvent(new Event("click"))},u.rect=i,u.items=l,u.dispose=function(){c.parentNode&&c.parentNode.removeChild(c)},Object.defineProperty(u,"selectedIndex",{get:function(){return d},set:function(t){if("number"!=typeof t||isNaN(t)||!isFinite(t))throw new Error("Button menu selected index must be a sane number.");(d=t)>l.length-1&&(d=l.length-1),d<0&&(d=0),l.forEach((function(t,r){if(r===d)return e.createInlineStyle(t.buttonMenuItemContainer,"canvas-datagrid-button-menu-item:hover");e.createInlineStyle(t.buttonMenuItemContainer,"canvas-datagrid-button-menu-item")}))}}),u}(r,e.button.items),e.createInlineStyle(e.button.wrapper,"canvas-datagrid-button-wrapper:active"),requestAnimationFrame((function(){document.addEventListener("click",e.disposeButtonMenu)}))}}e.disposeButtonMenu=function(){e.buttonMenu&&(document.removeEventListener("click",e.disposeButtonMenu),e.buttonMenu.dispose(),e.buttonMenu=void 0,e.createInlineStyle(e.button.wrapper,"canvas-datagrid-button-wrapper:hover"))},e.disposeButton=function(r){r&&27!==r.keyCode||(document.removeEventListener("keydown",e.disposeButton),t=e.style.buttonZIndex,e.disposeButtonMenu(),e.button&&e.button.dispose(),e.button=void 0)},e.moveButtonPos=function(){e.button.wrapper.style.left=e.button.wrapper.left-e.scrollBox.scrollLeft+"px",e.button.wrapper.style.top=e.button.wrapper.top-e.scrollBox.scrollTop+"px",e.disposeButtonMenu()},e.attachButton=function(o,n,l){e.button&&e.disposeButton(),e.button=function(o,n,l){var i=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),c={};if(!Array.isArray(n))throw new Error("createButton expects an array.");return c.wrapper=i,c.items=n,function(){var n,c={},d=e.scrollOffset(e.canvas);if(void 0===t&&(t=e.style.buttonZIndex),n=i,e.createInlineStyle(n,"canvas-datagrid-button-wrapper"),n.addEventListener("mouseover",(function(){e.buttonMenu||e.createInlineStyle(n,"canvas-datagrid-button-wrapper:hover")})),n.addEventListener("mouseout",(function(){e.buttonMenu||e.createInlineStyle(n,"canvas-datagrid-button-wrapper")})),e.createInlineStyle(s,"canvas-datagrid-button-icon"),e.createInlineStyle(a,"canvas-datagrid-button-arrow"),c.x=o.left-d.left,c.y=o.top-d.top,c.height=0,t+=1,i.style.position="absolute",i.style.zIndex=t,i.style.left=c.x+"px",i.style.top=c.y+"px",i.left=o.left+e.scrollBox.scrollLeft,i.top=o.top+e.scrollBox.scrollTop,a.innerHTML=e.style.buttonArrowDownHTML,l){var u=document.createElement("img");u.setAttribute("src",l),u.style.maxWidth="100%",u.style.height="100%",s.appendChild(u)}i.appendChild(s),i.appendChild(a),document.body.appendChild(i),i.addEventListener("click",r)}(),c.dispose=function(){i.parentNode&&i.parentNode.removeChild(i)},c}(o,n,l),requestAnimationFrame((function(){document.addEventListener("keydown",e.disposeButton)}))}}r.d(t,{Z:function(){return l}})},195:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var o=r(857);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function l(){var e,t={dehyphenateProperty:function(e){e=e.replace("--cdg-","");var t,r="";return Array.prototype.forEach.call(e,(function(e){if(t)return t=!1,void(r+=e.toUpperCase());"-"!==e?r+=e:t=!0})),r},hyphenateProperty:function(e,t){var r="";return Array.prototype.forEach.call(e,(function(e){e!==e.toUpperCase()?r+=e:r+="-"+e.toLowerCase()})),(t?"--cdg-":"")+r},applyComponentStyle:function(r,l){if(l.isComponent){var i=window.getComputedStyle("CANVAS-DATAGRID"===l.tagName?l:l.canvas,null),a={};l.computedStyle=i,(0,o.Z)(a),a.defaults.styles.forEach((function(r){var o;""===(o=i.getPropertyValue(t.hyphenateProperty(r[0],!0)))&&(o=i.getPropertyValue(t.hyphenateProperty(r[0],!1))),""!==o&&"string"==typeof o&&l.setStyleProperty(r[0],e[n(r[1])](o.replace(/^\s+/,"").replace(/\s+$/,""),r[1]),!0)})),!r&&l.dispatchEvent&&(requestAnimationFrame((function(){l.resize(!0)})),l.dispatchEvent("stylechanged",l.style))}}};return e={data:function(e){try{return JSON.parse(e)}catch(e){throw new Error("Cannot read JSON data in canvas-datagrid data.")}},schema:function(e){try{return JSON.parse(e)}catch(e){throw new Error("Cannot read JSON data in canvas-datagrid schema attribute.")}},number:function(e,t){var r=parseInt(e,10);return isNaN(r)?t:r},boolean:function(e){return/true/i.test(e)},string:function(e){return e}},t.getObservableAttributes=function(){var e={},t=["data","schema","style","className","name"];return(0,o.Z)(e),e.defaults.attributes.forEach((function(e){t.push(e[0].toLowerCase())})),t},t.disconnectedCallback=function(){this.connected=!1},t.connectedCallback=function(){var e=this;e.parentDOMNode.innerHTML="",e.parentDOMNode.appendChild(e.canvas),e.connected=!0,t.observe(e),t.applyComponentStyle(!0,e),e.resize(!0)},t.adoptedCallback=function(){this.resize()},t.attributeChangedCallback=function(r,l,i){var a,s,c=this;if("style"!==r){if("data"===r)return"application/x-canvas-datagrid"===c.dataType&&(c.dataType="application/json+x-canvas-datagrid"),void(c.data=i);if("schema"!==r)if("name"!==r){if("class"!==r&&"className"!==r){var d,u;if("attributes",d=r,u={},(0,o.Z)(u),s=u.defaults.attributes.filter((function(e){return e[0].toLowerCase()===d.toLowerCase()||t.hyphenateProperty(e[0])===d.toLowerCase()||t.hyphenateProperty(e[0],!0)===d.toLowerCase()}))[0],s)return a=e[n(s[1])],void(c.attributes[s[0]]=a(i));/^on/.test(r)&&c.addEventListener("on"+r,Function("e",i))}}else c.name=i;else c.schema=e.schema(i)}else t.applyComponentStyle(!1,c)},t.observe=function(e){var r;window.MutationObserver&&(e.applyComponentStyle=function(){t.applyComponentStyle(!1,e),e.resize()},(r=new window.MutationObserver((function(t){var r,o;Array.prototype.forEach.call(t,(function(t){"class"!==t.attributeName&&"style"!==t.attributeName&&"STYLE"!==t.target.nodeName?t.target.parentNode&&"STYLE"===t.target.parentNode.nodeName?o=!0:t.target===e&&(t.addedNodes.length>0||"characterData"===t.type)&&(r=!0):o=!0})),o&&e.applyComponentStyle(!1,e),r&&("application/x-canvas-datagrid"===e.dataType&&(e.dataType="application/json+x-canvas-datagrid"),e.data=e.innerHTML)}))).observe(e,{characterData:!0,childList:!0,attributes:!0,subtree:!0}),Array.prototype.forEach.call(document.querySelectorAll("style"),(function(e){r.observe(e,{characterData:!0,childList:!0,attributes:!0,subtree:!0})})))},t}},485:function(e,t,r){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e){var t,r,n;function l(t){e.createInlineStyle(t,"canvas-datagrid-context-menu-item"+(e.mobile?"-mobile":"")),t.addEventListener("mouseover",(function(){e.createInlineStyle(t,"canvas-datagrid-context-menu-item:hover")})),t.addEventListener("mouseout",(function(){e.createInlineStyle(t,"canvas-datagrid-context-menu-item")}))}function i(n,a,s,c){var d,u,f,h=document.createElement("div"),g=document.createElement("div"),m=document.createElement("div"),p=[],v=-1,y={};if(!Array.isArray(s))throw new Error("createContextMenu expects an array.");function x(){h.scrollTop>0?e.parentDOMNode.appendChild(g):g.parentNode&&g.parentNode.removeChild(g),h.scrollTop>=h.scrollHeight-h.offsetHeight&&m.parentNode?m.parentNode.removeChild(m):h.scrollHeight-h.offsetHeight>0&&!(h.scrollTop>=h.scrollHeight-h.offsetHeight)&&e.parentDOMNode.appendChild(m)}function w(t){return function o(){var n=e.attributes.contextHoverScrollAmount;"up"===t&&0===h.scrollTop||"down"===t&&h.scrollTop===h.scrollHeight||(h.scrollTop+="up"===t?-n:n,r=setTimeout(o,e.attributes.contextHoverScrollRateMs,t))}}function C(e){return function(){clearTimeout(r)}}return y.parentGrid=e.intf,y.parentContextMenu=c,y.container=h,u={},f=e.scrollOffset(e.canvas),void 0===t&&(t=e.style.contextMenuZIndex),s.forEach((function(t){var r,a=document.createElement("div");function s(e){e.relatedTarget===h||t.contextMenu.container===e.relatedTarget||r===e.relatedTarget||a===e.relatedTarget||t.contextMenu.container.contains(e.relatedTarget)||(t.contextMenu.dispose(),p.splice(p.indexOf(t.contextMenu),1),t.contextMenu=void 0,a.removeEventListener("mouseout",s),h.removeEventListener("mouseout",s),a.setAttribute("contextOpen","0"),a.setAttribute("opening","0"))}function c(r){if("1"===a.getAttribute("opening")&&"1"!==a.getAttribute("contextOpen")){var o=a.getBoundingClientRect();o={left:o.left+e.style.childContextMenuMarginLeft+h.offsetWidth,top:o.top+e.style.childContextMenuMarginTop,bottom:o.bottom,right:o.right},t.contextMenu=i(n,o,r,y),a.setAttribute("contextOpen","1"),a.addEventListener("mouseout",s),h.addEventListener("mouseout",s),p.push(t.contextMenu)}}function d(){var e;if("1"!==a.getAttribute("contextOpen")){if(a.setAttribute("opening","1"),"function"==typeof t.items)return e=t.items.apply(y,[function(e){c(e)}]),void(void 0!==e&&Array.isArray(e)&&c(e));c(t.items)}}!function(t){!function e(t){if(null!==t)return"function"==typeof t?e(t(n)):void("object"!==o(t)?(l(a),a.innerHTML=t):a.appendChild(t))}(t.title),t.contextItemContainer=a,(t.items&&t.items.length>0||"function"==typeof t.items)&&(r=document.createElement("div"),e.createInlineStyle(r,"canvas-datagrid-context-child-arrow"),r.innerHTML=e.style.childContextMenuArrowHTML,a.appendChild(r),a.addEventListener("mouseover",d),a.addEventListener("mouseout",(function(){a.setAttribute("opening","0")}))),t.click&&a.addEventListener("click",(function(r){t.click.apply(e,[r])}))}(t),h.appendChild(a)})),e.createInlineStyle(h,"canvas-datagrid-context-menu"+(e.mobile?"-mobile":"")),u.x=a.left-f.left,u.y=a.top-f.top,u.height=0,t+=1,h.style.opacity=0,h.style.position="absolute",g.style.color=e.style.contextMenuArrowColor,m.style.color=e.style.contextMenuArrowColor,[g,m].forEach((function(e){e.style.textAlign="center",e.style.position="absolute",e.style.zIndex=t+1})),h.style.zIndex=t,c&&c.inputDropdown&&(h.style.maxHeight=window.innerHeight-u.y-e.style.autocompleteBottomMargin+"px",h.style.minWidth=a.width+"px",u.y+=a.height),e.mobile&&(h.style.width=a.width+"px"),h.style.left=u.x+"px",h.style.top=u.y+"px",h.addEventListener("scroll",x),h.addEventListener("wheel",(function(t){e.hasFocus&&(h.scrollTop+=t.deltaY,h.scrollLeft+=t.deltaX),x()})),g.innerHTML=e.style.contextMenuArrowUpHTML,m.innerHTML=e.style.contextMenuArrowDownHTML,h.appendChild(g),document.body.appendChild(m),document.body.appendChild(h),function(t){var r=.1;t.style.display="block";var o=setInterval((function(){r>=1&&clearInterval(o),t.style.opacity=r,t.style.filter="alpha(opacity="+100*r+")",r+=.1*r}),.1*e.attributes.animationDurationShowContextMenu)}(h),(d=h.getBoundingClientRect()).bottom>window.innerHeight&&(c&&c.inputDropdown||(u.y-=d.bottom+e.style.contextMenuWindowMargin-window.innerHeight),u.y<0&&(u.y=e.style.contextMenuWindowMargin),h.offsetHeight>window.innerHeight-e.style.contextMenuWindowMargin&&(h.style.height=window.innerHeight-2*e.style.contextMenuWindowMargin+"px")),d.right>window.innerWidth&&(u.x-=d.right-window.innerWidth+e.style.contextMenuWindowMargin),u.x<0&&(u.x=e.style.contextMenuWindowMargin),u.y<0&&(u.y=e.style.contextMenuWindowMargin),h.style.left=u.x+"px",h.style.top=u.y+"px",d=h.getBoundingClientRect(),g.style.top=d.top+"px",m.style.top=d.top+d.height-m.offsetHeight+"px",g.style.left=d.left+"px",m.style.left=d.left+"px",m.style.width=h.offsetWidth+"px",g.style.width=h.offsetWidth+"px",m.addEventListener("mouseover",w("down")),m.addEventListener("mouseout",C()),g.addEventListener("mouseover",w("up")),g.addEventListener("mouseout",C()),x(),y.clickIndex=function(e){s[e].contextItemContainer.dispatchEvent(new Event("click"))},y.rect=d,y.items=s,y.upArrow=g,y.downArrow=m,y.dispose=function(){clearTimeout(r),p.forEach((function(e){e.dispose()})),[m,g,h].forEach((function(t){var r,o,n;r=t,o=1,n=setInterval((function(){o<=.1&&(clearInterval(n),r.style.display="none",r.parentNode&&r.parentNode.removeChild(r)),r.style.opacity=o,r.style.filter="alpha(opacity="+100*o+")",o-=.1*o}),.1*e.attributes.animationDurationHideContextMenu)}))},Object.defineProperty(y,"selectedIndex",{get:function(){return v},set:function(t){if("number"!=typeof t||isNaN(t)||!isFinite(t))throw new Error("Context menu selected index must be a sane number.");(v=t)>s.length-1&&(v=s.length-1),v<0&&(v=0),s.forEach((function(t,r){if(r===v)return e.createInlineStyle(t.contextItemContainer,"canvas-datagrid-context-menu-item:hover");e.createInlineStyle(t.contextItemContainer,"canvas-datagrid-context-menu-item")}))}}),y}e.disposeAutocomplete=function(){n&&(n.dispose(),n=void 0)},e.disposeContextMenu=function(r){document.removeEventListener("click",e.disposeContextMenu),t=e.style.contextMenuZIndex,e.disposeAutocomplete(),e.contextMenu&&e.contextMenu.dispose(),e.contextMenu=void 0,r&&(e.canvas.focus(),e.mousedown(r),e.mouseup(r))},e.contextmenuEvent=function(t,r){if(e.hasFocus||t.target===e.canvas){for(var o=Object.keys(e.childGrids),a=0;a<o.length;a++){var s=e.childGrids[o[a]],c=s&&s.parentNode;if(c){var d=c.offsetLeft,u=c.offsetWidth,f=c.offsetTop,h=c.offsetHeight;if(0!=(t.x>=d&&t.x<=d+u)&&0!=(t.y>=f&&t.y<=f+h))return}}if(e.isChildGrid&&e.parentNode){var g=e.parentGrid&&e.parentGrid.childGrids;if(!g||!Array.isArray(g))return;if(!g.find((function(t){var r=t.parentNode,o=e.parentNode;return r.offsetTop==o.offsetTop&&r.offsetLeft===o.offsetLeft})))return;for(var m=e.parentNode.offsetLeft,p=e.parentNode.offsetLeft+e.parentNode.offsetWidth,v=e.parentNode.offsetTop,y=e.parentNode.offsetTop+e.parentNode.offsetHeight,x=e.parentNode.parentNode;x;){var w=x,C=w.offsetLeft,b=w.offsetWidth,S=w.offsetTop;C>m&&(m=C),S>v&&(v=S);var B=C+b,R=S+w.offsetHeight;if(B<p&&(p=B),R<y&&(y=R),"canvas-datagrid-tree"!==x.nodeType)break;x=x.parentNode}if(0==(t.x>=m&&t.x<=p&&t.y>=v&&t.y<=y))return}var I,M=[],T=r||e.getLayerPos(t),k={NativeEvent:t,cell:e.getCellAt(T.x,T.y),pos:T,items:M};k.cell.isGrid||function(t){var r,o=e.getSchema(),a=function(){return r||(r=new Map(o.map((function(e){return[e.columnIndex,e]})))),r},s=e.orderings.columns&&e.orderings.columns.length>0,c=!(t.cell.isBackground||t.cell.isColumnHeaderCellCap||t.cell.isScrollBar||t.cell.isCorner||t.cell.isRowHeader)&&t.cell.header;if(e.attributes.showFilter&&c&&function(t){var r,o=document.createElement("div"),l=document.createElement("div"),a=document.createElement("button"),s=document.createElement("input"),c=t.cell&&t.cell.header?t.cell.header.title||t.cell.header.name:"";function d(){s.style.background=e.style.contextFilterInputBackground,s.style.color=e.style.contextFilterInputColor,e.invalidFilterRegEx&&(s.style.background=e.style.contextFilterInvalidRegExpBackground,s.style.color=e.style.contextFilterInvalidRegExpColor)}function u(o){if(!o||!["ArrowDown","ArrowUp","Enter","Tab"].includes(o.key)){var l,a,c,d=(l=0,a={},c=[],e.viewData.forEach((function(r){var o=null==r[t.cell.header.name]?r[t.cell.header.name]:String(r[t.cell.header.name]).trim(),n=e.blankValues.includes(o)?e.attributes.blanksText:o;a[n]||l>e.attributes.maxAutoCompleteItems||(l+=1,a[n]={title:e.formatters[t.cell.header.type||"string"]({cell:{value:n}}),click:function(t){s.value=n,t.stopPropagation(),s.dispatchEvent(new Event("keyup")),e.disposeAutocomplete()}})})),-1!==Object.keys(a).indexOf(e.attributes.blanksText)&&(c.push(a[e.attributes.blanksText]),delete a[e.attributes.blanksText]),c.concat(Object.keys(a).map((function(e){return a[e]}))));r=s.getBoundingClientRect(),n&&(n.dispose(),n=void 0),(n=i(t,{left:r.left,top:r.top,right:r.right,bottom:r.bottom,height:r.height,width:r.width},d,{inputDropdown:!0})).selectedIndex=0}}e.createInlineStyle(l,"canvas-datagrid-context-menu-label"),e.createInlineStyle(a,"canvas-datagrid-context-menu-filter-button"),e.createInlineStyle(s,"canvas-datagrid-context-menu-filter-input"),d(),s.onclick=e.disposeAutocomplete,s.addEventListener("keydown",(function(t){"ArrowDown"===t.key&&(n.selectedIndex+=1),"ArrowUp"===t.key&&(n.selectedIndex-=1),"Enter"===t.key&&(n.clickIndex(n.selectedIndex),e.disposeContextMenu()),"Tab"===t.key&&(n.clickIndex(n.selectedIndex),t.preventDefault()),"Escape"===t.key&&e.disposeContextMenu()})),s.addEventListener("keyup",(function(){e.setFilter(t.cell.header.name,s.value)})),s.addEventListener("keyup",u),["focus","blur","keydown","keyup","change"].forEach((function(e){s.addEventListener(e,d)})),s.value=t.cell.header&&e.columnFilters[t.cell.header.name]||"",l.innerHTML=e.attributes.filterOptionText.replace(/%s/g,c),a.onclick=function(){if(n)return e.disposeAutocomplete();u()},a.innerHTML=e.style.contextFilterButtonHTML,o.addEventListener("click",(function(e){return e.stopPropagation()})),o.appendChild(l),o.appendChild(s),o.appendChild(a),t.items.push({title:o}),Object.keys(e.columnFilters).length&&Object.keys(e.columnFilters).forEach((function(r){var o=e.getHeaderByName(r);t.items.push({title:e.attributes.removeFilterOptionText.replace(/%s/g,o.title||o.name),click:function(t){t.preventDefault(),e.setFilter(r,""),e.controlInput.focus()}})}))}(t),e.attributes.showCopy&&e.canSelectionsBeCopied()&&t.items.push({title:e.attributes.copyText,click:function(){document.execCommand("copy"),e.disposeContextMenu(),e.controlInput.focus()}}),e.attributes.showPaste&&e.clipBoardData&&t.items.push({title:e.attributes.pasteText,click:function(){e.paste(e.clipBoardData),e.draw()}}),e.attributes.showColumnSelector&&(t.items.push({title:e.attributes.columnSelectorText,items:function(){var t=[];return e.getSchema().forEach((function(r){function o(t){r.hidden=!r.hidden,e.dispatchEvent("togglecolumn",{column:r,hidden:r.hidden}),t.preventDefault(),e.stopPropagation(t),e.disposeContextMenu(),e.resize(!0),e.setStorageData()}var n=document.createElement("div");l(n),n.addEventListener("touchstart",o),n.addEventListener("click",o),n.innerHTML=(r.hidden?e.attributes.columnSelectorHiddenText:e.attributes.columnSelectorVisibleText)+(r.title||r.name),t.push({title:n})})),t}}),t.cell&&t.cell.header&&t.cell.columnIndex>-1)){var d=t.cell.columnIndex,u=e.orders.columns[d],f=e.getSelectedContiguousColumns(o),h="";if(f)h=f.map((function(e){return e.title||e.name})).join("-");else{var g=o[u];g&&(h=g.title||g.name)}t.items.push({title:e.attributes.hideColumnText.replace(/%s/gi,h),click:function(t){t.preventDefault(),e.stopPropagation(t),e.disposeContextMenu(),f?e.hideColumns(f[0].orderIndex,f[1].orderIndex):e.hideColumns(d)}})}if(e.attributes.saveAppearance&&e.attributes.showClearSettingsOption&&(Object.keys(e.sizes.rows).length>0||Object.keys(e.sizes.columns).length>0)&&t.items.push({title:e.attributes.clearSettingsOptionText,click:function(t){t.preventDefault(),e.sizes.rows={},e.sizes.columns={},e.createRowOrders(),e.createColumnOrders(),e.storedSettings=void 0,e.dispatchEvent("resizecolumn",{columnWidth:e.style.cellWidth}),e.dispatchEvent("resizerow",{cellHeight:e.style.cellHeight}),e.setStorageData(),e.resize(!0),e.disposeContextMenu(),e.controlInput.focus()}}),e.attributes.allowSorting&&e.attributes.showOrderByOption&&c&&(t.items.push({title:e.attributes.showOrderByOptionTextAsc.replace("%s",t.cell.header.title||t.cell.header.name),click:function(r){r.preventDefault(),e.order(t.cell.header.name,"asc"),e.controlInput.focus()}}),t.items.push({title:e.attributes.showOrderByOptionTextDesc.replace("%s",t.cell.header.title||t.cell.header.name),click:function(r){r.preventDefault(),e.order(t.cell.header.name,"desc"),e.disposeContextMenu(),e.controlInput.focus()}})),!s&&t.cell.isRowHeader&&t.cell.header){var m=e.getSelectedContiguousRows(!0);if(m){var p,v=m.map((function(t){return e.getBoundRowIndexFromViewRowIndex(t)}));1===v.length?(p="number"==typeof v[0]?v[0]+1:m[0]+1,p=e.attributes.showHideRow.replace("%s",p),t.items.push({title:p,click:function(t){t.preventDefault(),e.hideRows(v[0],v[0])}})):v[0]<=v[1]&&(p=v.map((function(e,t){return"number"==typeof e?e+1:m[t]+1})).join("-"),p=e.attributes.showHideRows.replace("%s",p),t.items.push({title:p,click:function(t){t.preventDefault(),e.hideRows(v[0],v[1])}}))}}var y=e.getColumnGroupAreaHeight(),x=e.getRowGroupAreaWidth(),w=function(t,r){if(0!==t.length){for(var o=0;o<t.length;o++)for(var n=t[o],l=0;l<n.length;l++)n[l].collapsed=r;e.refresh()}};t.pos&&t.pos.y<y&&(t.items.push({title:e.attributes.showRemoveAllGroupColumns,click:function(t){t.preventDefault(),e.groupedColumns=[],e.refresh()}}),t.items.push({title:e.attributes.showExpandAllGroupColumns,click:function(t){t.preventDefault(),w(e.groupedColumns,!1)}}),t.items.push({title:e.attributes.showCollapseAllGroupColumns,click:function(t){t.preventDefault(),w(e.groupedColumns,!0)}})),t.pos&&t.pos.x<x&&(t.items.push({title:e.attributes.showRemoveAllGroupRows,click:function(t){t.preventDefault(),e.groupedRows=[],e.refresh()}}),t.items.push({title:e.attributes.showExpandAllGroupRows,click:function(t){t.preventDefault(),w(e.groupedRows,!1)}}),t.items.push({title:e.attributes.showCollapseAllGroupRows,click:function(t){t.preventDefault(),w(e.groupedRows,!0)}}));var C=e.attributes.allowGroupingColumns&&t.cell.isColumnHeader&&t.cell.header&&t.cell.header.index>0,b=e.attributes.allowGroupingColumns&&t.cell.isColumnHeader,S=!s&&e.attributes.allowGroupingRows&&t.cell.isRowHeader&&t.cell.header,B=e.attributes.allowGroupingRows&&t.cell.isRowHeader;if(C){for(var R=[],I=t.cell.header.index,M=I;M>=0&&e.isColumnSelected(M);M--)R[0]=M;for(M=I;e.isColumnSelected(M);M++)R[1]=M;if(M!==I&&2===R.length&&R[1]>R[0]&&e.isNewGroupRangeValid(e.groupedColumns,R[0],R[1])){for(var T=a(),k=[],O=[],E=0;E<R.length;E++){var z=R[E],A=T.get(z);A&&(O.push(A.name),k.push(A.title||A.name||A.index))}O[0]&&O[1]&&t.items.push({title:e.attributes.showGroupColumns.replace("%s",k[0]+"-"+k[1]),click:function(t){t.preventDefault(),e.groupColumns(O[0],O[1]),e.controlInput.focus()}})}}if(b)for(var H=t.cell.columnIndex,P=e.getGroupsColumnBelongsTo(H),L=a(),D=function(r){var o=P[r],n=o.from,l=o.to,i=L.get(n),a=L.get(l);if(i&&a){var s=(i.title||i.name||i.index)+"-"+(a.title||a.name||a.index);t.items.push({title:e.attributes.showRemoveGroupColumns.replace("%s",s),click:function(t){t.preventDefault(),e.removeGroupColumns(i.name,a.name),e.controlInput.focus()}})}else console.warn("Cannot find column ".concat(n," or column ").concat(l))},F=0;F<P.length;F++)D(F);if(S){var W=e.getSelectedContiguousRows(!1)||[],_=W.map((function(t){var r=e.getBoundRowIndexFromViewRowIndex(t);return"number"==typeof r?r+1:t+1})).join("-");2===W.length&&e.isNewGroupRangeValid(e.groupedRows,W[0],W[1])&&t.items.push({title:e.attributes.showGroupRows.replace("%s",_),click:function(t){t.preventDefault(),e.groupRows(W[0],W[1])}})}if(B)for(var j=t.cell.rowIndex,N=e.getGroupsRowBelongsTo(j),G=function(r){var o=N[r],n=o.from,l=o.to,i=[n,l].map((function(t){var r=e.getBoundRowIndexFromViewRowIndex(t);return"number"==typeof r?r+1:t+1})).join("-");t.items.push({title:e.attributes.showRemoveGroupRows.replace("%s",i),click:function(t){t.preventDefault(),e.removeGroupRows(n,l),e.controlInput.focus()}})},V=0;V<N.length;V++)G(V)}(k),"mousedown"!==t.type&&e.dispatchEvent("contextmenu",k)||k.cell.isGrid||(e.contextMenu&&e.disposeContextMenu(),I={left:T.x+T.rect.left+e.style.contextMenuMarginLeft+e.canvasOffsetLeft,top:T.y+T.rect.top+e.style.contextMenuMarginTop+e.canvasOffsetTop,right:k.cell.width+k.cell.x+T.rect.left,bottom:k.cell.height+k.cell.y+T.rect.top,height:k.cell.height,width:k.cell.width},e.mobile&&(I.left=e.style.mobileContextMenuMargin+"px",I.width=e.width-2*e.style.mobileContextMenuMargin+"px"),"mousedown"==t.type&&(I.top+=e.style.filterButtonMenuOffsetTop),e.contextMenu=i(k,I,M),"mousedown"==t.type?window.addEventListener("mouseup",O):O(),t.preventDefault())}function O(){requestAnimationFrame((function(){document.addEventListener("click",e.disposeContextMenu),window.removeEventListener("mouseup",O)}))}}}r.d(t,{Z:function(){return n}})},857:function(e,t,r){"use strict";function o(e){e.defaults={attributes:[["allowColumnReordering",!0],["allowColumnResize",!0],["allowColumnResizeFromCell",!1],["allowFreezingRows",!1],["allowFreezingColumns",!1],["allowMovingSelection",!0],["allowRowHeaderResize",!0],["allowRowReordering",!1],["allowRowResize",!0],["allowRowResizeFromCell",!1],["allowSorting",!0],["allowGroupingRows",!0],["allowGroupingColumns",!0],["animationDurationShowContextMenu",50],["animationDurationHideContextMenu",50],["autoGenerateSchema",!1],["autoResizeColumns",!1],["autoResizeRows",!1],["autoScrollOnMousemove",!1],["autoScrollMargin",5],["allowShrinkingSelection",!1],["blanksText","(Blanks)"],["borderDragBehavior","none"],["borderResizeZone",10],["clearCellsWhenShrinkingSelection",!1],["clearSettingsOptionText","Clear saved settings"],["columnHeaderClickBehavior","sort"],["columnSelectorHiddenText","&nbsp;&nbsp;&nbsp;"],["columnSelectorText","Add/Remove columns"],["columnSelectorVisibleText","✓"],["contextHoverScrollAmount",2],["contextHoverScrollRateMs",5],["copyHeadersOnSelectAll",!0],["copyText","Copy"],["debug",!1],["editable",!0],["ellipsisText","..."],["filterOptionText","Filter %s"],["filterTextPrefix","(filtered) "],["filterFrozenRows",!0],["globalRowResize",!1],["hideColumnText","Hide %s"],["showUnhideColumnsIndicator",!1],["showUnhideRowsIndicator",!1],["showHideRow","Hide row %s"],["showHideRows","Hide rows %s"],["hoverMode","cell"],["keepFocusOnMouseOut",!1],["maxAutoCompleteItems",200],["multiLine",!1],["name",""],["pageUpDownOverlap",1],["pasteText","Paste"],["persistantSelectionMode",!1],["removeFilterOptionText","Remove filter on %s"],["reorderDeadZone",3],["resizeAfterDragged",!1],["resizeScrollZone",20],["rowGrabZoneSize",5],["columnGrabZoneSize",30],["saveAppearance",!0],["scrollAnimationPPSThreshold",.75],["scrollPointerLock",!1],["scrollRepeatRate",75],["selectionFollowsActiveCell",!1],["selectionHandleBehavior","none"],["selectionMode","cell"],["selectionScrollIncrement",20],["selectionScrollZone",20],["showClearSettingsOption",!0],["showColumnHeaders",!0],["showColumnSelector",!0],["showCopy",!1],["showFilter",!0],["showFilterInCell",!1],["showNewRow",!1],["showOrderByOption",!0],["showOrderByOptionTextAsc","Order by %s ascending"],["showOrderByOptionTextDesc","Order by %s descending"],["showGroupColumns","Group columns %s"],["showGroupRows","Group rows %s"],["showRemoveGroupColumns","Remove group %s"],["showRemoveGroupRows","Remove group %s"],["showRemoveAllGroupColumns","Remove all column groups"],["showRemoveAllGroupRows","Remove all row groups"],["showExpandAllGroupColumns","Expand all column groups"],["showExpandAllGroupRows","Expand all row groups"],["showCollapseAllGroupColumns","Collapse all column groups"],["showCollapseAllGroupRows","Collapse all row groups"],["columnGroupIndicatorPosition","right"],["rowGroupIndicatorPosition","bottom"],["showPaste",!1],["showPerformance",!1],["showRowHeaders",!0],["showRowNumbers",!0],["showRowNumberGaps",!0],["singleSelectionMode",!1],["snapToRow",!1],["sortFrozenRows",!0],["touchContextMenuTimeMs",800],["touchDeadZone",3],["touchEasingMethod","easeOutQuad"],["touchReleaseAcceleration",1e3],["touchReleaseAnimationDurationMs",2e3],["touchScrollZone",20],["touchSelectHandleZone",20],["touchZoomSensitivity",.005],["touchZoomMin",.5],["touchZoomMax",1.75],["maxPixelRatio",2],["tree",!1],["treeHorizontalScroll",!1],["rowTree",[]],["rowTreeColIndex",0],["columnTree",[]],["columnTreeRowStartIndex",0],["columnTreeRowEndIndex",0]],styles:[["activeCellBackgroundColor","rgba(255, 255, 255, 1)"],["activeCellBorderColor","rgba(110, 168, 255, 1)"],["activeCellBorderWidth",1],["activeCellColor","rgba(0, 0, 0, 1)"],["activeCellFont","16px sans-serif"],["activeCellHoverBackgroundColor","rgba(255, 255, 255, 1)"],["activeCellHorizontalAlignment","left"],["activeCellHoverColor","rgba(0, 0, 0, 1)"],["activeCellOverlayBorderColor","rgba(66, 133, 244, 1)"],["activeCellOverlayBorderWidth",1],["activeCellPaddingBottom",5],["activeCellPaddingLeft",5],["activeCellPaddingRight",5],["activeCellPaddingTop",5],["activeCellSelectedBackgroundColor","rgba(236, 243, 255, 1)"],["activeCellSelectedColor","rgba(0, 0, 0, 1)"],["activeCellVerticalAlignment","center"],["activeColumnHeaderCellBackgroundColor","rgba(225, 225, 225, 1)"],["activeColumnHeaderCellColor","rgba(0, 0, 0, 1)"],["activeRowHeaderCellBackgroundColor","rgba(225, 225, 225, 1)"],["activeRowHeaderCellColor","rgba(0, 0, 0, 1)"],["autocompleteBottomMargin",60],["autosizeHeaderCellPadding",8],["autosizePadding",5],["buttonActiveBackgroundColor","rgba(255, 255, 255, 1)"],["buttonActiveBorderColor","rgba(110, 168, 255, 1)"],["buttonArrowColor","rgba(50, 50, 50, 1)"],["buttonArrowDownHTML","&#x25BC;"],["buttonZIndex",1e4],["buttonBackgroundColor","rgba(255, 255, 255, 1)"],["buttonBorderColor","rgba(172, 172, 172, 1)"],["buttonHoverBackgroundColor","rgba(240, 240, 240, 1)"],["buttonMenuWindowMargin",30],["buttonPadding","3px"],["cellAutoResizePadding",13],["cellBackgroundColor","rgba(255, 255, 255, 1)"],["cellBorderColor","rgba(195, 199, 202, 1)"],["cellBorderWidth",1],["cellColor","rgba(0, 0, 0, 1)"],["cellFont","16px sans-serif"],["cellGridHeight",250],["cellHeight",24],["cellHeightWithChildGrid",150],["cellHorizontalAlignment","left"],["cellHoverBackgroundColor","rgba(255, 255, 255, 1)"],["cellHoverColor","rgba(0, 0, 0, 1)"],["cellPaddingBottom",5],["cellPaddingLeft",5],["cellPaddingRight",5],["cellPaddingTop",5],["cellSelectedBackgroundColor","rgba(236, 243, 255, 1)"],["cellSelectedColor","rgba(0, 0, 0, 1)"],["cellTreeIconBorderColor","rgba(162, 174, 207, 1)"],["cellTreeIconFillColor","rgba(240, 240, 240, 1)"],["cellTreeIconHoverFillColor","rgba(198, 217, 233, 1)"],["cellTreeIconLineColor","rgba(43, 53, 81, 1)"],["cellTreeIconLineWidth",1.5],["cellTreeIconMarginLeft",0],["cellTreeIconMarginRight",5],["cellTreeIconMarginTop",6],["cellTreeIconWidth",13],["cellVerticalAlignment","center"],["cellWidth",250],["cellWidthWithChildGrid",250],["cellWhiteSpace","nowrap"],["cellLineHeight",1],["cellLineSpacing",3],["childContextMenuArrowColor","rgba(43, 48, 43, 1)"],["childContextMenuArrowHTML","&#x25BA;"],["childContextMenuMarginLeft",-11],["childContextMenuMarginTop",-6],["columnGroupRowHeight",25],["columnHeaderCellBackgroundColor","rgba(240, 240, 240, 1)"],["columnHeaderCellBorderColor","rgba(172, 172, 172, 1)"],["columnHeaderCellBorderWidth",1],["columnHeaderCellCapBackgroundColor","rgba(240, 240, 240, 1)"],["columnHeaderCellCapBorderColor","rgba(172, 172, 172, 1)"],["columnHeaderCellCapBorderWidth",1],["columnHeaderCellColor","rgba(50, 50, 50, 1)"],["columnHeaderCellFont","16px sans-serif"],["columnHeaderCellHeight",25],["columnHeaderCellHorizontalAlignment","left"],["columnHeaderCellHoverBackgroundColor","rgba(235, 235, 235, 1)"],["columnHeaderCellHoverColor","rgba(0, 0, 0, 1)"],["columnHeaderCellPaddingBottom",5],["columnHeaderCellPaddingLeft",5],["columnHeaderCellPaddingRight",5],["columnHeaderCellPaddingTop",5],["columnHeaderCellVerticalAlignment","center"],["columnHeaderOrderByArrowBorderColor","rgba(195, 199, 202, 1)"],["columnHeaderOrderByArrowBorderWidth",1],["columnHeaderOrderByArrowColor","rgba(155, 155, 155, 1)"],["columnHeaderOrderByArrowHeight",8],["columnHeaderOrderByArrowMarginLeft",0],["columnHeaderOrderByArrowMarginRight",5],["columnHeaderOrderByArrowMarginTop",6],["columnHeaderOrderByArrowWidth",13],["contextFilterButtonBorder","solid 1px rgba(158, 163, 169, 1)"],["contextFilterButtonBorderRadius","3px"],["contextFilterButtonHTML","&#x25BC;"],["contextFilterInputBackground","rgba(255,255,255,1)"],["contextFilterInputBorder","solid 1px rgba(158, 163, 169, 1)"],["contextFilterInputBorderRadius","0"],["contextFilterInputColor","rgba(0,0,0,1)"],["contextFilterInputFontFamily","sans-serif"],["contextFilterInputFontSize","14px"],["contextFilterInvalidRegExpBackground","rgba(180, 6, 1, 1)"],["contextFilterInvalidRegExpColor","rgba(255, 255, 255, 1)"],["contextMenuArrowColor","rgba(43, 48, 43, 1)"],["contextMenuArrowDownHTML","&#x25BC;"],["contextMenuArrowUpHTML","&#x25B2;"],["contextMenuBackground","rgba(240, 240, 240, 1)"],["contextMenuBorder","solid 1px rgba(158, 163, 169, 1)"],["contextMenuBorderRadius","3px"],["contextMenuChildArrowFontSize","12px"],["contextMenuColor","rgba(43, 48, 43, 1)"],["contextMenuCursor","default"],["contextMenuFilterButtonFontFamily","sans-serif"],["contextMenuFilterButtonFontSize","10px"],["contextMenuFilterInvalidExpresion","rgba(237, 155, 156, 1)"],["contextMenuFontFamily","sans-serif"],["contextMenuFontSize","16px"],["contextMenuHoverBackground","rgba(182, 205, 250, 1)"],["contextMenuHoverColor","rgba(43, 48, 153, 1)"],["contextMenuItemBorderRadius","3px"],["contextMenuItemMargin","2px"],["contextMenuLabelDisplay","inline-block"],["contextMenuLabelMargin","0 3px 0 0"],["contextMenuLabelMaxWidth","700px"],["contextMenuLabelMinWidth","75px"],["contextMenuMarginLeft",3],["contextMenuMarginTop",-3],["contextMenuOpacity","0.98"],["contextMenuPadding","2px"],["contextMenuWindowMargin",30],["contextMenuZIndex",1e4],["cornerCellBackgroundColor","rgba(240, 240, 240, 1)"],["cornerCellBorderColor","rgba(202, 202, 202, 1)"],["debugBackgroundColor","rgba(0, 0, 0, .0)"],["debugColor","rgba(255, 15, 24, 1)"],["debugEntitiesColor","rgba(76, 231, 239, 1.00)"],["debugFont","11px sans-serif"],["debugPerfChartBackground","rgba(29, 25, 26, 1.00)"],["debugPerfChartTextColor","rgba(255, 255, 255, 0.8)"],["debugPerformanceColor","rgba(252, 255, 37, 1.00)"],["debugScrollHeightColor","rgba(248, 33, 103, 1.00)"],["debugScrollWidthColor","rgba(66, 255, 27, 1.00)"],["debugTouchPPSXColor","rgba(246, 102, 24, 1.00)"],["debugTouchPPSYColor","rgba(186, 0, 255, 1.00)"],["display","inline-block"],["editCellBackgroundColor","white"],["editCellBorder","solid 1px rgba(110, 168, 255, 1)"],["editCellBoxShadow","0 2px 5px rgba(0,0,0,0.4)"],["editCellColor","black"],["editCellFontFamily","sans-serif"],["editCellFontSize","16px"],["editCellPaddingLeft",4],["editCellZIndex",1e4],["filterButtonActiveBackgroundColor","rgba(225, 225, 225, 1)"],["filterButtonArrowBorderColor","rgba(195, 199, 202, 1)"],["filterButtonArrowBorderWidth",1],["filterButtonArrowClickRadius",5],["filterButtonArrowColor","rgba(50, 50, 50, 1)"],["filterButtonArrowHeight",5],["filterButtonArrowWidth",8],["filterButtonBackgroundColor","rgba(240, 240, 240, 1)"],["filterButtonBorderColor","rgba(172, 172, 172, 1)"],["filterButtonBorderRadius",3],["filterButtonHeight",20],["filterButtonHoverBackgroundColor","rgba(235, 235, 235, 1)"],["filterButtonMenuOffsetTop",10],["filterButtonWidth",20],["frozenMarkerHoverColor","rgba(165, 198, 254, 1)"],["frozenMarkerHoverBorderColor","rgba(165, 198, 254, 1)"],["frozenMarkerActiveColor","rgba(165, 198, 254, 0.2)"],["frozenMarkerActiveBorderColor","rgba(165, 198, 254, 0.5)"],["frozenMarkerActiveHeaderColor","rgba(165, 198, 254, 1)"],["frozenMarkerColor","rgba(221, 221, 221, 1)"],["frozenMarkerBorderColor","rgba(221, 221, 221, 1)"],["frozenMarkerBorderWidth",1],["frozenMarkerHeaderColor","rgba(188, 188, 188, 1)"],["frozenMarkerWidth",4],["groupingAreaBackgroundColor","rgba(240, 240, 240, 1)"],["gridBackgroundColor","rgba(240, 240, 240, 1)"],["gridBorderCollapse","collapse"],["gridBorderColor","rgba(202, 202, 202, 1)"],["gridBorderWidth",1],["groupIndicatorColor","rgba(155, 155, 155, 1)"],["groupIndicatorBackgroundColor","rgba(255, 255, 255, 1)"],["height","auto"],["maxHeight","inherit"],["maxWidth","inherit"],["minColumnWidth",45],["minHeight","inherit"],["minRowHeight",24],["minWidth","inherit"],["mobileContextMenuMargin",10],["mobileEditInputHeight",30],["mobileEditFontFamily","sans-serif"],["mobileEditFontSize","16px"],["moveOverlayBorderWidth",1],["moveOverlayBorderColor","rgba(66, 133, 244, 1)"],["moveOverlayBorderSegments","12, 7"],["name","default"],["overflowY","auto"],["overflowX","auto"],["reorderMarkerBackgroundColor","rgba(0, 0, 0, 0.1)"],["reorderMarkerBorderColor","rgba(0, 0, 0, 0.2)"],["reorderMarkerBorderWidth",1.25],["reorderMarkerIndexBorderColor","rgba(66, 133, 244, 1)"],["reorderMarkerIndexBorderWidth",2.75],["resizeMarkerColor","rgba(0, 0, 0, 0.2)"],["resizeMarkerSize",2],["rowGroupColumnWidth",25],["rowHeaderCellBackgroundColor","rgba(240, 240, 240, 1)"],["rowHeaderCellBorderColor","rgba(200, 200, 200, 1)"],["rowHeaderCellBorderWidth",1],["rowHeaderCellColor","rgba(50, 50, 50, 1)"],["rowHeaderCellFont","16px sans-serif"],["rowHeaderCellHeight",25],["rowHeaderCellHorizontalAlignment","left"],["rowHeaderCellHoverBackgroundColor","rgba(235, 235, 235, 1)"],["rowHeaderCellHoverColor","rgba(0, 0, 0, 1)"],["rowHeaderCellPaddingBottom",5],["rowHeaderCellPaddingLeft",5],["rowHeaderCellPaddingRight",5],["rowHeaderCellPaddingTop",5],["rowHeaderCellRowNumberGapHeight",5],["rowHeaderCellRowNumberGapColor","rgba(50, 50, 50, 1)"],["rowHeaderCellSelectedBackgroundColor","rgba(217, 217, 217, 1)"],["rowHeaderCellSelectedColor","rgba(50, 50, 50, 1)"],["rowHeaderCellVerticalAlignment","center"],["rowHeaderCellWidth",57],["scrollBarActiveColor","rgba(125, 125, 125, 1)"],["scrollBarBackgroundColor","rgba(240, 240, 240, 1)"],["scrollBarBorderColor","rgba(202, 202, 202, 1)"],["scrollBarBorderWidth",.5],["scrollBarBoxBorderRadius",4.125],["scrollBarBoxColor","rgba(192, 192, 192, 1)"],["scrollBarBoxMargin",2],["scrollBarBoxMinSize",15],["scrollBarBoxWidth",8],["scrollBarCornerBackgroundColor","rgba(240, 240, 240, 1)"],["scrollBarCornerBorderColor","rgba(202, 202, 202, 1)"],["scrollBarWidth",11],["selectionHandleBorderColor","rgba(255, 255, 255, 1)"],["selectionHandleBorderWidth",1.5],["selectionHandleColor","rgba(66, 133, 244, 1)"],["selectionHandleSize",8],["selectionHandleType","square"],["fillOverlayBorderColor","rgba(127, 127, 127, 1)"],["fillOverlayBorderWidth",2],["selectionOverlayBorderColor","rgba(66, 133, 244, 1)"],["selectionOverlayBorderWidth",1],["treeArrowBorderColor","rgba(195, 199, 202, 1)"],["treeArrowBorderWidth",1],["treeArrowClickRadius",5],["treeArrowColor","rgba(155, 155, 155, 1)"],["treeArrowHeight",8],["treeArrowMarginLeft",0],["treeArrowMarginRight",5],["treeArrowMarginTop",6],["treeArrowWidth",13],["treeGridHeight",250],["unhideIndicatorColor","rgba(0, 0, 0, 1)"],["unhideIndicatorBackgroundColor","rgba(255, 255, 255, 1)"],["unhideIndicatorBorderColor","rgba(174, 193, 232, 1)"],["unhideIndicatorSize",16],["width","auto"]]}}r.d(t,{Z:function(){return o}})},251:function(e,t,r){"use strict";function o(e){e.getClippingRect=function(t){var r=e.position(e.parentNode),o=e.position(t),n=e.scrollOffset(e.canvas),l={x:0,y:0,h:0,w:0},i={x:-1/0,y:-1/0,h:1/0,w:1/0},a=e.getColumnHeaderCellHeight(),s=e.getRowHeaderCellWidth();return r.top-=n.top,r.left-=n.left,o.top-=n.top,o.left-=n.left,l.h=r.top+r.height-t.offsetTop-e.style.scrollBarWidth,l.w=r.left+r.width-t.offsetLeft-e.style.scrollBarWidth,l.x=r.left+-1*o.left+s,l.y=r.top+-1*o.top+a,{x:l.x>i.x?l.x:i.x,y:l.y>i.y?l.y:i.y,h:l.h<i.h?l.h:i.h,w:l.w<i.w?l.w:i.w}},e.clipElement=function(t){var r=e.getClippingRect(t);r.w<0&&(r.w=0),r.h<0&&(r.h=0),t.style.clip="rect("+r.y+"px,"+r.w+"px,"+r.h+"px,"+r.x+"px)"},e.scrollOffset=function(t){for(var r=0,o=0,n=document.scrollingElement||{scrollLeft:0,scrollTop:0};t.parentNode&&"CANVAS-DATAGRID"!==t.nodeName&&t!==e.intf;)"canvas-datagrid-tree"!==t.nodeType&&"canvas-datagrid-cell"!==t.nodeType&&(r-=t.scrollLeft,o-=t.scrollTop),t=t.parentNode;return{left:r-n.scrollLeft,top:o-n.scrollTop}},e.resizeEditInput=function(){if(e.input&&e.input.editCell){var t=e.canvas.getBoundingClientRect(),r=e.scrollOffset(e.intf),o="collapse"===e.style.gridBorderCollapse?1:2,n=e.style.cellBorderWidth*o,l=e.getVisibleCellByIndex(e.input.editCell.columnIndex,e.input.editCell.rowIndex)||{x:-100,y:-100,height:0,width:0};if(e.mobile)return e.input.style.left="0",e.input.style.top=e.height-e.style.mobileEditInputHeight-n-1+"px",e.input.style.height=e.style.mobileEditInputHeight+"px",void(e.input.style.width=e.width-n-1+"px");var i=e.getColumnGroupAreaHeight(),a=e.getRowGroupAreaWidth();if(e.parentNode){var s=e.parentNode,c=s.columnGroupsAreaHeight,d=s.rowGroupsAreaWidth;c&&(i+=c),d&&(a+=d)}e.input.style.left=t.left+l.x+e.canvasOffsetLeft-r.left+a+"px",e.input.style.top=t.top+l.y-e.style.cellBorderWidth+e.canvasOffsetTop-r.top+i+"px",e.input.style.height=l.height-n+"px",e.input.style.width=l.width-e.style.cellPaddingLeft+"px",e.clipElement(e.input)}},e.position=function(t,r){for(var o,n,l=0,i=0,a=t,s=!1;t.offsetParent&&"CANVAS-DATAGRID"!==t.nodeName;){var c="canvas-datagrid-tree"===t.nodeType;c&&s||(l+=t.offsetLeft,i+=t.offsetTop,o=t.offsetHeight,n=t.offsetWidth),c&&(s=!0),t=t.offsetParent}return r?{left:l,top:i,height:o,width:n}:(t=a,{left:l+(a=e.scrollOffset(t)).left,top:i+a.top,height:o,width:n})},e.getLayerPos=function(t){var r=e.canvas.getBoundingClientRect(),o={x:t.clientX-r.left,y:t.clientY-r.top};return e.isChildGrid&&(o.x-=e.canvasOffsetLeft,o.y-=e.canvasOffsetTop,e.parentNode.rowGroupsAreaWidth&&(o.x-=e.parentNode.rowGroupsAreaWidth),e.parentNode.columnGroupsAreaHeight&&(o.y-=e.parentNode.columnGroupsAreaHeight)),{x:o.x,y:o.y,rect:r}},e.endEdit=function(t){var r=e.input.editCell,o=r.rowIndex;if(e.dispatchEvent("beforeendedit",{cell:r,newValue:e.input.value,oldValue:r.value,abort:function(){t=!0},input:e.input}))return!1;if(e.input.value!==r.value&&!t){if(e.changes[o]=e.changes[o]||{},e.changes[o][r.header.name]=e.input.value,r.data||(e.originalData[r.boundRowIndex]={},r.data=e.originalData[r.boundRowIndex]),r.data[r.header.name]=e.input.value,o===e.viewData.length){if(e.dispatchEvent("newrow",{value:e.input.value,defaultValue:r.value,aborted:t,cell:r,input:e.input}))return!1;e.addRow(r.data),e.createNewRowData()}e.draw(!0)}return e.input.parentNode&&e.input.parentNode.removeChild(e.input),e.intf.focus(),e.dispatchEvent("endedit",{cell:r,value:e.input.value,aborted:t,input:e.input}),e.input=void 0,!0},e.beginEditAt=function(t,r,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.attributes.editable){e.input&&e.endEdit();var l,i,a,s,c,d=e.getVisibleCellByIndex(t,r);if(e.getSchema(),d&&d.header){if(a=d.header.enum,e.dispatchEvent("beforebeginedit",{cell:d,NativeEvent:o}))return!1;if(e.scrollIntoView(t,r),e.setActiveCell(t,r),l=e.getAdjacentCells(),e.input=a?document.createElement("select"):document.createElement(e.attributes.multiLine?"textarea":"input"),d=e.getVisibleCellByIndex(t,r)){a&&("function"==typeof a?i=a.apply(e.intf,[{cell:d}]):Array.isArray(a)&&(i=a),i.forEach((function(t){var r,o,n=document.createElement("option");Array.isArray(t)?(r=t[0],o=t[1]):(r=t,o=t),r===d.value&&(c=!0),n.value=r,n.innerHTML=o,e.input.appendChild(n)})),c||((s=document.createElement("option")).value=d.value,s.innerHTML=d.value,e.input.appendChild(s)),e.input.addEventListener("change",(function(){e.endEdit(),e.draw(!0)}))),e.dispatchEvent("appendeditinput",{cell:d,input:e.input})||document.body.appendChild(e.input),e.createInlineStyle(e.input,e.mobile?"canvas-datagrid-edit-mobile-input":"canvas-datagrid-edit-input"),e.input.style.position="absolute",e.input.editCell=d,e.resizeEditInput(),e.input.style.zIndex=e.style.editCellZIndex,e.input.style.fontSize=parseInt(e.style.editCellFontSize,10)*e.scale+"px";var u=-1!==[null,void 0].indexOf(d.value)||n;e.input.value=u?"":d.value;var f=Math.round(e.input.value.length*parseInt(e.style.editCellFontSize,10)*.7*e.scale);f+e.style.cellPaddingLeft<d.width?f=d.width-e.style.cellPaddingLeft:f>e.width-d.x-e.style.scrollBarWidth&&(f=e.width-d.x-e.style.scrollBarWidth,e.input.style.height="auto"),e.input.style.width=f+"px",e.input.focus(),e.input.addEventListener("click",e.stopPropagation),e.input.addEventListener("dblclick",e.stopPropagation),e.input.addEventListener("mouseup",e.stopPropagation),e.input.addEventListener("mousedown",e.stopPropagation),e.input.addEventListener("keydown",(function(r){var o=d.columnIndex,i=d.rowIndex;if("Escape"===r.key)e.endEdit(!0),e.draw(!0);else if("Enter"===r.key&&e.attributes.multiLine&&r.altKey)e.input.value=e.input.value+"\n",e.input.scrollTop=e.input.scrollHeight;else if("Enter"===r.key){e.endEdit();var a=r.shiftKey?Math.max(0,i-1):Math.min(i+1,e.viewData.length-1);a!==i&&(e.scrollIntoView(o,a),e.setActiveCell(o,a)),e.draw(!0)}else if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(r.key)&&n){switch(r.key){case"ArrowUp":i=Math.max(0,i-1);break;case"ArrowDown":i=Math.min(i+1,e.viewData.length-1);break;case"ArrowLeft":o=Math.max(o-1,0);break;case"ArrowRight":o=l.right}e.endEdit(),e.scrollIntoView(o,i),e.setActiveCell(o,i),e.draw(!0)}else if("Tab"===r.key){if(r.preventDefault(),!e.endEdit())return;o=r.shiftKey?l.left:l.right,l.left===t&&r.shiftKey&&(o=l.last,i-=1),l.right!==t||r.shiftKey||(o=l.first,i+=1),i<0&&(i=e.viewData.length-1),i>e.viewData.length-1&&(i=0),e.scrollIntoView(o,i),e.beginEditAt(o,i,r)}else{var s=Math.round(e.input.value.length*parseInt(e.style.editCellFontSize,10)*.7*e.scale);s+e.style.cellPaddingLeft<d.width?s=d.width-e.style.cellPaddingLeft:s>e.width-d.x-e.style.scrollBarWidth&&(s=e.width-d.x-e.style.scrollBarWidth,e.input.style.height="auto"),e.input.style.width=s+"px"}})),e.dispatchEvent("beginedit",{cell:d,input:e.input})}}}},e.createInlineStyle=function(t,r){var o={"canvas-datagrid-button-wrapper":{display:"inline-block",padding:e.style.buttonPadding,borderWidth:"1px",borderStyle:"solid",borderColor:e.style.buttonBorderColor,cursor:"pointer",background:e.style.buttonBackgroundColor,userSelect:"none"},"canvas-datagrid-button-wrapper:hover":{borderColor:e.style.buttonBorderColor,background:e.style.buttonHoverBackgroundColor},"canvas-datagrid-button-wrapper:active":{borderColor:e.style.buttonActiveBorderColor,background:e.style.buttonActiveBackgroundColor},"canvas-datagrid-button-icon":{width:"18px",height:"18px",display:"inline-block",verticalAlign:"middle"},"canvas-datagrid-button-arrow":{display:"inline-block",color:e.style.buttonArrowColor,fontSize:"9px"},"canvas-datagrid-button-menu-item-mobile":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,color:"inherit",background:"inherit",margin:e.style.contextMenuItemMargin,borderRadius:e.style.contextMenuItemBorderRadius,verticalAlign:"middle"},"canvas-datagrid-button-menu-item":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,color:"inherit",background:"inherit",margin:e.style.contextMenuItemMargin,borderRadius:e.style.contextMenuItemBorderRadius,verticalAlign:"middle"},"canvas-datagrid-button-menu-item:hover":{background:e.style.contextMenuHoverBackground,color:e.style.contextMenuHoverColor},"canvas-datagrid-button-menu-label":{margin:e.style.contextMenuLabelMargin,display:e.style.contextMenuLabelDisplay,minWidth:e.style.contextMenuLabelMinWidth,maxWidth:e.style.contextMenuLabelMaxWidth},"canvas-datagrid-button-menu-mobile":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,background:e.style.contextMenuBackground,color:e.style.contextMenuColor,border:e.style.contextMenuBorder,padding:e.style.contextMenuPadding,borderRadius:e.style.contextMenuBorderRadius,opacity:e.style.contextMenuOpacity,overflow:"hidden",whiteSpace:"nowrap"},"canvas-datagrid-button-menu":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,background:e.style.contextMenuBackground,color:e.style.contextMenuColor,border:e.style.contextMenuBorder,padding:e.style.contextMenuPadding,borderRadius:e.style.contextMenuBorderRadius,opacity:e.style.contextMenuOpacity,overflow:"hidden",whiteSpace:"nowrap",cursor:e.style.contextMenuCursor},"canvas-datagrid-context-menu-filter-input":{height:"19px",verticalAlign:"bottom",marginLeft:"2px",padding:"0",background:e.style.contextFilterInputBackground,color:e.style.contextFilterInputColor,border:e.style.contextFilterInputBorder,borderRadius:e.style.contextFilterInputBorderRadius,lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextFilterInputFontFamily,fontSize:e.style.contextFilterInputFontSize},"canvas-datagrid-context-menu-filter-button":{height:"19px",verticalAlign:"bottom",marginLeft:"2px",padding:"0",background:e.style.contextMenuBackground,color:e.style.contextMenuColor,border:e.style.contextFilterButtonBorder,borderRadius:e.style.contextFilterButtonBorderRadius,lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFilterButtonFontFamily,fontSize:e.style.contextMenuFilterButtonFontSize},"canvas-datagrid-context-child-arrow":{cssFloat:"right",color:e.style.childContextMenuArrowColor,fontSize:e.style.contextMenuChildArrowFontSize,fontFamily:e.style.contextMenuFontFamily,verticalAlign:"middle"},"canvas-datagrid-autocomplete":{fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,background:e.style.contextMenuBackground,color:e.style.contextMenuColor,border:e.style.contextMenuBorder,padding:e.style.contextMenuPadding,borderRadius:e.style.contextMenuBorderRadius,opacity:e.style.contextMenuOpacity,position:"absolute",zIndex:9999,overflow:"hidden"},"canvas-datagrid-autocomplete-item":{background:e.style.contextMenuBackground,color:e.style.contextMenuColor},"canvas-datagrid-autocomplete-item:hover":{background:e.style.contextMenuHoverBackground,color:e.style.contextMenuHoverColor},"canvas-datagrid-canvas":{position:"absolute",zIndex:"-1"},"canvas-datagrid":{display:"block"},"canvas-datagrid-control-input":{position:"fixed",top:"-5px",left:"-5px",border:"none",opacity:"0",cursor:"pointer",width:"1px",height:"1px",lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize},"canvas-datagrid-edit-mobile-input":{boxSizing:"content-box",outline:"none",margin:"0",padding:"0 0 0 0",lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.mobileEditFontFamily,fontSize:e.style.mobileEditFontSize,border:e.style.editCellBorder,color:e.style.editCellColor,background:e.style.editCellBackgroundColor,appearance:"none",webkitAppearance:"none",mozAppearance:"none",borderRadius:"0"},"canvas-datagrid-edit-input":{boxSizing:"content-box",outline:"none",margin:"0",padding:"0 0 0 "+e.style.editCellPaddingLeft+"px",lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.editCellFontFamily,fontSize:e.style.editCellFontSize,boxShadow:e.style.editCellBoxShadow,border:e.style.editCellBorder,color:e.style.editCellColor,background:e.style.editCellBackgroundColor,appearance:"none",webkitAppearance:"none",mozAppearance:"none",borderRadius:"0"},"canvas-datagrid-context-menu-item-mobile":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,color:"inherit",background:"inherit",margin:e.style.contextMenuItemMargin,borderRadius:e.style.contextMenuItemBorderRadius,verticalAlign:"middle"},"canvas-datagrid-context-menu-item":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,color:"inherit",background:"inherit",margin:e.style.contextMenuItemMargin,borderRadius:e.style.contextMenuItemBorderRadius,verticalAlign:"middle"},"canvas-datagrid-context-menu-item:hover":{background:e.style.contextMenuHoverBackground,color:e.style.contextMenuHoverColor},"canvas-datagrid-context-menu-label":{margin:e.style.contextMenuLabelMargin,display:e.style.contextMenuLabelDisplay,minWidth:e.style.contextMenuLabelMinWidth,maxWidth:e.style.contextMenuLabelMaxWidth},"canvas-datagrid-context-menu-mobile":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,background:e.style.contextMenuBackground,color:e.style.contextMenuColor,border:e.style.contextMenuBorder,padding:e.style.contextMenuPadding,borderRadius:e.style.contextMenuBorderRadius,opacity:e.style.contextMenuOpacity,overflow:"hidden",whiteSpace:"nowrap"},"canvas-datagrid-context-menu":{lineHeight:"normal",fontWeight:"normal",fontFamily:e.style.contextMenuFontFamily,fontSize:e.style.contextMenuFontSize,background:e.style.contextMenuBackground,color:e.style.contextMenuColor,border:e.style.contextMenuBorder,padding:e.style.contextMenuPadding,borderRadius:e.style.contextMenuBorderRadius,opacity:e.style.contextMenuOpacity,overflow:"hidden",whiteSpace:"nowrap",cursor:e.style.contextMenuCursor},"canvas-datagrid-invalid-search-regExp":{background:e.style.contextMenuFilterInvalidExpresion}};o[r]&&(Object.keys(o[r]).map((function(e){t.style[e]=o[r][e]})),t.className=r)},e.appendTo=function(t){e.parentNode=t,e.setDom()},e.setDom=function(){e.isChildGrid?(e.parentGrid=e.parentNode.parentGrid,e.ctx=e.parentGrid.context,e.canvas=e.parentGrid.canvas,e.controlInput=e.parentGrid.controlInput,e.eventParent=e.canvas):(e.controlInput=e.controlInput||document.createElement("input"),e.controlInput.onblur=e.intf.blur,e.createInlineStyle(e.controlInput,"canvas-datagrid-control-input"),e.isChildGrid=!1,e.parentDOMNode=e.parentNode,e.parentIsCanvas=/^canvas$/i.test(e.parentDOMNode.tagName),e.parentIsCanvas?e.canvas=e.parentDOMNode:(e.canvas=document.createElement("canvas"),e.parentDOMNode.appendChild(e.canvas)),document.body.appendChild(e.controlInput),e.createInlineStyle(e.canvas,"canvas-datagrid"),e.ctx=e.canvas.getContext("2d"),e.ctx.textBaseline="alphabetic",e.eventParent=e.canvas),e.parentNodeStyle=e.canvas.style,e.controlInput.setAttribute("readonly",!0),e.controlInput.addEventListener("blur",(function(t){t.target!==e.canvas&&(e.hasFocus=!1)})),e.eventParent.addEventListener("scroll",e.resize,!1),e.eventParent.addEventListener("touchstart",e.touchstart,!1),e.eventParent.addEventListener("mousedown",e.mousedown,!1),e.eventParent.addEventListener("dblclick",e.dblclick,!1),e.eventParent.addEventListener("click",e.click,!1),e.eventParent.addEventListener("mouseup",e.mouseup,!1),window.addEventListener("mousemove",e.mousemove),e[e.isChildGrid?"parentGrid":"eventParent"].addEventListener("wheel",e.scrollWheel,!1),e.canvas.addEventListener("contextmenu",e.contextmenuEvent,!1),e.controlInput.addEventListener("copy",e.copy),e.controlInput.addEventListener("cut",e.cut),e.controlInput.addEventListener("paste",e.paste),e.controlInput.addEventListener("keypress",e.keypress,!1),e.controlInput.addEventListener("keyup",e.keyup,!1),e.controlInput.addEventListener("keydown",e.keydown,!1),window.addEventListener("resize",e.resize)}}r.d(t,{Z:function(){return o}})},305:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var o=r(523);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){n=!0,l=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw l}}return r}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function s(e){var t=[],r=!1,i=0,a=300,s=[],c=[],d=[];function u(e,t,r,o){r=r||1;var n,l=[];for(n=e;n<=t;n+=r)l[n]=void 0===o?n:"function"==typeof o?o(n):o;return l}function f(t,r){if(!(t.length<4)){e.ctx.beginPath(),e.ctx.moveTo(t[0]+e.canvasOffsetLeft,t[1]+e.canvasOffsetTop);for(var o=2;o<t.length;o+=2){var n=t[o]+e.canvasOffsetLeft,l=t[o+1]+e.canvasOffsetTop;e.ctx.lineTo(n,l)}r?e.ctx.fill():e.ctx.stroke()}}function h(e,t,r,o){v(e,t,r,r),y(e,t,r,r);var n=e+.5*r,l=t+.5*r;f([e+.2*r,l,e+.78*r,l]),o&&f([n,t+.22*r,n,t+.8*r])}function g(t,r,o,n,l){var i,a,s,c,d=.2*o,u=.3*o,h=o-2*d,g=o-2*u,m=.5*h;switch(n){case"r":c=[t,r,t+o,r,t+o,r+o,t,r+o],s=[i=t+u,a=r+d,i,a+h,i+g,a+m];break;case"l":c=[t+o,r,t,r,t,r+o,t+o,r+o],s=[i=t+o-u,a=r+d,i,a+h,i-g,a+m];break;case"t":c=[t,r+o,t,r,t+o,r,t+o,r+o],s=[i=t+d,a=r+o-u,i+h,a,i+m,a-g];break;case"b":c=[t,r,t,r+o,t+o,r+o,t+o,r],s=[i=t+d,a=r+u,i+h,a,i+m,a+g]}if(l){e.ctx.strokeStyle=e.style.unhideIndicatorBorderColor,e.ctx.lineWidth=2,f(c),e.ctx.fillStyle=e.style.unhideIndicatorBackgroundColor;var p="r"===n||"b"===n?1:0;"l"===n||"r"===n?v(t-p,r,o+p,o):v(t,r-p,o,o+p)}e.ctx.fillStyle=e.style.unhideIndicatorColor,f(s,!0)}function m(t,r,o){var n=o?r.parentCount:0,l=e.style.cellTreeIconWidth*e.scale,i=e.style.cellTreeIconMarginTop*e.scale,a=e.style.cellTreeIconMarginRight*e.scale,s=e.style.cellTreeIconMarginLeft*e.scale+n*(l+t.paddingLeft),c=t.x+t.paddingLeft+e.canvasOffsetLeft+s,d=t.y+e.canvasOffsetTop+i;if(r.icon){e.ctx.beginPath();var u=e.ctx.fillStyle,f=e.ctx.strokeStyle;t.hovered&&e.hovers.onCellTreeIcon?e.ctx.fillStyle=e.style.cellTreeIconHoverFillColor:e.ctx.fillStyle=e.style.cellTreeIconFillColor,e.ctx.fillRect(c,d,l,l),e.ctx.strokeStyle=e.style.cellTreeIconBorderColor,e.ctx.rect(c,d,l,l),e.ctx.stroke(),e.ctx.beginPath(),r.expand?(e.ctx.moveTo(c+3,d+.5*l),e.ctx.lineTo(c+l-3,d+.5*l)):(e.ctx.moveTo(c+2,d+.5*l),e.ctx.lineTo(c+l-2,d+.5*l),e.ctx.moveTo(c+.5*l,d+2),e.ctx.lineTo(c+.5*l,d+l-2)),e.ctx.lineWidth=e.style.cellTreeIconLineWidth,e.ctx.strokeStyle=e.style.cellTreeIconLineColor,e.ctx.stroke(),e.ctx.strokeStyle=f,e.ctx.fillStyle=u}return s+l+a}function p(t,r,o,n,l){var i=(t+=e.canvasOffsetLeft)+o,a=(r+=e.canvasOffsetTop)+n;e.ctx.beginPath(),e.ctx.moveTo(t+l,r),e.ctx.lineTo(i-l,r),e.ctx.quadraticCurveTo(i,r,i,r+l),e.ctx.lineTo(i,r+n-l),e.ctx.quadraticCurveTo(i,a,i-l,a),e.ctx.lineTo(t+l,a),e.ctx.quadraticCurveTo(t,a,t,a-l),e.ctx.lineTo(t,r+l),e.ctx.quadraticCurveTo(t,r,t+l,r)}function v(t,r,o,n){t+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.fillRect(t,r,o,n)}function y(t,r,o,n){t+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.strokeRect(t,r,o,n)}function x(t,r,o){r+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.fillText(t,r,o)}function w(t){e.ctx.beginPath(),0===t&&(e.ctx.moveTo(e.lastFrozenColumnPixel,e.lastFrozenRowPixel),e.ctx.lineTo(e.lastFrozenColumnPixel,e.height),e.ctx.lineTo(e.width,e.height),e.ctx.lineTo(e.width,e.lastFrozenRowPixel)),1===t&&(e.ctx.moveTo(0,e.lastFrozenRowPixel),e.ctx.lineTo(0,e.height),e.ctx.lineTo(e.width,e.height),e.ctx.lineTo(e.width,e.lastFrozenRowPixel)),2===t&&(e.ctx.moveTo(e.lastFrozenColumnPixel,0),e.ctx.lineTo(e.width,0),e.ctx.lineTo(e.width,e.height),e.ctx.lineTo(e.lastFrozenColumnPixel,e.height)),e.ctx.clip()}function C(t,r,o){if("circle"===e.style.selectionHandleType)return function(t,r,o){t+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.beginPath(),e.ctx.arc(t,r,o,0,2*Math.PI),e.ctx.fill()}(t,r,.5*o);v(t-.5*o,r-.5*o,o,o)}function b(t,r,o){if("circle"===e.style.selectionHandleType)return function(t,r,o){t+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.beginPath(),e.ctx.arc(t,r,o,0,2*Math.PI),e.ctx.stroke()}(t,r,.5*o);y(t-.5*o,r-.5*o,o,o)}function S(t,r){e.ctx.beginPath(),{t:function(){e.ctx.moveTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop),e.ctx.lineTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop)},r:function(){e.ctx.moveTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop),e.ctx.lineTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop+t.height)},b:function(){e.ctx.moveTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop+t.height),e.ctx.lineTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop+t.height)},l:function(){e.ctx.moveTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop),e.ctx.lineTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop+t.height)}}[r](),e.ctx.stroke()}function B(){for(var t=0,r=e.getSchema(),o=0,n=Math.min(e.frozenColumn,r.length),l=e.getCollapsedColumnGroups();o<n;)r[o].hidden||l.findIndex((function(e){return o>=e.from&&o<=e.to}))>=0||(t+=e.getColumnWidth(o)),o+=1;return t}e.htmlImageCache={},e.draw=function(R){if(!e.dispatchEvent("beforedraw",{})&&(e.isChildGrid||e.height&&e.width))if(e.isChildGrid&&R)requestAnimationFrame(e.parentGrid.draw);else if(!1!==e.intf.visible){var I,M,T,k,O,E,z,A,H,P,L,D,F,W,_,j,N,G,V,U,Z,K=e.viewData||[],q="collapse"===e.style.gridBorderCollapse,X=[],Y=[],J=[],$=[],Q=K.length,ee=e.currentCell||{},te=e.getColumnHeaderCellHeight(),re=e.getRowHeaderCellWidth(),oe=e.getRowGroupAreaWidth(),ne=e.getColumnGroupAreaHeight(),le={},ie={},ae={},se=e.getCollapsedColumnGroups(),ce=e.getCollapsedRowGroups(),de=e.style.cellHeight,ue=0,fe=e.hiddenRowRanges.map((function(e){return{from:e[0],plus:e[1]-e[0]+1}})).sort((function(e,t){return e.from-t.from}));i+=1,M=performance.now(),e.visibleRowHeights=[],K.length>e.orders.rows.length&&e.createRowOrders(),e.ctx.save(),function(){e.visibleRows=[],W=e.getSchema(),e.visibleCells=[],e.visibleGroups=[],e.visibleUnhideIndicators=[],e.canvasOffsetTop=e.isChildGrid?e.parentNode.offsetTop:.5,e.canvasOffsetLeft=e.isChildGrid?e.parentNode.offsetLeft:-.5,D=e.height,F=e.width;var t=fe[0];t&&0===t.from&&(ue=t.plus,fe.shift())}(),p(0,0,F,D,0),e.ctx.clip(),e.ctx.fillStyle=e.style.gridBackgroundColor,v(0,0,F,D),e.ctx.translate(oe,ne),function(){var t=Math.min(K.length,e.frozenRow);for(P=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.cellBorderWidth,H=te,_=0;_<t&&pe(e.orders.rows[_],_);_+=1);e.attributes.allowFreezingRows&&(H>te&&(H+=e.style.frozenMarkerWidth),H+=e.style.frozenMarkerBorderWidth-.4999999999),e.lastFrozenRowPixel=H}(),function(){e.ctx.save(),e.frozenRow>0&&(p(0,e.lastFrozenRowPixel,e.width,e.height-e.lastFrozenRowPixel,0),e.ctx.clip());var t,r,o,n=W.length;for(P=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.cellBorderWidth,e.attributes.snapToRow||(H+=-e.scrollBox.scrollTop+e.scrollPixelTop+e.style.cellBorderWidth),_=e.frozenRow+e.scrollIndexTop;_<Q&&(r=e.orders.rows[_],e.scrollIndexBottom=_,e.scrollPixelBottom=H,e.cellTree.rows.length>0&&Object.keys(e.cellTree.rows[r]).length>0&&e.cellTree.rows[r].hide||pe(r,_));_+=1);if(e.attributes.showNewRow){for(e.attributes.showRowHeaders&&(P+=re),z=de=e.style.cellHeight,E=!1,t=e.scrollIndexLeft;t<n&&(he(t)||(o=e.orders.columns[t],P+=me(e.newRow,K.length,K.length)(W[o],o,t)),!(P>e.width+e.scrollBox.scrollLeft));t+=1);$.push([e.newRow,K.length,K.length,H,z])}e.ctx.restore()}(),function(){if(N){e.ctx.save();var t=e.activeCell.columnIndex+1>e.frozenColumn||e.activeCell.rowIndex+1>e.frozenRow;p(t?e.lastFrozenColumnPixel:0,t?e.lastFrozenRowPixel:0,t?e.width-e.lastFrozenColumnPixel:e.width,t?e.height-e.lastFrozenRowPixel:e.height,0),e.ctx.clip(),"row"===e.attributes.selectionMode?e.activeCell&&e.activeCell.rowIndex===N.rowIndex&&(e.ctx.lineWidth=e.style.activeCellOverlayBorderWidth,e.ctx.strokeStyle=e.style.activeCellOverlayBorderColor,y(1,N.y,e.getHeaderWidth()+re,e.visibleRowHeights[N.rowIndex])):(e.ctx.lineWidth=e.style.activeCellOverlayBorderWidth,e.ctx.strokeStyle=e.style.activeCellOverlayBorderColor,y(N.x,N.y,N.width,N.height)),e.ctx.restore()}}(),function(){var t,r,o,n,l,i,a=W.length;function s(i,s){for(s=Math.min(s,a),o=i;o<s&&(r=e.orders.columns[o],(l=W[r]).hidden||he(o)||(t={title:l.title,name:l.name,width:l.width||e.style.cellWidth,style:"columnHeaderCell",type:"string",index:o,order:r},n={columnHeaderCell:l.title||l.name},!((P+=me(n,-1,-1)(t,r,o))>e.width+e.scrollBox.scrollLeft)));o+=1);}$.forEach((function(t,r){H=t[3],de=t[4],r===e.frozenRow&&(e.ctx.save(),p(0,e.lastFrozenRowPixel,e.width,e.height-e.lastFrozenRowPixel,0),e.ctx.clip()),function(t,r,o){if(e.attributes.showRowHeaders){var n;P=0,n=e.viewData&&r<e.viewData.length?e.getBoundRowIndexFromViewRowIndex(r)+1:e.originalData?e.originalData.length+1:o+1;var l=e.hasActiveFilters()||e.hasCollapsedRowGroup()?n:r+1,i={rowHeaderCell:l+=ue},a={name:"rowHeaderCell",width:e.sizes.columns[-1]||e.style.rowHeaderCellWidth,style:"rowHeaderCell",type:"string",data:l,index:-1};if(E=e.openChildren[r],me(i,o,r)(a,-1,-1),fe[0]&&l>=fe[0].from){var s=fe.shift().plus;ue+=s}}}(t[0],t[1],t[2])})),e.ctx.restore(),e.attributes.showColumnHeaders&&(P=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.columnHeaderCellBorderWidth,e.attributes.showRowHeaders&&(P+=re),H=0,de=e.getColumnHeaderCellHeight(),s(e.scrollIndexLeft,a),i=P,P=e.style.columnHeaderCellBorderWidth,e.attributes.showRowHeaders&&(P+=re),s(0,e.frozenColumn),(P=i)<F&&(L={name:"",width:e.style.scrollBarWidth,style:"columnHeaderCellCap",isColumnHeaderCell:!0,isColumnHeaderCellCap:!0,type:"string",index:W.length},me({endCap:""},-1,-1)(L,-1,-1)),e.attributes.showRowHeaders&&(A={cornerCell:""},P=0,L={name:"cornerCell",width:e.style.rowHeaderCellWidth,style:"cornerCell",type:"string",index:-1},me(A,-1,-1)(L,-1,-1)))}(),function(){var t=e.lastFrozenRowPixel-e.style.frozenMarkerWidth,r=e.lastFrozenColumnPixel-e.style.frozenMarkerWidth,o=e.currentCell&&"frozen-row-marker"===e.currentCell.style,n=e.currentCell&&"frozen-column-marker"===e.currentCell.style,l=e.getRowHeaderCellWidth();if(e.ctx.lineWidth=e.style.frozenMarkerBorderWidth,e.attributes.allowFreezingColumns&&((!e.freezeMarkerPosition||e.freezeMarkerPosition&&"frozen-row-marker"===e.dragMode)&&(r>e.style.rowHeaderCellWidth&&(e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,v(r,0,e.style.frozenMarkerWidth,e.height),y(r,0,e.style.frozenMarkerWidth,e.height)),e.ctx.fillStyle=n?e.style.frozenMarkerHoverColor:e.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=n?e.style.frozenMarkerHoverBorderColor:e.style.frozenMarkerHeaderColor,v(r,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),y(r,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight)),(!e.dragStartObject||e.dragStartObject&&"rowHeaderCell"!==e.dragStartObject.style)&&e.visibleCells.unshift({x:r,y:0,height:e.height,width:e.style.frozenMarkerWidth,style:"frozen-column-marker"})),e.attributes.allowFreezingRows){(!e.freezeMarkerPosition||e.freezeMarkerPosition&&"frozen-column-marker"===e.dragMode)&&(t>l&&(e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,v(0,t,e.width,e.style.frozenMarkerWidth),y(0,t,e.width,e.style.frozenMarkerWidth)),e.ctx.fillStyle=o?e.style.frozenMarkerHoverColor:e.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=o?e.style.frozenMarkerHoverBorderColor:e.style.frozenMarkerHeaderColor,v(0,t,l,e.style.frozenMarkerWidth),y(0,t,l,e.style.frozenMarkerWidth));var i=e.style.frozenMarkerWidth+e.style.frozenMarkerBorderWidth;(!e.dragStartObject||e.dragStartObject&&"columnHeaderCell"!==e.dragStartObject.style)&&e.visibleCells.unshift({x:0,y:t,height:i,width:e.width,style:"frozen-row-marker"}),ie={y:t,h:i}}if(e.freezeMarkerPosition)if(e.ctx.fillStyle=e.style.frozenMarkerActiveColor,e.ctx.strokeStyle=e.style.frozenMarkerActiveBorderColor,"frozen-column-marker"===e.dragMode){var a=e.freezeMarkerPosition.x,s=e.getCellAt(a,0);if(e.freezeMarkerPosition.isGrab&&(a=r),a>l){var c=s.x-e.style.frozenMarkerWidth-e.style.frozenMarkerBorderWidth;a>c+s.width/2&&(c+=s.width),e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,v(c,0,e.style.frozenMarkerWidth,e.height),y(c,0,e.style.frozenMarkerWidth,e.height),e.ctx.fillStyle=e.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerHeaderColor,v(c,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),y(c,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight)}e.ctx.fillStyle=e.style.frozenMarkerActiveHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerActiveBorderColor,v(a,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),y(a,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),e.ctx.fillStyle=e.style.frozenMarkerActiveColor,v(a,0,e.style.frozenMarkerWidth,e.height),y(a,0,e.style.frozenMarkerWidth,e.height)}else{var d=e.freezeMarkerPosition.y,u=e.getCellAt(0,d);if(e.freezeMarkerPosition.isGrab&&(d=t),d>e.style.columnHeaderCellHeight){var f=u.y-e.style.frozenMarkerWidth-e.style.frozenMarkerBorderWidth;d>f+u.height/2&&(f+=u.height),e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,v(0,f,e.width,e.style.frozenMarkerWidth),y(0,f,e.width,e.style.frozenMarkerWidth),e.ctx.fillStyle=e.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerHeaderColor,v(0,f,l,e.style.frozenMarkerWidth),y(0,f,l,e.style.frozenMarkerWidth)}e.ctx.fillStyle=e.style.frozenMarkerActiveHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerActiveBorderColor,v(0,d,l,e.style.frozenMarkerWidth),y(0,d,l,e.style.frozenMarkerWidth),e.ctx.fillStyle=e.style.frozenMarkerActiveColor,v(0,d,e.width,e.style.frozenMarkerWidth),y(0,d,e.width,e.style.frozenMarkerWidth)}}(),(e.mobile||e.attributes.allowMovingSelection)&&e.attributes.editable&&(e.ctx.lineWidth=e.style.selectionHandleBorderWidth,e.ctx.strokeStyle=e.style.selectionHandleBorderColor,e.ctx.fillStyle=e.style.selectionHandleColor,J.forEach((function(t){!function(t,r){var o=e.style.selectionHandleSize;({tr:function(){C(t.x+t.width,t.y,o),b(t.x+t.width,t.y,o)},br:function(){C(t.x+t.width,t.y+t.height,o),b(t.x+t.width,t.y+t.height,o)},tl:function(){C(t.x,t.y,o),b(t.x,t.y,o)},bl:function(){C(t.x,t.y+t.height,o),b(t.x,t.y+t.height,o)}})[r]()}(t[0],t[1]);var r=e.attributes.touchSelectHandleZone/2,o=t[0].x+("tl"===t[1]||"bl"===t[1]?0:t[0].width)-r,n=t[0].y+("bl"===t[1]||"br"===t[1]?t[0].height:0)-r;e.visibleCells.unshift({x:o,y:n,height:e.style.selectionHandleSize+r,width:e.style.selectionHandleSize+r,style:"selection-handle-"+t[1]})}))),function(){if(e.reorderObject){var t={height:e.reorderObject.height,width:e.reorderObject.width,x:e.reorderObject.x+e.reorderObject.dragOffset.x,y:e.reorderObject.y+e.reorderObject.dragOffset.y},r={width:F,height:D,x:0,y:0};e.ctx.fillStyle=e.style.reorderMarkerBackgroundColor,e.ctx.lineWidth=e.style.reorderMarkerBorderWidth,e.ctx.strokeStyle=e.style.reorderMarkerBorderColor,"row-reorder"===e.dragMode?(t.height=e.getSelectedRowsHeight(),t.width=F,t.x=0,r.width=F,r.height=e.currentCell.height,r.y=e.currentCell.y,v(t.x,t.y,t.width,t.height),y(t.x,t.y,t.width,t.height),e.ctx.lineWidth=e.style.reorderMarkerIndexBorderWidth,e.ctx.strokeStyle=e.style.reorderMarkerIndexBorderColor,!e.isRowSelected(e.reorderTarget.sortRowIndex)&&e.currentCell.rowIndex!==e.reorderObject.rowIndex&&e.currentCell.rowIndex>-1&&e.currentCell.rowIndex<Q&&S(r,e.reorderTarget.sortRowIndex>e.reorderObject.sortRowIndex?"b":"t")):"column-reorder"===e.dragMode&&e.reorderObject&&(t.width=e.getSelectedColumnsWidth(),t.height=D,t.y=0,r.height=D,r.width=e.currentCell.width,r.y=0,r.x=e.currentCell.x,v(t.x,t.y,t.width,t.height),y(t.x,t.y,t.width,t.height),e.ctx.lineWidth=e.style.reorderMarkerIndexBorderWidth,e.ctx.strokeStyle=e.style.reorderMarkerIndexBorderColor,!e.isColumnSelected(e.reorderTarget.sortColumnIndex)&&e.currentCell.sortColumnIndex!==e.reorderObject.sortColumnIndex&&e.reorderTarget.columnIndex!==e.reorderObject.columnIndex&&e.currentCell.sortColumnIndex>-1&&e.currentCell.sortColumnIndex<W.length&&S(r,e.reorderTarget.columnIndex>e.reorderObject.columnIndex?"r":"l"))}}(),e.movingSelection&&(e.ctx.lineWidth=e.style.moveOverlayBorderWidth,e.ctx.strokeStyle=e.style.moveOverlayBorderColor,e.ctx.setLineDash(e.style.moveOverlayBorderSegments),Y.forEach((function(e){S(e[0],e[1])})),e.ctx.setLineDash([])),function(){if(e.attributes.resizeAfterDragged&&e.draggingItem&&e.pendingDragResize&&("ew-resize"==e.dragMode||"ns-resize"==e.dragMode)){var t="ns-resize"==e.dragMode,r=t?e.style.resizeMarkerSize:e.height,o=t?e.width:e.style.resizeMarkerSize,n=e.dragStart.x-(e.resizingStartingWidth-e.style.minColumnWidth),l=e.dragStart.y-(e.resizingStartingHeight-e.style.minRowHeight),i=t?0:Math.max(e.pendingDragResize.x,n),a=t?Math.max(e.pendingDragResize.y,l):0;e.ctx.fillStyle=e.style.resizeMarkerColor,v(i,a,o,r)}}(),e.ctx.lineWidth=e.style.gridBorderWidth,e.ctx.strokeStyle=e.style.gridBorderColor,y(0,0,e.width,e.height),function(){function t(t){e.fillOverlay.handle||(e.ctx.lineWidth=e.style.selectionOverlayBorderWidth,e.ctx.strokeStyle=e.style.selectionOverlayBorderColor,S(t[0],t[1]))}X.filter((function(t){return t[0].rowIndex<e.frozenRow&&t[0].columnIndex<e.frozenColumn})).forEach(t),e.ctx.save(),w(0),X.filter((function(t){return t[0].rowIndex>=e.frozenRow&&t[0].columnIndex>=e.frozenColumn})).forEach(t),e.ctx.restore(),e.ctx.save(),w(1),X.filter((function(t){return t[0].rowIndex>=e.frozenRow&&t[0].columnIndex<e.frozenColumn})).forEach(t),e.ctx.restore(),e.ctx.save(),w(2),X.filter((function(t){return t[0].rowIndex<e.frozenRow&&t[0].columnIndex>=e.frozenColumn})).forEach(t),e.ctx.restore(),function(){if(e.fillOverlay.handle&&e.fillOverlay.snapTo){e.ctx.save();var t=e.fillOverlay,r=t.handle,o=t.snapTo.x,n=t.snapTo.y,l=t.snap,i="x"===t.direction?l?l.x+(t.x<o?0:l.width):t.x:r.x,a=void 0===t.direction||"y"===t.direction?l?l.y+(t.y<n?0:l.height):t.y:r.y,s=Math.max(Math.min(o,i),t.minX),c=Math.max(Math.min(n,a),t.minY),d=Math.max(o,i)-s,u=Math.max(n,a)-c;e.ctx.strokeStyle=e.style.fillOverlayBorderColor,e.ctx.lineWidth=e.style.fillOverlayBorderWidth,e.ctx.setLineDash([3,3]),y(s,c,d,u),e.ctx.setLineDash([]),e.ctx.restore()}}()}(),V=e.scrollBox.entities,U=2*e.style.scrollBarBoxMargin,e.ctx.strokeStyle=e.style.scrollBarBorderColor,e.ctx.lineWidth=e.style.scrollBarBorderWidth,e.frozenColumn>0?V.horizontalBox.x=re+e.style.scrollBarBoxMargin+e.scrollCache.x[e.frozenColumn-1]+(V.horizontalBar.width-e.scrollCache.x[e.frozenColumn-1]-e.scrollBox.scrollBoxWidth)*(e.scrollBox.scrollLeft/e.scrollBox.scrollWidth):V.horizontalBox.x=re+e.style.scrollBarBoxMargin+(V.horizontalBar.width-e.scrollBox.scrollBoxWidth)*(e.scrollBox.scrollLeft/e.scrollBox.scrollWidth),V.verticalBox.y=te+e.style.scrollBarBoxMargin+e.scrollCache.y[e.frozenRow]+(V.verticalBar.height-e.scrollBox.scrollBoxHeight-e.scrollCache.y[e.frozenRow])*(e.scrollBox.scrollTop/e.scrollBox.scrollHeight),e.scrollBox.horizontalBarVisible&&(e.ctx.fillStyle=e.style.scrollBarBackgroundColor,v(V.horizontalBar.x,V.horizontalBar.y,V.horizontalBar.width+U,V.horizontalBar.height),y(V.horizontalBar.x,V.horizontalBar.y,V.horizontalBar.width+U,V.horizontalBar.height),e.ctx.fillStyle=e.style.scrollBarBoxColor,e.scrollBox.horizontalBoxVisible&&(/horizontal/.test(ee.context)&&(e.ctx.fillStyle=e.style.scrollBarActiveColor),p(V.horizontalBox.x,V.horizontalBox.y,V.horizontalBox.width,V.horizontalBox.height,e.style.scrollBarBoxBorderRadius),e.ctx.stroke(),e.ctx.fill()),G=!0,e.visibleCells.unshift(V.horizontalBar),e.visibleCells.unshift(V.horizontalBox)),e.scrollBox.verticalBarVisible&&(e.ctx.fillStyle=e.style.scrollBarBackgroundColor,v(V.verticalBar.x,V.verticalBar.y,V.verticalBar.width,V.verticalBar.height+U),y(V.verticalBar.x,V.verticalBar.y,V.verticalBar.width,V.verticalBar.height+U),e.scrollBox.verticalBoxVisible&&(e.ctx.fillStyle=e.style.scrollBarBoxColor,/vertical/.test(ee.context)&&(e.ctx.fillStyle=e.style.scrollBarActiveColor),p(V.verticalBox.x,V.verticalBox.y,V.verticalBox.width,V.verticalBox.height,e.style.scrollBarBoxBorderRadius),e.ctx.stroke(),e.ctx.fill()),G=!0,e.visibleCells.unshift(V.verticalBar),e.visibleCells.unshift(V.verticalBox)),G&&(e.ctx.strokeStyle=e.style.scrollBarCornerBorderColor,e.ctx.fillStyle=e.style.scrollBarCornerBackgroundColor,p(V.corner.x,V.corner.y,V.corner.width,V.corner.height,0),e.ctx.stroke(),e.ctx.fill(),e.visibleCells.unshift(V.corner)),I&&e.resize(!0),function(){var t=oe,r=ne,o=B(),n=ie.y+ie.h-te,l="left"===e.attributes.columnGroupIndicatorPosition,i="top"===e.attributes.rowGroupIndicatorPosition,a=e.ctx;a.save(),a.fillStyle=e.style.groupingAreaBackgroundColor,v(0,-r,F,r),v(-t,-r,t,D),a.restore();for(var s=[],c=0;c<e.groupedColumns.length;c++)for(var d=e.groupedColumns[c],u=0;u<d.length;u++)s.push(Object.assign({row:c},d[u]));s.length>0&&function(){for(var n=e.style.columnGroupRowHeight,i=.5*n,c=.5*(n-i),d=function(d){var u=s[d],g=u.row,m=u.collapsed,p=g*n-r,v=p+.5*n,y=p+n-c,x=re-i-c,w=function(e){return h(e,p+c,i,u.collapsed)},C=function(o,n){return e.visibleGroups.push({type:"c",collapsed:m,from:u.from,to:u.to,row:g,x:o+t,y:p+r,x2:n+t,y2:y+r})},b=u.from<e.frozenColumn&&u.to>=e.frozenColumn,S=u.from>=e.frozenColumn;if(m){var B=x+i;if(u.from>0){var R=u.to+1,I=ae[R];if(I)B=I.x+c;else{if(R=u.from-1,!(I=ae[R]))return"continue";B=I.x+I.w-.5*i}if(R>=e.frozenColumn&&B<o+re-c)return"continue"}var M=B+i;a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor,w(B),a.restore(),C(B,M)}var T=void 0,k=ae[u.from],O=ae[u.to],E=!0,z=!0;for(T=u.from;!k&&T<u.to;)k=ae[++T],E=!1;for(T=u.to;!O&&T>u.from;)O=ae[--T],z=!1;if(!k||!O)return"continue";var A=O.x+O.w,H=k.x;if(b){var P=ae[e.frozenColumn-1];if(P){var L=P.x+P.w;l||(L+=i),L>=A&&(A=(O=P).x+O.w,z=!1)}}var D=re+(S?o:0);if(A+(l?0:i)<D)return"continue";A-=c,H+=c,a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor;var F=[];l?(H<(D+=2*c)&&(H=D),0===u.from&&(H-=2*c),A>=H?(F.push(H,v,A,v),z&&F.push(A,y)):A=H,w(H-=i),A+=c-1):(H<D&&(H=D),0===u.from&&(H-=2*c),z&&(u.to===e.frozenColumn-1?A-=i:A+=2*c,w(A)),H>A?H=A:(0===u.from&&(E=!0,H=x+i),E&&F.push(H,y),F.push(H,v,A,v)),H-=c+1,z&&(A+=i)),f(F),a.restore(),C(H,A)},u=0;u<s.length;u++)d(u)}();for(var g=[],m=0;m<e.groupedRows.length;m++)for(var p=e.groupedRows[m],y=0;y<p.length;y++)g.push(Object.assign({col:m},p[y]));g.length>0&&function(){for(var o=e.style.rowGroupColumnWidth,l=.5*o,s=.5*(o-l),c=function(c){var d=g[c],u=d.col,m=d.collapsed,p=u*o-t,v=p+.5*o,y=p+o-s,x=te-l-s,w=function(e){return h(p+s,e,l,d.collapsed)},C=function(o,n){return e.visibleGroups.push({type:"r",collapsed:m,from:d.from,to:d.to,col:u,x:p+t,y:o+r,x2:y+t,y2:n+r})},b=d.from<e.frozenRow&&d.to>=e.frozenRow,S=d.from>=e.frozenRow;if(m){var B=x+l;if(d.from>0){var R=d.to+1,I=le[R];if(I)B=I.y;else{if(R=d.from-1,!(I=le[R]))return"continue";B=I.y+I.h-.5*l}if(R>=e.frozenRow&&B<n+te-s)return"continue"}var M=B+l;a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor,w(B),a.restore(),C(B,M)}var T=void 0,k=le[d.from],O=le[d.to],E=!0,z=!0;for(T=d.from;!k&&T<d.to;)k=le[++T],E=!1;for(T=d.to;!O&&T>d.from;)O=le[--T],z=!1;if(!k||!O)return"continue";var A=O.y+O.h,H=k.y;if(b){var P=le[e.frozenRow-1];if(P){var L=P.y+P.h;i||(L+=l),L>=A&&(A=(O=P).y+O.h,z=!1)}}var D=te+(S?n:0);if(A+(i?0:l)<D)return"continue";A-=s,H+=s,a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor;var F=[];i?(H<(D+=2*s)&&(H=D),0===d.from&&(H-=2*s),A>=H?(F.push(v,H,v,A),z&&F.push(y,A)):A=H,w(H-=l),A+=s-1):(H<D&&(H=D),0===d.from&&(H-=2*s),z&&(d.to===e.frozenRow-1&&(A-=l),w(A)),H>A?H=A:(0===d.from&&(E=!0,H=x+l),E&&F.push(y,H),F.push(v,H,v,A),H-=s+1),z&&(A+=l)),f(F),a.restore(),C(H,A)},d=0;d<g.length;d++)c(d)}()}(),e.ctx.save(),(e.attributes.showPerformance||e.attributes.debug)&&(0===t.length&&(t=u(0,a,1,0)),t.pop(),t.unshift(performance.now()-M)),e.attributes.debug?(e.ctx.font=e.style.debugFont,(Z={}).perf=(t.reduce((function(e,t){return e+t}),0)/Math.min(i,t.length)).toFixed(1),Z.perfDelta=t[0].toFixed(1),Z.frozenColumnsWidth=B(),Z.htmlImages=Object.keys(e.htmlImageCache).length,Z.reorderObject="x: "+(e.reorderObject||{columnIndex:0}).columnIndex+", y: "+(e.reorderObject||{rowIndex:0}).rowIndex,Z.reorderTarget="x: "+(e.reorderTarget||{columnIndex:0}).columnIndex+", y: "+(e.reorderTarget||{rowIndex:0}).rowIndex,Z.scale=e.scale,Z.startScale=e.startScale,Z.scaleDelta=e.scaleDelta,Z.zoomDeltaStart=e.zoomDeltaStart,Z.touchLength=e.touchLength,Z.touches="y0: "+(e.touchPosition||{y:0}).y+" y1: "+(e.touchPosition1||{y:0}).y,Z.scrollBox=e.scrollBox.toString(),Z.scrollIndex="x: "+e.scrollIndexLeft+", y: "+e.scrollIndexTop,Z.scrollPixel="x: "+e.scrollPixelLeft+", y: "+e.scrollPixelTop,Z.canvasOffset="x: "+e.canvasOffsetLeft+", y: "+e.canvasOffsetTop,Z.touchDelta="x: "+e.touchDelta.x+", y: "+e.touchDelta.y,Z.touchAnimateTo="x: "+e.touchAnimateTo.x+", y: "+e.touchAnimateTo.y,Z.scrollAnimation="x: "+e.scrollAnimation.x+", y: "+e.scrollAnimation.y,Z.touchPPS="x: "+e.xPPS+", y: "+e.yPPS,Z.touchPPST="x: "+e.xPPST+", y: "+e.yPPST,Z.touchDuration=e.touchDuration,Z.pointerLockPosition=e.pointerLockPosition?e.pointerLockPosition.x+", "+e.pointerLockPosition.y:"",Z.size="w: "+e.width+", h: "+e.height,Z.mouse="x: "+e.mouse.x+", y: "+e.mouse.y,Z.touch=e.touchStart?"x: "+e.touchStart.x+", y: "+e.touchStart.y:"",Z.entities=e.visibleCells.length,Z.hasFocus=e.hasFocus,Z.dragMode=e.dragMode,e.currentCell&&(Z.columnIndex=e.currentCell.columnIndex,Z.rowIndex=e.currentCell.rowIndex,Z.sortColumnIndex=e.currentCell.sortColumnIndex,Z.sortRowIndex=e.currentCell.sortRowIndex,Z.context=e.currentCell.context,Z.dragContext=e.currentCell.dragContext,Z.style=e.currentCell.style,Z.type=e.currentCell.type),e.ctx.textAlign="right",e.ctx.fillStyle=e.style.debugBackgroundColor,v(0,0,e.width,e.height),Object.keys(Z).forEach((function(t,r){var o=t+": "+Z[t];e.ctx.fillStyle=e.style.debugColor,x(o,F-20,(e.attributes.showPerformance?140:24)+14*r)})),e.ctx.restore()):e.ctx.restore(),function(){if(e.attributes.showPerformance){var r=250,o=e.width-r-e.style.scrollBarWidth-2*e.style.scrollBarBorderWidth,n=te,l=100;0===c.length&&(c=u(0,a,1,(function(){return[0,0]}))),0===d.length&&(d=u(0,a,1,(function(){return[0,0]}))),0===s.length&&(s=u(0,a,1,0)),e.ctx.lineWidth=.5,e.ctx.textAlign="left",e.ctx.font=e.style.debugFont,e.ctx.fillStyle=e.style.debugPerfChartBackground,v(o,n,r,l),[["Scroll Height",c,0,e.scrollBox.scrollHeight,e.style.debugScrollHeightColor,!1],["Scroll Width",c,1,e.scrollBox.scrollWidth,e.style.debugScrollWidthColor,!1],["Performance",t,void 0,200,e.style.debugPerformanceColor,!1],["Entities",s,void 0,1500,e.style.debugEntitiesColor,!1],["TouchPPSX",d,0,1e3,e.style.debugTouchPPSXColor,!0],["TouchPPSY",d,1,1e3,e.style.debugTouchPPSYColor,!0]].forEach((function(e,t){e.push(t),i.apply(null,e)})),e.ctx.fillStyle=e.style.debugPerfChartBackground,s.pop(),s.unshift(e.visibleCells.length),c.pop(),c.unshift([e.scrollBox.scrollTop,e.scrollBox.scrollLeft]),d.pop(),d.unshift([e.yPPS,e.xPPS])}function i(t,i,a,s,c,d,u){var f;!function(t,r,o,n,l,i,a,s,c){var d=t/l.length,u=r/a;o+=e.canvasOffsetLeft,n+=e.canvasOffsetTop,e.ctx.beginPath(),e.ctx.moveTo(o,n+r),l.forEach((function(t){var l,a,s=void 0===i?t:t[i];c&&(s=Math.abs(s)),l=o+d,a=n+r-s*u,e.ctx.lineTo(l,a),o+=d})),e.ctx.moveTo(o+t,n+r),e.ctx.strokeStyle=s,e.ctx.stroke()}(r,l,o,n,i,a,s,c,d),e.ctx.fillStyle=c,v(3+o,n+9+11*u,8,8),e.ctx.fillStyle=e.style.debugPerfChartTextColor,f=void 0!==a?i[0][a]:i[0],x(t+" "+(isNaN(f)?0:f).toFixed(3),14+o,n+16+11*u)}}(),e.dispatchEvent("afterdraw",{})||e.ctx.restore()}function he(e){return se.findIndex((function(t){return e>=t.from&&e<=t.to}))>=0}function ge(t,r,n,l){t.selectionBorder="";var i=l?function(t,r){return(0,o.Nn)(e.selections,t-l.y,r-l.x)}:function(t,r){return(0,o.Nn)(e.selections,t,r)},a=Math.max(W.length-1,0),s=Math.max(K.length-1,0),c=t.isRowHeader,d=t.rowIndex,u=t.columnIndex;!c&&i(d,u)&&(i(d-1,u)&&0!==d||t.isHeader||(r.push([t,"t"]),t[n+"BorderTop"]=!0,t[n+"Border"]+="t"),(d>=s||!i(d+1,u))&&(r.push([t,"b"]),t[n+"BorderBottom"]=!0,t[n+"Border"]+="b"),0!==u&&i(d,u-1)||(r.push([t,"l"]),t[n+"BorderLeft"]=!0,t[n+"Border"]+="l"),(u>=a||!i(d,u+1))&&(r.push([t,"r"]),t[n+"BorderRight"]=!0,t[n+"Border"]+="r"))}function me(t,i,a){var s=e.orders.rows[e.activeCell.rowIndex]===i||e.isRowSelected(i);return function(c,d,u){if(c.hidden)return 0;var f,h,w,C=c.style||"cell",b=/HeaderCell/.test(C),S=/cornerCell/.test(C),B="rowHeaderCell"===C,R="columnHeaderCell"===C,M=e.filterable.rows.includes(a)&&e.filterable.columns.includes(d),O="nowrap"!==e.style.cellWhiteSpace,A=(0,o.Nn)(e.selections,i,u),L=e.hovers.rowIndex===i&&("row"===e.attributes.hoverMode||e.hovers.columnIndex===u),D=e.selectedFilterButton.rowIndex==a&&e.selectedFilterButton.columnIndex==d,_=e.activeCell.rowIndex===i&&e.activeCell.columnIndex===u,j="columnHeaderCellCap"===C,G=t?t[c.name]:void 0,V="canvas-datagrid"===c.type,U=e.formatters[c.type||"string"],Z=0,K=0,$=e.sizes.columns[d]||c.width,Q={value:G,row:t,header:c},ee=!1;if(!(e.orders.columns[e.activeCell.columnIndex]===d||e.isColumnSelected(e.activeCell.viewColumnIndex))&&!s||-1!==u&&-1!==i||(ee=B?"activeRowHeaderCell":"activeColumnHeaderCell"),j&&($=F-P),void 0===$&&($=e.style.cellWidth),$*=e.scale,P+$+e.style.cellBorderWidth<0&&(P+=$+e.style.cellBorderWidth),_&&"cornerCell"!==C&&(C="activeCell"),-1!==e.visibleRows.indexOf(a)||b||e.visibleRows.push(a),w=e.dispatchEvent("formatcellvalue",Q),T=P,k=H,"cornerCell"===C?(T=0,k=0):B?T=0:b&&(k=0),(h={type:V?"canvas-datagrid-cell":c.type,style:C,nodeType:"canvas-datagrid-cell",x:T,y:k,fontHeight:(e.style[C+"FontHeight"]||0)*e.scale,horizontalAlignment:e.style[C+"HorizontalAlignment"],verticalAlignment:e.style[C+"VerticalAlignment"],paddingLeft:(e.style[C+"PaddingLeft"]||0)*e.scale,paddingTop:(e.style[C+"PaddingTop"]||0)*e.scale,paddingRight:(e.style[C+"PaddingRight"]||0)*e.scale,paddingBottom:(e.style[C+"PaddingBottom"]||0)*e.scale,whiteSpace:e.style.cellWhiteSpace,lineHeight:e.style.cellLineHeight,lineSpacing:e.style.cellLineSpacing,offsetTop:e.canvasOffsetTop+k,offsetLeft:e.canvasOffsetLeft+T,scrollTop:e.scrollBox.scrollTop,scrollLeft:e.scrollBox.scrollLeft,active:_||ee,hovered:L,selected:A,width:$,height:de,offsetWidth:$,offsetHeight:de,parentNode:e.intf.parentNode,offsetParent:e.intf.parentNode,data:t,isCorner:S,isHeader:b,isColumnHeader:R,isColumnHeaderCellCap:j,isRowHeader:B,isFilterable:M,openedFilter:D,rowOpen:E,header:c,columnIndex:u,rowIndex:i,viewRowIndex:i,viewColumnIndex:u,boundRowIndex:e.getBoundRowIndexFromViewRowIndex(i),boundColumnIndex:e.getBoundColumnIndexFromViewColumnIndex(u),sortColumnIndex:d,sortRowIndex:a,isGrid:V,isNormal:!V&&!S&&!b,gridId:(e.attributes.name||"")+a+":"+d,parentGrid:e.intf,innerHTML:"",activeHeader:ee,value:b&&!B?c.title||c.name:G,isRowTree:i>=0&&u==e.cellTree.rowTreeColIndex&&e.cellTree.rows.length>0&&e.cellTree.rows[i].icon,isColumnTree:u>=0&&e.cellTree.columns[i]&&e.cellTree.columns[i][u].icon}).calculatedLineHeight=h.fontHeight*h.lineHeight+h.lineSpacing,h.paddedWidth=h.width-h.paddingRight-h.paddingLeft,h.paddedHeight=h.height-h.paddingTop-h.paddingBottom,Q.cell=h,h.userHeight=h.isHeader?e.sizes.rows[-1]:z,h.userWidth=h.isHeader?e.sizes.columns.cornerCell:e.sizes.columns[d],e.visibleCells.unshift(h),function(e){var t=e.boundRowIndex;if(t>=-1==0){if(-1!==e.rowIndex)return;t=-1}le[t]||(le[t]={y:e.y,h:e.height})}(h),function(e){var t=e.columnIndex;ae[t]||(ae[t]={x:e.x,w:e.width})}(h),!e.dispatchEvent("beforerendercell",Q)){if(e.ctx.fillStyle=e.style[C+"BackgroundColor"],e.ctx.strokeStyle=e.style[C+"BorderColor"],e.ctx.lineWidth=e.style[C+"BorderWidth"],L&&(e.ctx.fillStyle=e.style[C+"HoverBackgroundColor"],e.ctx.strokeStyle=e.style[C+"HoverBorderColor"]),A&&(e.ctx.fillStyle=e.style[C+"SelectedBackgroundColor"],e.ctx.strokeStyle=e.style[C+"SelectedBorderColor"]),ee&&(e.ctx.fillStyle=e.style[ee+"BackgroundColor"]),e.dispatchEvent("rendercell",Q),h.isGrid&&(h.height!==z&&(h.height=z||e.style.cellHeightWithChildGrid,I=!0),h.width=e.sizes.columns[d]||e.style.cellWidthWithChildGrid),E&&!h.isRowHeader&&(h.height=e.sizes.rows[a]||e.style.cellHeight),h.isGrid||(v(T,k,h.width,h.height),y(T,k,h.width,h.height)),e.ctx.save(),p(h.x,h.y,h.width,h.height,0),e.ctx.clip(),e.dispatchEvent("afterrendercell",Q),h.height===de||E&&!h.isRowHeader||(e.sizes.rows[b?-1:a]=h.height,I=!0),h.width!==$&&(e.sizes.columns[d]=h.width,I=!0),B&&e.attributes.tree&&(e.dispatchEvent("rendertreearrow",Q)||(K=function(t,r,o){var n=e.style.treeArrowMarginTop*e.scale,l=e.style.treeArrowMarginRight*e.scale,i=e.style.treeArrowMarginLeft*e.scale,a=e.style.treeArrowWidth*e.scale,s=e.style.treeArrowHeight*e.scale;return r+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.fillStyle=e.style.treeArrowColor,e.ctx.strokeStyle=e.style.treeArrowBorderColor,e.ctx.beginPath(),r+=i,o+=n,e.openChildren[t.rowIndex]?(e.ctx.moveTo(r,o),e.ctx.lineTo(r+a,o),e.ctx.lineTo(r+.5*a,o+s),e.ctx.moveTo(r,o)):(e.ctx.lineTo(r,o),e.ctx.lineTo(r+s,o+.5*a),e.ctx.lineTo(r,o+a),e.ctx.lineTo(r,o)),e.ctx.stroke(),e.ctx.fill(),i+a+l}(h,e.style[C+"PaddingLeft"],k))),e.attributes.showRowNumbers&&B||!B)if(h.isGrid&&!e.dispatchEvent("beforerendercellgrid",Q)){if(!e.childGrids[h.gridId]){if((f=e.cellGridAttributes).name=e.attributes.saveAppearance?h.gridId:void 0,f.component=!1,f.parentNode=h,f.data=G,Q.cellGridAttributes=f,e.dispatchEvent("beforecreatecellgrid",Q))return;e.childGrids[h.gridId]=e.createGrid(f),e.sizes.rows[a]=e.sizes.rows[a]||e.style.cellGridHeight,I=!0}h.grid=e.childGrids[h.gridId],h.grid.parentNode=h,h.grid.visible=!0,h.grid.draw(),e.dispatchEvent("rendercellgrid",Q)}else if(!h.isGrid&&(e.childGrids[h.gridId]&&(e.childGrids[h.gridId].parentNode.offsetHeight=0),b&&e.orderBy===c.name&&(e.dispatchEvent("renderorderbyarrow",Q)||(Z=function(t,r){var o=e.style.columnHeaderOrderByArrowMarginTop*e.scale,n=e.style.columnHeaderOrderByArrowMarginLeft*e.scale,l=e.style.columnHeaderOrderByArrowMarginRight*e.scale,i=e.style.columnHeaderOrderByArrowWidth*e.scale,a=e.style.columnHeaderOrderByArrowHeight*e.scale;return t+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.fillStyle=e.style.columnHeaderOrderByArrowColor,e.ctx.strokeStyle=e.style.columnHeaderOrderByArrowBorderColor,e.ctx.beginPath(),t+=n,r+=o,"asc"===e.orderDirection?(e.ctx.lineTo(t,r+a),e.ctx.lineTo(t+i,r+a),e.ctx.lineTo(t+.5*i,r),e.ctx.lineTo(t,r+a)):(e.ctx.moveTo(t,r),e.ctx.lineTo(t+i,r),e.ctx.lineTo(t+.5*i,r+a),e.ctx.moveTo(t,r)),e.ctx.stroke(),e.ctx.fill(),n+i+l}(T+e.style[C+"PaddingLeft"],0))),e.ctx.fillStyle=e.style[C+"Color"],L&&(e.ctx.fillStyle=e.style[C+"HoverColor"]),A&&(e.ctx.fillStyle=e.style[C+"SelectedColor"]),ee&&(e.ctx.fillStyle=e.style[ee+"Color"]),h.treeArrowWidth=K,h.orderByArrowWidth=Z,void 0!==(w=void 0!==w?w:U?U(Q):"")||U||(w="",console.warn("canvas-datagrid: Unknown format "+c.type+" add a cellFormater")),h.formattedValue=(null!=w?w:"").toString(),e.columnFilters&&void 0!==e.columnFilters[w]&&b&&(h.formattedValue=e.attributes.filterTextPrefix+w),e.ctx.font=e.style[C+"FontHeight"]*e.scale+"px "+e.style[C+"FontName"],e.dispatchEvent("formattext",Q)||(h.text=function(t,r){if(!t.formattedValue)return{lines:[{width:0,value:""}],width:0,height:t.calculatedLineHeight};var o,n,i,a,s,c,d=t.formattedValue.split(" "),u=t.calculatedLineHeight,f=[],h="nowrap"!==e.style.cellWhiteSpace,g=e.attributes.autoResizeRows&&h,m=e.attributes.ellipsisText,p={width:0,value:""},v=h?t.paddedHeight:t.calculatedLineHeight;for(f.push(p),i=e.ctx.measureText(" "+m).width,o=0;o<d.length;o+=1){var y="-"===(n=d[o])[n.length-1]?"":" ",x=e.ctx.measureText(n+y);if(p.width+x.width+i<t.paddedWidth)p.value+=n+y,p.width+=x.width;else if(/\w-\w/.test(n)&&t.paddedWidth<x.width){var w=n.split("-");w=w.map((function(e,t){return t===w.length-1?e:e+"-"})),d.splice.apply(d,[o,1].concat(l(w))),o-=1}else{if(p={width:x.width,value:n+y},0===o&&(f=[]).push(p),(u+=t.calculatedLineHeight)>v&&!g){if(0===f.length)break;if((c=f[f.length-1]).width<t.paddedWidth&&1===d.length)break;var C=s=c.value+n;if((a=e.ctx.measureText(s+m).width)>t.paddedWidth)for(var b=parseInt(s.length/2),S=-1;b>0;)s=C.substr(0,b*S+s.length),S=(a=e.ctx.measureText(s+m).width)>t.paddedWidth?-1:1,b=parseInt(b/2);s+=C.length!=s.length?m:"",c.value=s,c.width=a;break}o>0&&f.push(p)}}return{lines:f,width:0,height:t.calculatedLineHeight*f.length}}(h)),!e.dispatchEvent("rendertext",Q))){if(h.innerHTML||"html"===c.type)!function(t){var o,n=t.innerHTML||t.formattedValue,l=n.toString()+t.rowIndex.toString()+t.columnIndex.toString(),i=Math.round(t.x+e.canvasOffsetLeft),a=Math.round(t.y+e.canvasOffsetTop);if(e.htmlImageCache[l]){if(o=e.htmlImageCache[l].img,e.htmlImageCache[l].height===t.height&&e.htmlImageCache[l].width===t.width){if(!o.complete)return;return e.ctx.drawImage(o,i,a)}e.htmlImageCache[l]=void 0}else r=!1;o=new Image(t.width,t.height),e.htmlImageCache[l]={img:o,width:t.width,height:t.height},o.onload=function(){var t;e.ctx.drawImage(o,i,a),t=!0,Object.keys(e.htmlImageCache).forEach((function(r){e.htmlImageCache[r].img.complete||(t=!1)})),t&&!r&&(r=!0,e.draw())},o.src="data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+t.width+'" height="'+t.height+'">\n<foreignObject class="node" x="0" y="0" width="100%" height="100%">\n<body xmlns="http://www.w3.org/1999/xhtml" style="margin:0;padding:0;">\n'+n+"\n</body></foreignObject>\n</svg>\n")}(h);else{var te=0,re=!0;if(h.columnIndex==e.cellTree.rowTreeColIndex&&!h.isColumnHeader&&e.cellTree.rows.length>0&&Object.keys(e.cellTree.rows[h.rowIndex]).length>1&&(te=m(h,e.cellTree.rows[h.rowIndex],!0)),!h.isRowHeader&&h.rowIndex>0&&e.cellTree.columns[h.rowIndex-1]&&e.cellTree.columns[h.rowIndex-1][h.columnIndex].icon)for(var oe=h.rowIndex-1;oe>=0&&e.cellTree.columns[oe]&&e.cellTree.columns[oe][h.columnIndex].icon;oe--)if(!e.cellTree.columns[oe][h.columnIndex].expand){re=!1;break}re&&!h.isRowHeader&&e.cellTree.columns[h.rowIndex]&&e.cellTree.columns[h.rowIndex][h.columnIndex].icon&&e.viewData.length>0&&e.viewData[h.rowIndex][h.columnIndex].length>0&&(te=m(h,e.cellTree.columns[h.rowIndex][h.columnIndex],!1)),re&&function(t){var r,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=(t.text.lines.length,t.fontHeight*t.lineHeight),i="nowrap"!==e.style.cellWhiteSpace,a=0;for(r=0;r<t.text.lines.length;r+=1){o=t.text.lines[r];var s=Math.max(.5*(t.height-(i?t.text.height:t.calculatedLineHeight)),0)+l,c=t.paddingLeft+n+t.treeArrowWidth+t.orderByArrowWidth;"right"===t.horizontalAlignment?c=t.paddingLeft+n+t.paddedWidth-o.width:"center"===t.horizontalAlignment&&(c=t.paddingLeft+n+(t.paddedWidth+t.paddingRight)/2-o.width/2),"top"===t.verticalAlignment?s=t.calculatedLineHeight:"bottom"===t.verticalAlignment&&(s=t.height-t.paddingBottom-t.text.height),o.height=l+t.lineSpacing,o.offsetLeft=c,o.offsetTop=s,o.x=t.x+c,o.y=t.y+a+s,a+=o.height,x(o.value,o.x,o.y)}e.attributes.debug&&t.active&&requestAnimationFrame((function(){e.ctx.font=e.style.debugFont,e.ctx.fillStyle=e.style.debugColor,x(JSON.stringify({x:t.x,y:t.y,h:t.height,w:t.width,pw:t.paddedWidth,idx:t.columnIndex,idx_ord:t.sortColumnIndex},null,"\t"),t.x+14,t.y+14),x(JSON.stringify(t.text.lines.map((function(e){return{w:e.width,v:e.value.length}})),null,"\t"),t.x+14,t.y+30)}))}(h,te)}O&&h.text&&h.text.height>z&&(e.sizes.rows[b?-1:a]=h.text.height,I=!0)}_&&(N=h),ge(h,X,"selection"),function(t){(e.attributes.allowMovingSelection||e.mobile)&&(t.selectionBorderTop&&t.selectionBorderRight&&e.mobile&&(J.push([t,"tr"]),t.selectionHandle="tr"),t.selectionBorderTop&&t.selectionBorderLeft&&(e.mobile&&(J.push([t,"tl"]),t.selectionHandle="tl"),e.fillOverlay.handle&&(e.fillOverlay.snapTo={x:t.x,y:t.y})),t.selectionBorderBottom&&t.selectionBorderLeft&&e.mobile&&(J.push([t,"bl"]),t.selectionHandle="bl"),t.selectionBorderBottom&&t.selectionBorderRight&&("none"!==e.attributes.selectionHandleBehavior||e.mobile)&&(J.push([t,"br"]),t.selectionHandle="br",e.fillOverlay.handle&&(e.fillOverlay.handle.x=t.x+t.width,e.fillOverlay.handle.y=t.y+t.height)),e.fillOverlay.handle&&(-1===e.fillOverlay.snapTo.x&&t.selectionBorderLeft&&(e.fillOverlay.snapTo.x=t.x),-1===e.fillOverlay.snapTo.y&&t.selectionBorderTop&&(e.fillOverlay.snapTo.y=t.y)))}(h),e.movingSelection&&ge(h,Y,"move",e.moveOffset),e.ctx.restore(),M&&function(t,r){var o=t.x+t.width-e.style.filterButtonWidth-1,n=t.y+t.height-e.style.filterButtonHeight-2;e.dispatchEvent("beforerenderfilterbutton",r)||(e.ctx.save(),e.ctx.strokeStyle=e.style.filterButtonBorderColor,e.ctx.fillStyle=e.style.filterButtonBackgroundColor,t.openedFilter?e.ctx.fillStyle=e.style.filterButtonActiveBackgroundColor:t.hovered&&e.hovers.onFilterButton&&(e.ctx.fillStyle=e.style.filterButtonHoverBackgroundColor),p(o,n,e.style.filterButtonWidth,e.style.filterButtonHeight,e.style.filterButtonBorderRadius),e.ctx.stroke(),e.ctx.fill(),function(t,r){var o=(e.style.filterButtonHeight-e.style.filterButtonArrowHeight)/2*e.scale,n=(e.style.filterButtonWidth-e.style.filterButtonArrowWidth)/2*e.scale,l=e.style.filterButtonArrowWidth*e.scale,i=e.style.filterButtonArrowHeight*e.scale;t+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.fillStyle=e.style.filterButtonArrowColor,e.ctx.strokeStyle=e.style.filterButtonArrowBorderColor,e.ctx.beginPath(),t+=n,r+=o,e.ctx.moveTo(t,r),e.ctx.lineTo(t+l,r),e.ctx.lineTo(t+.5*l,r+i),e.ctx.moveTo(t,r),e.ctx.stroke(),e.ctx.fill()}(o,n),e.ctx.clip(),e.dispatchEvent("afterrenderfilterbutton",r),e.ctx.restore())}(h);var ne=e.orderings.columns&&e.orderings.columns.length>0;if(B&&e.attributes.showRowNumbers&&e.attributes.showRowNumberGaps&&!1===ne){var ie=e.getBoundRowIndexFromViewRowIndex(i-1),se=void 0!==ie&&h.boundRowIndex>0&&h.boundRowIndex-ie>1;if(se&&ce.length>0&&(se=ce.find((function(e){return e.from===ie&&e.to===h.boundRowIndex}))>=0),se&&e.hiddenRowRanges.length>0)for(var fe=0;fe<e.hiddenRowRanges.length;fe++){var he=n(e.hiddenRowRanges[fe],2),me=he[0],pe=he[1];if(h.boundRowIndex===pe+1&&ie===me-1){se=!1;break}}if(se){var ve=e.style.rowHeaderCellRowNumberGapHeight,ye=e.style.rowHeaderCellRowNumberGapColor;e.ctx.save(),e.ctx.fillStyle=ye,v(h.x,h.y-ve/2,h.width,ve),e.ctx.restore()}}if(R&&e.attributes.showUnhideColumnsIndicator){var xe,we,Ce=e.hovers.unhideIndicator,be=e.style.unhideIndicatorSize,Se=P,Be=h.y+Math.max(.5*(h.height-be),0),Re=function(e){return Ce&&("l"===Ce.dir||"r"===Ce.dir)&&e>=Ce.orderIndex0&&e<=Ce.orderIndex1},Ie=function(e){return e>=0&&W[e]&&W[e].hidden},Me=function(t,r,o){if(e.visibleUnhideIndicators.push({x:t-1,y:Be-1,x2:t+be+2,y2:Be+be+2,orderIndex0:xe,orderIndex1:we,dir:r}),!o){var n=h.text&&h.text.lines&&h.text.lines[0];if(n){var l=Z+K,i=l>0?l:n.x,a=n.x+n.width;if(t+be>=i&&t<=a)return}}g(t,Be,be,r,o)},Te=u-1,ke=e.orders.columns[Te];if(Ie(ke)){var Oe=Re(ke);for(xe=Te,we=Te;--Te>=0&&Ie(e.orders.columns[Te]);)xe=Te;Me(Se,"r",Oe)}Te=u+1;var Ee=e.orders.columns[Te];if(Ie(Ee)){var ze=Re(Ee);for(xe=Te,we=Te;++Te<e.orders.columns.length&&Ie(e.orders.columns[Te]);)we=Te;Me(P+h.width-be,"l",ze)}}if(B&&e.attributes.showUnhideRowsIndicator&&e.hiddenRowRanges.length>0){var Ae=e.hovers.unhideIndicator,He=e.style.unhideIndicatorSize,Pe=h.x+h.width-He-2,Le=H,De={},Fe={};e.hiddenRowRanges.forEach((function(e){De[e[0]-1]=e,Fe[e[1]+1]=e}));var We,_e,je=h.rowIndex+ue,Ne=function(){return Ae&&("t"===Ae.dir||"b"===Ae.dir)&&je>=Ae.orderIndex0-1&&je<=Ae.orderIndex1+1},Ge=function(t,r,o){e.visibleUnhideIndicators.push({x:Pe-1,y:t-1,x2:Pe+He+2,y2:t+He+2,orderIndex0:We,orderIndex1:_e,dir:r}),g(Pe,t,He,r,o)},Ve=De[je];if(Ve){var Ue=Le+h.height-He,Ze=n(Ve,2);We=Ze[0],_e=Ze[1],Ge(Ue,"t",Ne())}if(Ve=Fe[je]){var Ke=Le,qe=n(Ve,2);We=qe[0],_e=qe[1],Ge(Ke,"b",Ne())}}return P+=h.width+(q?0:e.style.cellBorderWidth),h.width}}}function pe(t,r){var o,n,l,i,a=W.length;if(H-2*de>D)return!1;if(j=K[t],E=e.openChildren[t],l=(e.sizes.rows[t]||e.style.cellHeight)*e.scale,n=(E?e.sizes.trees[t]:0)*e.scale,H<-(z=l+n))return!1;for(e.attributes.showRowHeaders&&(P+=re),de=z,i=e.scrollIndexLeft;i<a;i+=1)if(he(i)||(o=e.orders.columns[i],P+=me(j,t,r)(W[o],o,i)),P>e.width){e.scrollIndexRight=i,e.scrollPixelRight=P;break}for(P=1,e.attributes.showRowHeaders&&(P+=re),i=0;i<e.frozenColumn&&(he(i)||(o=e.orders.columns[i],P+=me(j,t,r)(W[o],o,i)),!(P>e.width));i+=1);if(e.lastFrozenColumnPixel=P,de=z,P=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.cellBorderWidth,O=e.childGrids[t],t!==K.length&&E){if(O.visible=!0,O.parentNode={offsetTop:H+l+e.canvasOffsetTop,offsetLeft:re-1+e.canvasOffsetLeft,offsetHeight:n,offsetWidth:e.width-re-e.style.scrollBarWidth-1,offsetParent:e.intf.parentNode,parentNode:e.intf.parentNode,style:e.style,nodeType:"canvas-datagrid-tree",scrollTop:e.scrollBox.scrollTop,scrollLeft:e.scrollBox.scrollLeft,rowIndex:t,columnGroupsAreaHeight:ne,rowGroupsAreaWidth:oe},e.intf.parentNode){var s=e.intf.parentNode,c=s.columnGroupsAreaHeight,d=s.rowGroupsAreaWidth;O.parentNode.columnGroupsAreaHeight+=c||0,O.parentNode.rowGroupsAreaWidth+=d||0}e.visibleCells.unshift({rowIndex:t,columnIndex:0,y:O.parentNode.offsetTop,x:O.parentNode.offsetLeft,height:O.height,width:O.width,style:"tree-grid",type:O.parentNode.nodeType}),O.draw()}else O&&(O.parentNode.offsetHeight=0,delete e.sizes.trees[t]);return $.push([j,t,r,H,z]),e.visibleRowHeights[t]=z,H+=de+(q?0:e.style.cellBorderWidth),!0}}}},255:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var o=r(155),n=r.n(o),l=r(172);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t;e.stopPropagation=function(e){e.stopPropagation()},e.addEventListener=function(t,r){e.events[t]=e.events[t]||[],e.events[t].unshift(r)},e.removeEventListener=function(t,r){(e.events[t]||[]).forEach((function(o,n){r===o&&e.events[t].splice(n,1)}))},e.dispatchEvent=function(t,r){var o;function n(){o=!0}if(r=t.type?t:r||{},t=t.type||t,e.events[t])return e.events[t].forEach((function(t){r.ctx=e.ctx,r.preventDefault=n,t.apply(e.intf,[r])})),o},e.getRatio=function(){return Math.min(e.attributes.maxPixelRatio,(window.devicePixelRatio||1)/(e.ctx.webkitBackingStorePixelRatio||e.ctx.mozBackingStorePixelRatio||e.ctx.msBackingStorePixelRatio||e.ctx.oBackingStorePixelRatio||e.ctx.backingStorePixelRatio||1))},e.refreshScrollCacheX=function(){var t=e.getSchema();e.scrollCache.x=[];var r=0,o=e.getCollapsedColumnGroups();return t.reduce((function(n,l,i){var a=e.orders.columns[i],s=e.getColumnWidth(a);return t[a].hidden||function(e){return o.findIndex((function(t){return e>=t.from&&e<=t.to}))>=0}(i)||(n+=s),i<e.frozenColumn?(e.scrollCache.x[i]=n,r=n):e.scrollCache.x[i]=Math.max(r+s,n),n}),0)||0},e.resize=function(t){if(e.canvas){var r,o,n={x:0,y:0,height:0,width:0,style:"vertical-scroll-bar"},l={x:0,y:0,height:0,width:0,style:"horizontal-scroll-bar"},i={x:0,y:0,height:0,width:0,style:"vertical-scroll-box"},a={x:0,y:0,height:0,width:0,style:"horizontal-scroll-box"},s={x:0,y:0,height:0,width:0,isCorner:!0,isScrollBoxCorner:!0,style:"scroll-box-corner"},c=2*e.style.scrollBarBoxMargin,d=2*e.style.scrollBarBorderWidth,u=.5*e.style.scrollBarBoxMargin,f=e.style.scrollBarWidth+2*e.style.scrollBarBorderWidth,h=e.getRatio(),g="collapse"===e.style.gridBorderCollapse?1:2,m=e.style.cellBorderWidth*g,p=e.style.columnHeaderCellBorderWidth*g,v=0,y=0,x=(e.viewData||[]).length,w=e.getColumnHeaderCellHeight(),C=e.getRowHeaderCellWidth(),b=e.getColumnGroupAreaHeight(),S=e.getRowGroupAreaWidth(),B=e.style.cellHeight;for(y=e.refreshScrollCacheX(),e.scrollCache.y=[],r=0;r<x;r+=1)e.scrollCache.y[r]=v,v+=((e.sizes.rows[r]||B)+(e.sizes.trees[r]||0))*e.scale+(e.frozenRow>r&&e.sizes.trees[r]||0);if(x>1&&(e.scrollCache.y[r]=v),e.attributes.showNewRow&&(v+=B),e.attributes.snapToRow&&(v+=e.style.cellHeight),k(),e.isChildGrid?(e.width=e.parentNode.offsetWidth,e.height=e.parentNode.offsetHeight):e.height===e.canvas.offsetHeight&&e.width===e.canvas.offsetWidth||(e.height=e.canvas.offsetHeight,e.width=e.canvas.offsetWidth,e.canvasOffsetLeft=e.args.canvasOffsetLeft||0,e.canvasOffsetTop=e.args.canvasOffsetTop||0),e.scrollBox.top=w+b+p,e.scrollBox.left=C+S,T(),M(),e.scrollBox.horizontalBarVisible&&("auto"!==e.style.height||e.isChildGrid||(e.height+=f),v+=f,k(),T(),M()),e.scrollBox.verticalBarVisible&&("auto"!==e.style.width||e.isChildGrid||(e.width+=f),y+=f,k(),T(),M()),T(),e.scrollBox.scrollWidth=y-e.scrollBox.width,e.scrollBox.scrollHeight=v-e.scrollBox.height,e.frozenColumn>0?e.scrollBox.widthBoxRatio=(e.scrollBox.width-e.scrollCache.x[e.frozenColumn-1])/y:e.scrollBox.widthBoxRatio=e.scrollBox.width/y,e.scrollBox.scrollBoxWidth=e.scrollBox.width*e.scrollBox.widthBoxRatio-e.style.scrollBarWidth-d-u,e.scrollBox.heightBoxRatio=(e.scrollBox.height-w-b-e.scrollCache.y[e.frozenRow])/v,e.scrollBox.scrollBoxHeight=e.scrollBox.height*e.scrollBox.heightBoxRatio-e.style.scrollBarWidth-d-u,e.scrollBox.scrollBoxWidth=Math.max(e.scrollBox.scrollBoxWidth,e.style.scrollBarBoxMinSize),e.scrollBox.scrollBoxHeight=Math.max(e.scrollBox.scrollBoxHeight,e.style.scrollBarBoxMinSize),l.x+=C,l.y+=e.height-e.style.scrollBarWidth-u-b,l.width=e.width-e.style.scrollBarWidth-C-S-u-c,l.height=e.style.scrollBarWidth+e.style.scrollBarBorderWidth+u,a.y=l.y+e.style.scrollBarBoxMargin,a.width=e.scrollBox.scrollBoxWidth,a.height=e.style.scrollBarBoxWidth,n.x+=e.width-S-e.style.scrollBarWidth-e.style.scrollBarBorderWidth-u,n.y+=w+e.scrollCache.y[e.frozenRow],n.width=e.style.scrollBarWidth+e.style.scrollBarBorderWidth+u,n.height=e.height-w-b-e.style.scrollBarWidth-u-c,i.x=n.x+e.style.scrollBarBoxMargin,i.y+=e.scrollCache.y[e.frozenRow],i.width=e.style.scrollBarBoxWidth,i.height=e.scrollBox.scrollBoxHeight,s.x=l.x+l.width+c,s.y=n.y+n.height+c,s.width=e.style.scrollBarWidth+e.style.scrollBarBorderWidth,s.height=e.style.scrollBarWidth+e.style.scrollBarBorderWidth,e.scrollBox.entities={horizontalBar:l,horizontalBox:a,verticalBar:n,verticalBox:i,corner:s},e.scrollBox.bar={v:n,h:l},e.scrollBox.box={v:i,h:a},e.page=Math.max(1,e.visibleRows.length-3-e.attributes.pageUpDownOverlap),!e.isChildGrid){var R=e.width*h,I=e.height*h;e.canvas.width===R&&e.canvas.height===I||(e.canvas.width=R,e.canvas.height=I,e.ctx.scale(h,h))}return e.resizeEditInput(),e.scroll(!0),t&&e.draw(!0),e.dispatchEvent("resize",{}),!0}function M(){e.scrollBox.horizontalBarVisible="auto"!==e.style.width&&y>e.scrollBox.width&&"hidden"!==e.style.overflowX||"scroll"===e.style.overflowX,e.scrollBox.horizontalBoxVisible=y>e.scrollBox.width,e.scrollBox.verticalBarVisible="auto"!==e.style.height&&v>e.scrollBox.height&&"hidden"!==e.style.overflowY||"scroll"===e.style.overflowY,e.scrollBox.verticalBoxVisible=v>e.scrollBox.height}function T(){e.scrollBox.width=e.width-C-S,e.scrollBox.height=e.height-w-b}function k(){e.isChildGrid||(o={height:w+b+v+m+1,width:y+C+m+S},["width","height"].forEach((function(t){-1!==["auto",void 0].indexOf(e.style[t])&&-1!==["auto",void 0].indexOf(e.appliedInlineStyles[t])?e.parentNodeStyle[t]=o[t]+"px":-1==["auto",void 0].indexOf(e.style[t])&&-1==["auto",void 0].indexOf(e.appliedInlineStyles[t])&&(e.parentNodeStyle[t]=e.style[t],e.isComponent&&(e.canvas.style[t]=e.style[t]))})))}},e.scroll=function(t){var r=e.getSchema(),o=(e.viewData||[]).length,n=e.style.cellHeight;for(e.scrollIndexTop=Math.floor(o*(e.scrollBox.scrollTop/e.scrollBox.scrollHeight)-100),e.scrollIndexTop=Math.max(e.scrollIndexTop,0),e.scrollPixelTop=e.scrollCache.y[e.scrollIndexTop],0===e.scrollBox.scrollHeight&&(e.scrollIndexTop=0),e.scrollPixelTop=0,e.scrollIndexLeft=e.frozenColumn,e.scrollPixelLeft=0;e.scrollPixelTop<e.scrollBox.scrollTop&&e.scrollIndexTop<e.viewData.length;)e.scrollIndexTop+=1,e.scrollPixelTop=e.scrollCache.y[e.scrollIndexTop];for(;e.scrollPixelLeft<e.scrollBox.scrollLeft+1&&e.scrollIndexLeft<r.length;)e.scrollPixelLeft=e.scrollCache.x[e.scrollIndexLeft],e.scrollIndexLeft+=1;r.length>0&&(e.scrollIndexLeft=Math.max(e.scrollIndexLeft-1,0),e.scrollPixelLeft-=e.getColumnWidth(e.orders.columns[e.scrollIndexLeft])),(e.viewData||[]).length>0&&(e.scrollIndexTop=Math.max(e.scrollIndexTop-1,0),e.scrollPixelTop=Math.max(e.scrollPixelTop-(e.viewData[e.scrollIndexTop]?(e.sizes.rows[e.scrollIndexTop]||n)+(e.sizes.trees[e.scrollIndexTop]||0):n)*e.scale,0)),e.ellipsisCache={},t||e.draw(!0),requestAnimationFrame(e.resizeEditInput),e.dispatchEvent("scroll",{top:e.scrollBox.scrollTop,left:e.scrollBox.scrollLeft})},e.mousemove=function(t,r){if(!e.contextMenu&&!e.input){if(e.draggingItem&&0===t.which)return e.stopFreezeMove(t),void e.mouseup(t);e.mouse=r||e.getLayerPos(t);var o,n,l,i,a=(t.ctrlKey||t.metaKey||e.attributes.persistantSelectionMode)&&!e.attributes.singleSelectionMode,s=e.getSchema(),c=e.mouse.x,d=e.mouse.y,u=e.getCellAt(c,d),f=!1,h=!1,g={NativeEvent:t,cell:u,x:c,y:d},m=e.currentCell;if(clearTimeout(e.scrollTimer),e.isInGrid({x:c,y:d})||(e.hasFocus=!1),!e.dispatchEvent("mousemove",g)){if(u&&e.currentCell&&(e.rowBoundaryCrossed=e.currentCell.rowIndex!==u.rowIndex,e.columnBoundaryCrossed=e.currentCell.columnIndex!==u.columnIndex,e.cellBoundaryCrossed=e.rowBoundaryCrossed||e.columnBoundaryCrossed,["row","column","cell"].forEach((function(t){e[t+"BoundaryCrossed"]&&(g.cell=m,e.dispatchEvent(t+"mouseout",g),g.cell=u,e.dispatchEvent(t+"mouseover",g))}))),e.currentCell=u,!e.draggingItem&&u&&("cell"===u.context||u.context===e.cursorGrab)){var p=e.getUnhideIndicator(e.mouse.x,e.mouse.y);if(p)return e.cursor="pointer",e.hovers={unhideIndicator:p},void e.draw()}if(e.hovers={},!e.draggingItem&&u){if(e.dragItem=u,e.dragMode=u.dragContext,e.cursor=u.context,"cell"===u.context&&(e.cursor="default",e.hovers={rowIndex:u.rowIndex,columnIndex:u.columnIndex,onFilterButton:!1,onCellTreeIcon:!1},u.isFilterable&&c>u.x+u.width+e.canvasOffsetLeft-e.style.filterButtonWidth&&c<u.x+u.width+e.canvasOffsetLeft&&d>u.y+u.height+e.canvasOffsetTop-e.style.filterButtonHeight&&d<u.y+u.height+e.canvasOffsetTop&&(e.hovers.onFilterButton=!0,e.draw()),u.isRowTree||u.isColumnTree)){var v=u.isRowTree?e.cellTree.rows[u.rowIndex].parentCount:0,y=e.style.cellTreeIconWidth*e.scale,x=u.x+u.paddingLeft+e.canvasOffsetLeft+e.style.cellTreeIconMarginLeft+v*(y+u.paddingLeft),w=u.y+e.canvasOffsetTop+e.style.cellTreeIconMarginTop*e.scale;c>=x&&c<=x+y&&d>=w&&d<w+y&&(e.hovers.onCellTreeIcon=!0,e.draw())}if(e.selecting||e.reorderObject){if(i={x:Math.abs(e.dragStart.x-c),y:Math.abs(e.dragStart.y-d)},-1!==e.dragStartObject.columnIndex&&t.shiftKey&&(e.dragStartObject={rowIndex:e.activeCell.rowIndex,columnIndex:e.activeCell.columnIndex}),n={top:Math.min(e.dragStartObject.rowIndex,u.rowIndex),left:Math.min(e.dragStartObject.columnIndex,u.columnIndex),bottom:Math.max(e.dragStartObject.rowIndex,u.rowIndex),right:Math.max(e.dragStartObject.columnIndex,u.columnIndex)},-1===e.dragStartObject.columnIndex&&(l=e.getSelectionBounds(),n.left=-1,n.right=s.length-1,n.top=Math.min(l.top,u.rowIndex),n.bottom=Math.max(l.bottom,u.rowIndex),n.top<0&&(n.top=0)),-1===e.dragStartObject.rowIndex&&(l=e.getSelectionBounds(),n.left=void 0===u.columnIndex?l.left:Math.min(l.left,u.columnIndex),n.right=void 0===u.columnIndex?l.right:Math.max(l.right,u.columnIndex),n.top=-1,n.bottom=e.viewData.length-1,n.left<0&&(n.left=0),n.left!=n.right?e.isMultiColumnsSelected=!0:e.isMultiRowsSelected=!1),e.dragStartObject.rowIndex===u.rowIndex&&e.dragStartObject.columnIndex===u.columnIndex||(e.ignoreNextClick=!0),e.cellBoundaryCrossed||0===i.x&&0===i.y||"row"===e.attributes.selectionMode)if(void 0===u.rowIndex||"row"!==e.attributes.selectionMode&&-1!==e.dragStartObject.columnIndex||!e.rowBoundaryCrossed)if(void 0===u.rowIndex||"column"!==e.attributes.selectionMode&&-1!==e.dragStartObject.rowIndex||!e.columnBoundaryCrossed){if("row"!==e.attributes.selectionMode){if(u.hovered&&e.hovers.onFilterButton)return u.openedFilter?(u.openedFilter=!1,e.selectedFilterButton={columnIndex:-1,rowIndex:-1}):(e.selectedFilterButton.rowIndex=u.rowIndex,e.selectedFilterButton.columnIndex=u.columnIndex,e.contextmenuEvent(t,{x:u.x+u.width-e.style.filterButtonWidth,y:u.y+u.height,rect:{left:0,top:0}})),void e.draw();if(u.hovered&&e.hovers.onCellTreeIcon&&"mousedown"==t.type)return void e.toggleCollapseTree(u.rowIndex,u.columnIndex);if(e.selectedFilterButton={columnIndex:-1,rowIndex:-1},e.hovers.onFilterButton)return;if(e.hovers.onCellTreeIcon)return;e.dragAddToSelection||void 0===u.rowIndex?e.isCellSelected(u)||e.selectCell(u):e.isCellSelected(u)&&e.unselectCell(u)}}else e.dragStartObject.columnIndex<u.columnIndex?(n.left=e.dragStartObject.columnIndex,n.right=u.columnIndex):(n.left=u.columnIndex,n.right=e.dragStartObject.columnIndex);else e.dragStartObject.rowIndex<u.rowIndex?(n.top=e.dragStartObject.rowIndex,n.bottom=u.rowIndex):(n.top=u.rowIndex,n.bottom=e.dragStartObject.rowIndex);if(!(e.selectionBounds&&n.top===e.selectionBounds.top&&n.left===e.selectionBounds.left&&n.bottom===e.selectionBounds.bottom&&n.right===e.selectionBounds.right||a))if(u.hovered&&e.hovers.onFilterButton||e.clearSelections(),-1===n.top&&(n.top=0),l=n,"row"===e.attributes.selectionMode)for(o=l.top;o<=l.bottom;o+=1)e.selectRow(o,!0,null,!0);else e.selectArea(l,!0),e.activeCell.rowIndex=l.top,e.activeCell.columnIndex=l.left,-1==l.left&&l.top!==l.bottom&&(e.activeCell.columnIndex=0,e.isMultiRowsSelected=!0,e.isMultiColumnsSelected=!1)}else e.movingSelectionHandle&&(i={x:Math.abs(e.dragStart.x-c),y:Math.abs(e.dragStart.y-d)},"y"===e.fillOverlay.direction?h=!0:"x"===e.fillOverlay.direction&&(f=!0));if(i)if(e.attributes.autoScrollOnMousemove||f||h){var C=!f&&i.y>e.attributes.autoScrollMargin,b=!h&&i.x>e.attributes.autoScrollMargin;C&&!b?e.autoScrollZone(t,-1,d,a):b&&!C?e.autoScrollZone(t,c,-1,a):b&&C&&e.autoScrollZone(t,c,d,a)}else e.autoScrollZone(t,c,d,a)}e.getColumnGroupAt(e.mouse.x,e.mouse.y)&&(e.cursor="pointer"),e.getRowGroupAt(e.mouse.x,e.mouse.y)&&(e.cursor="pointer"),e.cellBoundaryCrossed=!1,e.rowBoundaryCrossed=!1,e.columnBoundaryCrossed=!1,e.draw(!0)}}},e.click=function(t,r){var o,n=JSON.stringify(e.getSelectionBounds()),l=(t.ctrlKey||t.metaKey||e.attributes.persistantSelectionMode)&&!e.attributes.singleSelectionMode,i=r||e.getLayerPos(t);if(e.currentCell=e.getCellAt(i.x,i.y),void 0===e.currentCell.grid)if(e.input&&e.endEdit(),e.ignoreNextClick)e.ignoreNextClick=!1;else if(o=e.currentCell,!e.dispatchEvent("click",{NativeEvent:t,cell:e.currentCell})){var a=e.getUnhideIndicator(i.x,i.y);if(a){var s=a.dir,c=a.orderIndex0,d=a.orderIndex1;"l"===s||"r"===s?e.unhideColumns(c,d):e.unhideRows(c,d)}else{var u=e.getColumnGroupAt(i.x,i.y);if(u||(u=e.getRowGroupAt(i.x,i.y)),u&&e.toggleGroup(u))return e.setStorageData(),void e.refresh();if(e.hasFocus){var f=e.getRowGroupAreaWidth(),h=e.getColumnGroupAreaHeight(),g=i.x-f,m=i.y-h;if(-1!==["rowHeaderCell","columnHeaderCell"].indexOf(e.currentCell.style)||l||e.hovers.onFilterButton||e.setActiveCell(o.columnIndex,o.rowIndex),"cell"===e.currentCell.context){if("cornerCell"===e.currentCell.style)return e.selectAll(),e.draw(),void p();if("columnHeaderCell"===e.currentCell.style&&"sort"===e.attributes.columnHeaderClickBehavior)return e.orderBy===o.header.name?e.orderDirection="asc"===e.orderDirection?"desc":"asc":e.orderDirection="asc",e.order(o.header.name,e.orderDirection),void p();if(("row"===e.attributes.selectionMode||"rowHeaderCell"===e.currentCell.style)&&"rowHeaderCell"===e.currentCell.style&&e.attributes.tree&&g>0&&g-e.currentCell.x<e.style.treeArrowWidth+e.style.treeArrowMarginLeft+e.style.treeArrowMarginRight+e.style.treeArrowClickRadius&&m-e.currentCell.y<e.style.treeArrowHeight+e.style.treeArrowMarginTop+e.style.treeArrowClickRadius&&m>0)return void e.toggleTree(o.rowIndex);t.shiftKey&&!l&&(e.selectionBounds=e.getSelectionBounds(),e.selectArea(void 0,!1))}p(),e.draw(!0)}}}function p(){var t=e.getSelectionBounds();n!==JSON.stringify(t)&&e.dispatchEvent("selectionchanged",e.getContextOfSelectionEvent())}},e.dragResizeColumn=function(t){var r,o,n,l="ew-resize"===e.dragMode;if(r=e.getLayerPos(t),o=e.resizingStartingWidth+r.x-e.dragStart.x,n=e.resizingStartingHeight+r.y-e.dragStart.y,o<e.style.minColumnWidth&&(o=e.style.minColumnWidth),n<e.style.minRowHeight&&(n=e.style.minRowHeight),e.dispatchEvent(l?"resizecolumn":"resizerow",{x:o,y:n,width:o,height:n,columnIndex:l?e.draggingItem.columnIndex:void 0,rowIndex:l?void 0:e.draggingItem.rowIndex,draggingItem:e.draggingItem}))return!1;e.attributes.resizeAfterDragged?e.pendingDragResize={item:e.draggingItem,width:o,height:n,x:t.clientX,y:t.clientY}:e.dragResizeApply(e.draggingItem,o,n)},e.dragResizeApply=function(t,r,o){return e.scrollBox.scrollLeft>e.scrollBox.scrollWidth-e.attributes.resizeScrollZone&&"ew-resize"===e.dragMode&&e.resize(!0),"ew-resize"===e.dragMode?(e.sizes.columns["rowHeaderCell"===t.header.style?"cornerCell":t.sortColumnIndex]=r,-1!==["rowHeaderCell","cornerCell"].indexOf(t.header.style)&&e.resize(!0),void e.resizeChildGrids()):"ns-resize"===e.dragMode?(t.rowOpen?e.sizes.trees[t.rowIndex]=o:e.attributes.globalRowResize?e.style.cellHeight=o:e.sizes.rows[t.rowIndex]=o,e.dispatchEvent("resizerow",{row:o}),void e.resizeChildGrids()):void(e.ellipsisCache={})},e.stopDragResize=function(t){var r=e.getLayerPos(t);if(e.attributes.resizeAfterDragged&&(e.dragResizeApply(e.pendingDragResize.item,e.pendingDragResize.width,e.pendingDragResize.height),e.pendingDragResize=void 0),"ew-resize"===e.dragMode){var o=!!(r.x-e.dragStart.x),n=e.isColumnSelected(e.dragItem.columnIndex);if(o&&n){var l=Math.max(e.resizingStartingWidth+r.x-e.dragStart.x,e.style.minColumnWidth);e.fitSelectedColumns(l)}}else if("ns-resize"===e.dragMode){var i=!!(r.y-e.dragStart.y),a=e.isRowSelected(e.dragItem.rowIndex);if(i&&a){var s=Math.max(e.resizingStartingHeight+r.y-e.dragStart.y,e.style.minRowHeight);e.fitSelectedRows(s)}}e.resize(),window.removeEventListener("mousemove",e.dragResizeColumn,!1),window.removeEventListener("mouseup",e.stopDragResize,!1),e.setStorageData(),e.draw(!0),e.ignoreNextClick=!0},e.scrollGrid=function(t){var r=e.getLayerPos(t);return e.attributes.scrollPointerLock&&e.pointerLockPosition&&-1!==["horizontal-scroll-box","vertical-scroll-box"].indexOf(e.scrollStartMode)&&(e.pointerLockPosition.x+=t.movementX,e.pointerLockPosition.y+=t.movementY,e.pointerLockPosition.x=Math.min(e.width-e.style.scrollBarWidth,Math.max(0,e.pointerLockPosition.x)),e.pointerLockPosition.y=Math.min(e.height-e.style.scrollBarWidth,Math.max(0,e.pointerLockPosition.y)),r=e.pointerLockPosition),e.scrollMode=e.getCellAt(r.x,r.y).context,"horizontal-scroll-box"===e.scrollMode&&"horizontal-scroll-box"!==e.scrollStartMode?(e.scrollStartMode="horizontal-scroll-box",e.dragStart=r,e.scrollStart.left=e.scrollBox.scrollLeft,void clearTimeout(e.scrollTimer)):"vertical-scroll-box"===e.scrollMode&&"vertical-scroll-box"!==e.scrollStartMode?(e.scrollStartMode="vertical-scroll-box",e.dragStart=r,e.scrollStart.top=e.scrollBox.scrollTop,void clearTimeout(e.scrollTimer)):("vertical-scroll-box"===e.scrollStartMode&&"vertical-scroll-box"!==e.scrollMode&&(e.scrollMode="vertical-scroll-box"),"horizontal-scroll-box"===e.scrollStartMode&&"horizontal-scroll-box"!==e.scrollMode&&(e.scrollMode="horizontal-scroll-box"),clearTimeout(e.scrollTimer),void(-1!==e.scrollModes.indexOf(e.scrollMode)&&("vertical-scroll-box"===e.scrollMode?e.scrollBox.scrollTop=e.scrollStart.top+(r.y-e.dragStart.y)/e.scrollBox.heightBoxRatio:"vertical-scroll-top"===e.scrollMode?(e.scrollBox.scrollTop-=e.page*e.style.cellHeight,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t)):"vertical-scroll-bottom"===e.scrollMode&&(e.scrollBox.scrollTop+=e.page*e.style.cellHeight,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t)),"horizontal-scroll-box"===e.scrollMode?e.scrollBox.scrollLeft=e.scrollStart.left+(r.x-e.dragStart.x)/e.scrollBox.widthBoxRatio:"horizontal-scroll-right"===e.scrollMode?(e.scrollBox.scrollLeft+=e.attributes.selectionScrollIncrement,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t)):"horizontal-scroll-left"===e.scrollMode&&(e.scrollBox.scrollLeft-=e.attributes.selectionScrollIncrement,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t)))))},e.stopScrollGrid=function(){clearTimeout(e.scrollTimer),document.exitPointerLock&&document.exitPointerLock(),window.removeEventListener("mousemove",e.scrollGrid,!1)},e.dragReorder=function(t){var r,o,n,l="column-reorder"===e.dragMode,i="row-reorder"===e.dragMode;if(o=(r=e.getLayerPos(t)).x-e.dragStart.x,n=r.y-e.dragStart.y,(e.attributes.allowColumnReordering||!l)&&(e.attributes.allowRowReordering||!i)&&((t.ctrlKey||t.metaKey||t.shiftKey)&&e.reorderObject&&("column-reorder"!==e.dragMode||e.isMultiColumnsSelected||e.selectColumn(e.draggingItem.header.index,!1,!1)),!e.dispatchEvent("reordering",{NativeEvent:t,source:e.dragStartObject,target:e.currentCell,dragMode:e.dragMode})&&(Math.abs(o)>e.attributes.reorderDeadZone||Math.abs(n)>e.attributes.reorderDeadZone))){if(e.reorderObject=e.draggingItem,e.isMultiRowsSelected&&(e.reorderObject=e.getVisibleCellByIndex(-1,e.activeCell.rowIndex)),e.isMultiColumnsSelected&&(e.reorderObject=e.getVisibleCellByIndex(e.activeCell.columnIndex,-1)),!e.reorderObject)return;e.reorderTarget=e.currentCell,e.reorderObject.dragOffset={x:o,y:n},e.autoScrollZone(t,l?r.x:-1,i?r.y:-1,!1)}},e.stopDragReorder=function(t){var r,o,n={"row-reorder":e.orders.rows,"column-reorder":e.orders.columns},l={"row-reorder":"rowIndex","column-reorder":"sortColumnIndex"}[e.dragMode];if(window.removeEventListener("mousemove",e.dragReorder,!1),window.removeEventListener("mouseup",e.stopDragReorder,!1),e.reorderObject&&e.reorderTarget&&("column-reorder"===e.dragMode&&e.reorderTarget.sortColumnIndex>-1&&e.reorderTarget.sortColumnIndex<e.getSchema().length||"row-reorder"===e.dragMode&&e.reorderTarget.rowIndex>-1&&e.reorderTarget.rowIndex<e.viewData.length)&&e.reorderObject[l]!==e.reorderTarget[l]&&!e.dispatchEvent("reorder",{NativeEvent:t,source:e.reorderObject,target:e.reorderTarget,dragMode:e.dragMode})){if(e.ignoreNextClick=!0,r=n[e.dragMode].indexOf(e.reorderObject[l]),o=n[e.dragMode].indexOf(e.reorderTarget[l]),"column-reorder"===e.dragMode){var i=e.getRowSelectionStates(0),a=[],s=[];i&&(r=i[0],i.forEach((function(t){a.push(e.orders.columns[t])})));var c=a.length;if(o<r||o>r&&Math.abs(o-r)>=c){n[e.dragMode].splice(r,c),o>r&&(o-=c-1);for(var d=0;d<a.length;d++)0===d&&(e.activeCell.columnIndex=o),s.push(o+d),n[e.dragMode].splice(o+d,0,a[d]);e.orders.columns=n[e.dragMode],e.selectColumnViewIndexes(s)}}else{var u=e.getRowViewIndexesFromSelection().map((function(t){return e.viewData[t]}));if(o<r||o>r&&Math.abs(o-r)>=u.length){e.viewData.splice(r,u.length),o>r&&(o-=u.length-1),e.activeCell.rowIndex=o;for(var f=0;f<u.length;f++)e.viewData.splice(o+f,0,u[f]);e.moveSelection(0,o)}}e.resize(),e.setStorageData()}e.reorderObject=void 0,e.reorderTarget=void 0,e.draw(!0)},e.dragMove=function(t){if(!e.dispatchEvent("moving",{NativeEvent:t,cell:e.currentCell})){var r=e.getLayerPos(t);e.moveOffset={x:e.currentCell.columnIndex-e.dragStartObject.columnIndex,y:e.currentCell.rowIndex-e.dragStartObject.rowIndex},(Math.abs(r.x)>e.attributes.reorderDeadZone||Math.abs(r.y)>e.attributes.reorderDeadZone)&&setTimeout((function(){e.autoScrollZone(t,r.x,r.y,!1)}),1)}},e.stopDragMove=function(t){window.removeEventListener("mousemove",e.dragMove,!1),window.removeEventListener("mouseup",e.stopDragMove,!1);var r=e.getSelectionBounds();if(e.dispatchEvent("endmove",{NativeEvent:t,cell:e.currentCell}))return e.movingSelection=void 0,e.moveOffset=void 0,void e.draw(!0);e.moveOffset&&(e.moveTo(e.movingSelection,r.left+e.moveOffset.x,r.top+e.moveOffset.y),e.moveSelection(e.moveOffset.x,e.moveOffset.y)),e.movingSelection=void 0,e.moveOffset=void 0,e.draw(!0)},e.freezeMove=function(t){if(!e.dispatchEvent("freezemoving",{NativeEvent:t,cell:e.currentCell})){var r=e.getLayerPos(t);e.ignoreNextClick=!0,e.freezeMarkerPosition=r,r.x-=e.getRowGroupAreaWidth(),r.y-=e.getColumnGroupAreaHeight(),(Math.abs(r.x)>e.attributes.reorderDeadZone||Math.abs(r.y)>e.attributes.reorderDeadZone)&&setTimeout((function(){e.autoScrollZone(t,r.x,r.y,!1)}),1)}},e.stopFreezeMove=function(t){var r=e.getLayerPos(t),o="collapse"===e.style.gridBorderCollapse?1:2,n=e.style.columnHeaderCellBorderWidth*o,l=e.getColumnHeaderCellHeight(),i=e.getRowHeaderCellWidth();if(r.x-=e.getRowGroupAreaWidth(),r.y-=e.getColumnGroupAreaHeight(),e.currentCell&&void 0!==e.currentCell.rowIndex&&"frozen-row-marker"===e.dragMode){e.scrollBox.scrollTop=0,e.frozenRow=e.currentCell.rowIndex+1,e.scrollBox.bar.v.y=l+n+e.scrollCache.y[e.frozenRow],e.scrollBox.box.v.y=l+n+e.scrollCache.y[e.frozenRow];var a=e.scrollCache.y[e.scrollCache.y.length-1];e.scrollBox.heightBoxRatio=(e.scrollBox.height-l-e.scrollCache.y[e.frozenRow])/a,e.scrollBox.scrollBoxHeight=e.scrollBox.height*e.scrollBox.heightBoxRatio-e.style.scrollBarWidth,e.scrollBox.scrollBoxHeight=Math.max(e.scrollBox.scrollBoxHeight,e.style.scrollBarBoxMinSize),e.scrollBox.box.v.height=e.scrollBox.scrollBoxHeight}if(e.currentCell&&void 0!==e.currentCell.columnIndex&&"frozen-column-marker"===e.dragMode){var s=e.refreshScrollCacheX();e.scrollBox.scrollLeft=0;var c=e.currentCell.x-e.style.frozenMarkerWidth-e.style.frozenMarkerBorderWidth;r.x>c+e.currentCell.width/2?e.frozenColumn=e.currentCell.columnIndex+1:e.currentCell.columnIndex>=0&&(e.frozenColumn=e.currentCell.columnIndex),e.scrollBox.bar.h.x=i+e.scrollCache.x[e.frozenColumn],e.scrollBox.widthBoxRatio=(e.scrollBox.width-e.scrollCache.x[e.frozenColumn])/s,e.scrollBox.scrollBoxWidth=e.scrollBox.width*e.scrollBox.widthBoxRatio-e.style.scrollBarWidth,e.scrollBox.scrollBoxWidth=Math.max(e.scrollBox.scrollBoxWidth,e.style.scrollBarBoxMinSize),e.scrollBox.box.h.width=e.scrollBox.scrollBoxWidth}if((Math.abs(r.x)>e.attributes.reorderDeadZone||Math.abs(r.y)>e.attributes.reorderDeadZone)&&setTimeout((function(){e.autoScrollZone(t,r.x,r.y,!1)}),1),window.removeEventListener("mousemove",e.freezeMove,!1),window.removeEventListener("mouseup",e.stopFreezeMove,!1),e.freezeMarkerPosition=void 0,e.dispatchEvent("endfreezemove",{NativeEvent:t,cell:e.currentCell}))return e.frozenRow=e.startFreezeMove.x,e.frozenColumn=e.startFreezeMove.y,void e.draw(!0);e.draw(!0),e.resize()},e.mousedown=function(t,r){if(e.lastMouseDownTarget=t.target,!e.dispatchEvent("mousedown",{NativeEvent:t,cell:e.currentCell})&&e.hasFocus&&2!==t.button&&!e.input){var o=t.ctrlKey||t.metaKey,n=/-move/.test(e.dragMode),l=/frozen-row-marker|frozen-column-marker/.test(e.dragMode),i=/-resize/.test(e.dragMode),a=/selection-handle-br/.test(e.dragMode),s=e.hovers&&e.hovers.unhideIndicator;if(e.dragStart=r||e.getLayerPos(t),e.scrollStart={left:e.scrollBox.scrollLeft,top:e.scrollBox.scrollTop},e.dragStartObject=e.getCellAt(e.dragStart.x,e.dragStart.y),e.dragAddToSelection=!e.dragStartObject.selected,o||t.shiftKey||/(vertical|horizontal)-scroll-(bar|box)/.test(e.dragStartObject.context)||!e.currentCell||e.currentCell.isColumnHeader||n||l||i||a||"row-reorder"==e.dragMode&&e.isMultiRowsSelected||e.currentCell.hovered&&e.hovers.onFilterButton||e.clearSelections(),!e.dragStartObject.isGrid){if(-1!==e.scrollModes.indexOf(e.dragStartObject.context)&&!s)return e.scrollMode=e.dragStartObject.context,e.scrollStartMode=e.dragStartObject.context,e.scrollGrid(t),e.attributes.scrollPointerLock&&-1!==["horizontal-scroll-box","vertical-scroll-box"].indexOf(e.scrollStartMode)&&(e.pointerLockPosition={x:e.dragStart.x,y:e.dragStart.y},e.canvas.requestPointerLock()),window.addEventListener("mousemove",e.scrollGrid,!1),window.addEventListener("mouseup",e.stopScrollGrid,!1),void(e.ignoreNextClick=!0);if("cell"!==e.dragMode){if(a){if(e.movingSelectionHandle=!0,e.fillOverlay={handle:{x:e.dragStartObject.x+e.dragStartObject.width/2,y:e.dragStartObject.y+e.dragStartObject.height/2},snapTo:{x:-1,y:-1},selection:e.getSelectionBounds()},e.dispatchEvent("beginselectionhandlemove",{NativeEvent:t}))return;return window.addEventListener("mousemove",e.selectionHandleMove,!1),window.addEventListener("mouseup",e.stopSelectionHandleMove,!1),e.selectionHandleMove(t)}if(n){if(e.draggingItem=e.dragItem,e.movingSelection=e.cloneSelections(),e.dragging=e.dragStartObject,e.dispatchEvent("beginmove",{NativeEvent:t,cell:e.currentCell}))return;return window.addEventListener("mousemove",e.dragMove,!1),window.addEventListener("mouseup",e.stopDragMove,!1),e.mousemove(t)}if(l){if(e.draggingItem=e.dragItem,e.startFreezeMove={x:e.frozenRow,y:e.frozenColumn},e.dispatchEvent("beginfreezemove",{NativeEvent:t}))return;return e.freezeMarkerPosition=e.getLayerPos(t),e.freezeMarkerPosition.isGrab=!0,window.addEventListener("mousemove",e.freezeMove,!1),window.addEventListener("mouseup",e.stopFreezeMove,!1),e.mousemove(t)}return i&&!s?(e.draggingItem=e.dragItem,e.draggingItem.rowOpen?e.resizingStartingHeight=e.sizes.trees[e.draggingItem.rowIndex]:e.resizingStartingHeight=e.sizes.rows[e.draggingItem.rowIndex]||e.style.cellHeight,e.resizingStartingWidth=e.sizes.columns["rowHeaderCell"===e.draggingItem.header.style?"cornerCell":e.draggingItem.sortColumnIndex]||e.draggingItem.width,window.addEventListener("mousemove",e.dragResizeColumn,!1),void window.addEventListener("mouseup",e.stopDragResize,!1)):-1!==["row-reorder","column-reorder"].indexOf(e.dragMode)?(e.draggingItem=e.dragStartObject,"column-reorder"!==e.dragMode||e.isMultiColumnsSelected?"row-reorder"!==e.dragMode||e.isMultiRowsSelected||e.selectRow(e.dragStartObject.rowIndex,o,null):e.selectColumn(e.currentCell.header.index,o,t.shiftKey),window.addEventListener("mousemove",e.dragReorder,!1),void window.addEventListener("mouseup",e.stopDragReorder,!1)):void 0}if(e.selecting=!0,("row"===e.attributes.selectionMode||-1===e.dragStartObject.columnIndex)&&e.dragStartObject.rowIndex>-1)e.selectRow(e.dragStartObject.rowIndex,o,null);else if(("column"===e.attributes.selectionMode||-1===e.dragStartObject.rowIndex)&&e.dragStartObject.columnIndex>-1)return void e.selectColumn(e.currentCell.header.index,o,t.shiftKey);"row"!==e.attributes.selectionMode&&e.mousemove(t)}}},e.mouseup=function(t){clearTimeout(e.scrollTimer),e.cellBoundaryCrossed=!0,e.rowBoundaryCrossed=!0,e.columnBoundaryCrossed=!0,e.selecting=void 0,e.draggingItem=void 0,e.dragStartObject=void 0,e.dispatchEvent("mouseup",{NativeEvent:t,cell:e.currentCell})||(e.hasFocus||t.target===e.canvas)&&(e.currentCell&&void 0!==e.currentCell.grid||e.contextMenu||e.input||(e.dragStart&&e.isInGrid(e.dragStart)&&e.controlInput.focus(),t.preventDefault()))},e.getAdjacentCells=function(){var t,r=e.getSchema(),o={};for(t=0;t<r.length;t+=1)r[e.orders.columns[t]].hidden||(void 0===o.first&&(o.first=t,o.left=t),o.last=t,t>e.activeCell.columnIndex&&void 0===o.right&&(o.right=t),t<e.activeCell.columnIndex&&(o.left=t));return void 0===o.right&&(o.right=o.last),o},e.keydown=function(t){var r=e.getAdjacentCells(),o=Math.max(e.activeCell.columnIndex,0),l=Math.max(e.activeCell.rowIndex,0),i=t.ctrlKey||t.metaKey,a=e.viewData.length-1,s=e.getSchema().length-1;if(!e.dispatchEvent("keydown",{NativeEvent:t,cell:e.currentCell})&&(e.attributes.keepFocusOnMouseOut||e.hasFocus)){if(n()(t)&&!i)return e.beginEditAt(o,l,t,!0);if(e.attributes.showNewRow&&(a+=1),"Tab"===t.key&&t.preventDefault(),"Escape"===t.key?e.selectNone():i&&"a"===t.key?e.selectAll():["Backspace","Delete"].includes(t.key)?e.deleteSelectedData():"ArrowDown"===t.key?l+=1:"ArrowUp"===t.key?l-=1:"ArrowLeft"===t.key&&!i||t.shiftKey&&"Tab"===t.key?o=r.left:"ArrowRight"===t.key&&!i||!t.shiftKey&&"Tab"===t.key?o=r.right:"PageUp"===t.key?(l-=e.page,t.preventDefault()):"PageDown"===t.key?(l+=e.page,t.preventDefault()):"Home"===t.key||i&&"ArrowUp"===t.key?l=0:"End"===t.key||i&&"ArrowDown"===t.key?l=e.viewData.length-1:i&&"ArrowRight"===t.key?o=r.last:i&&"ArrowLeft"===t.key&&(o=r.first),"Enter"===t.key)return t.preventDefault(),e.beginEditAt(o,l,t);(o<0||Number.isNaN(o))&&(o=r.first),l>a&&(l=a),(l<0||Number.isNaN(l))&&(l=0),o>s&&(o=r.last);var c=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(t.key);t.shiftKey&&c&&e.shrinkOrExpandSelections({rowIndex:l,columnIndex:o},t,!0)&&e.draw(!0),o===e.activeCell.columnIndex&&l===e.activeCell.rowIndex||(e.scrollIntoView(o!==e.activeCell.columnIndex?o:void 0,l===e.activeCell.rowIndex||Number.isNaN(l)?void 0:l),e.setActiveCell(o,l),!t.shiftKey&&e.attributes.selectionFollowsActiveCell&&(i||e.clearSelections(),e.selectCell({rowIndex:l,viewColumnIndex:o})),e.draw(!0))}},e.keyup=function(t){e.dispatchEvent("keyup",{NativeEvent:t,cell:e.currentCell})||e.hasFocus},e.keypress=function(t){e.hasFocus&&e.dispatchEvent("keypress",{NativeEvent:t,cell:e.currentCell})},e.dblclick=function(t){e.dispatchEvent("dblclick",{NativeEvent:t,cell:e.currentCell})||e.hasFocus&&("ew-resize"===e.currentCell.context&&"columnHeaderCell"===e.currentCell.style?e.isColumnSelected(e.currentCell.columnIndex)?e.fitSelectedColumns():e.fitColumnToValues(e.currentCell.header.name):"ew-resize"===e.currentCell.context&&"cornerCell"===e.currentCell.style?e.autosize():!["cell","activeCell"].includes(e.currentCell.style)||e.hovers.onFilterButton||e.hovers.onCellTreeIcon||(e.currentCell.isRowTree||e.currentCell.isColumnTree?(e.cellTreeExpandCollapse(e.currentCell.rowIndex,e.currentCell.columnIndex),e.draw()):e.beginEditAt(e.currentCell.columnIndex,e.currentCell.rowIndex)))},e.scrollWheel=function(r){var o,n,l=r,i=void 0===r.deltaX?r.NativeEvent.deltaX:r.deltaX,a=void 0===r.deltaY?r.NativeEvent.deltaY:r.deltaY,s=void 0===r.deltaMode?r.NativeEvent.deltaMode:r.deltaMode;r.NativeEvent&&(r=r.NativeEvent),t?l.preventDefault(r):e.dispatchEvent("wheel",{NativeEvent:r})||(e.touchHaltAnimation=!0,o=e.scrollBox.scrollLeft,n=e.scrollBox.scrollTop,e.hasFocus&&(1===s&&(a*=17),(e.scrollBox.scrollTop<e.scrollBox.scrollHeight&&a>0||e.scrollBox.scrollLeft<e.scrollBox.scrollWidth&&i>0||e.scrollBox.scrollTop>0&&a<0||e.scrollBox.scrollLeft>0&&i<0)&&l.preventDefault(r),t=setTimeout((function(){t=void 0,e.scrollBox.scrollTo(i+o,a+n)}),1)))},e.pasteData=function(t,r,o,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if("text/html"===r&&!(0,l.WA)(t))return console.warn("Unrecognized HTML format. HTML must be a simple table, e.g.: <table><tr><td>data</td></tr></table>."),void console.warn("Data with the mime type text/html not in this format will not be imported as row data.");var s=(0,l.IR)(t,r),c=s[0].length;if(1===s.length&&1===c&&i<=1&&a<=1){var d=s[0][0].value.map((function(e){return e.value})).join();e.forEachSelectedCell((function(e,t,r){e[t][r]=d}))}else{var u=null;i>s.length&&a>c?u="both":i>s.length?u="vertical":a>c&&(u="horizontal"),e.insert({rows:s,startRowIndex:o,startColumnIndex:n,minRowsLength:i,minColumnsLength:a,reverseRows:!1,reverseColumns:!1,clearSelections:!0,alwaysFilling:!1,direction:u})}var f=[];return e.forEachSelectedCell((function(e,t,r,o){f.push([t,o.viewColumnIndex,o.boundRowIndex,o.boundColumnIndex])})),e.dispatchEvent("afterpaste",{cells:f}),s.length},e.insert=function(t){var r=t.rows,o=void 0===r?[]:r,n=t.startRowIndex,l=void 0===n?0:n,i=t.startColumnIndex,s=void 0===i?0:i,c=t.minRowsLength,d=void 0===c?0:c,u=t.minColumnsLength,f=void 0===u?0:u,h=t.reverseRows,g=void 0!==h&&h,m=t.reverseColumns,p=void 0!==m&&m,v=t.clearSelections,y=void 0!==v&&v,x=t.alwaysFilling,w=void 0!==x&&x,C=t.direction,b=void 0===C?"both":C,S=e.getSchema(),B=Math.max(o.length,d),R=e.fillCellCallback,I=[];y&&(e.selections=[]);for(var M=0,T=0;M<B;M++,T++){T>=o.length&&(T=0);for(var k=M>=o.length,O=g?B-M-1:M,E=e.orders.rows[l+O],z=o[T],A=Math.max(z.length,f),H=e.viewData[E],P=Object.assign({},H),L=R?{rows:o,direction:b,rowData:P,existingRowData:H,rowIndex:E,rowOffset:T,cells:z,reversed:"horizontal"===b?p:g,isFillingRow:k||w,fillingRowPosition:w?M:k?M-o.length:-1,fillingRowLength:w?B:k?B-o.length:-1}:void 0,D=0,F=0;D<A;D++,F++){F>=z.length&&(F=0);var W=D>=z.length,_=s+(p?A-D-1:D),j=S[_];if(j){var N=j.name,G=z[F];G&&G.value&&(G=G.value.map((function(e){return e.value})).join(""));var V=H[N];P[N]=R&&(W||k||w)?R(a(a({},L),{},{column:j,columnIndex:_,columnOffset:F,newCellData:G,existingCellData:V,isFillingColumn:W||w,fillingColumnPosition:w?D:W?D-z.length:-1,fillingColumnLength:w?A:W?A-z.length:-1})):null==G?V:G,e.selectCell({rowIndex:E,viewColumnIndex:_},!0),(w||k||W)&&I.push([E,_,e.getBoundRowIndexFromViewRowIndex(E),e.getBoundColumnIndexFromViewColumnIndex(_)])}else console.warn("Paste data exceeded grid bounds. Skipping.")}e.originalData[e.boundRowIndexMap.get(E)]=P,e.viewData[E]=P}(I.length>0||w)&&e.dispatchEvent("afterfill",{filledCells:I})},e.getNextVisibleColumnIndex=function(t){var r,o=e.getVisibleSchema();for(r=0;r<o.length;r+=1)if(o[r].columnIndex===t)return o[r+1].columnIndex;return-1},e.getVisibleColumnIndexOf=function(t){var r,o=e.getVisibleSchema();for(r=0;r<o.length;r+=1)if(o[r].columnIndex===t)return r;return-1},e.getSelectionIndex=function(){var t=e.getSelectionBounds(!0);if(t){for(var r=t.top,o=t.bottom,n=r;n<=o;n++){var l=e.getRowSelectionStates(n);if(l){if(void 0===l[0])break;return{row:n,column:l[0]<0?l[1]:l[0],rowLength:o-n+1,columnLength:l.length-(l[0]<0?1:0)}}}return null}},e.paste=function(t){if(e.attributes.editable&&!e.dispatchEvent("beforepaste",{NativeEvent:t})){var r=new Map(Array.from(t.clipboardData.items).map((function(e){return[e.type,e]}))),o=["text/html","text/csv","text/plain"],n=o.map((function(e){return r.get(e)})).filter((function(e){return!!e}));if(0!==n.length){var l=e.getSelectionIndex();if(l){var i=n[0],a=i.type;i.getAsString((function(t){e.pasteData(t,a,l.row,l.column,l.rowLength,l.columnLength),e.draw()}))}}else console.warn("Cannot find supported clipboard data type. Supported types are:",o.join(", "))}},e.cut=function(t){if(!e.dispatchEvent("cut",{NativeEvent:t})&&e.hasFocus&&t.clipboardData){e.copySelectedCellsToClipboard(t.clipboardData);var r=e.clearSelectedCells().map((function(e){return[e.viewRowIndex,e.viewColumnIndex,e.boundRowIndex,e.boundColumnIndex]}));e.dispatchEvent("aftercut",{cells:r}),requestAnimationFrame((function(){return e.draw()})),t.preventDefault()}},e.copy=function(t){e.dispatchEvent("copy",{NativeEvent:t})||e.hasFocus&&t.clipboardData&&(e.copySelectedCellsToClipboard(t.clipboardData),t.preventDefault())},e.selectionHandleMove=function(t){if(e.movingSelectionHandle){var r=e.getClippingRect(t),o=e.currentCell.rowIndex,n=e.currentCell.columnIndex,l=o>=-1&&n>=-1&&e.fillOverlay.selection.left<=n&&e.fillOverlay.selection.right>=n&&e.fillOverlay.selection.top<=o&&e.fillOverlay.selection.bottom>=o;if(e.fillOverlay.minX=r.x,e.fillOverlay.minY=r.y,e.fillOverlay.x=Math.max(r.x,t.clientX),e.fillOverlay.y=Math.max(r.y,t.clientY),l)e.fillOverlay.lastInBoundsLocation={x:t.clientX,y:t.clientY};else if(e.fillOverlay.lastInBoundsLocation||!e.fillOverlay.direction){var i=e.fillOverlay.lastInBoundsLocation;e.fillOverlay.lastInBoundsLocation=void 0;var a=i?i.x:e.fillOverlay.handle.x,s=i?i.y:e.fillOverlay.handle.y,c=Math.abs(t.clientX-a),d=Math.abs(t.clientY-s);(c>5||d>5)&&(e.fillOverlay.direction=c>d?"x":"y")}o>=0&&(e.fillOverlay.rowIndex=o),n>=0&&(e.fillOverlay.columnIndex=n,-1===o&&e.visibleRows.length&&(e.fillOverlay.rowIndex=e.visibleRows[0])),e.fillOverlay.snap=o>=-1&&n>=-1?e.currentCell:void 0}},e.stopSelectionHandleMove=function(t){if(!e.fillOverlay.handle)return!1;e.ignoreNextClick=!0,window.removeEventListener("mousemove",e.selectionHandleMove,!1),window.removeEventListener("mouseup",e.stopSelectionHandleMove,!1);var r=e.fillOverlay,o=e.getSelectionIndex(),n=r.selection;if(o){if(e.movingSelectionHandle=void 0,e.fillOverlay={},r.rowIndex>=0&&r.columnIndex>=0){var l,i,s,c,d=a({},n),u="y"===r.direction,f="x"===r.direction,h=!1,g=!1;if(u?(r.rowIndex<n.top?(n.top=r.rowIndex,h=!0):r.rowIndex>n.bottom&&(n.bottom=r.rowIndex),l=n.top<d.top?n.top:d.bottom+1,i=n.top<d.top?d.top-n.top:n.bottom-d.bottom,s=o.column,c=o.columnLength):f&&(r.columnIndex<n.left?(n.left=r.columnIndex,g=!0):r.columnIndex>n.right&&(n.right=r.columnIndex),s=n.left<d.left?n.left:d.right+1,c=n.left<d.left?d.left-n.left:n.right-d.right,l=o.row,i=o.rowLength),n.left<=n.right&&n.top<=n.bottom&&(n.left<d.left||n.top<d.top||n.right>d.right||n.bottom>d.bottom)){for(var m=e.getSchema(),p=[],v=0;v<Math.min(i,o.rowLength);v++){var y=e.viewData[o.row+v];p[v]=[];for(var x=0;x<Math.min(c,o.columnLength);x++){var w=m[o.column+x];if(w){var C=y[w.name];p[v][x]=C}}}e.insert({rows:p,startRowIndex:l,startColumnIndex:s,minRowsLength:i,minColumnsLength:c,reverseRows:h,reverseColumns:g,clearSelections:!1,alwaysFilling:!0,direction:f?"horizontal":"vertical"}),e.draw()}}return!0}}}},172:function(e,t,r){"use strict";function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r.d(t,{IR:function(){return s},Kz:function(){return d},WA:function(){return l},vi:function(){return u}});var l=function(e){return[/(?:^(<meta[^>]*>)?[\s\S]*<div[^>]*>)/,/(?:^(<meta[^>]*>)?[\s\S]*<table[^>]*>)/,/(?:^(<meta[^>]*>)?[\s\S]*<span[^>]*>)/,/(?:<!--StartFragment-->[\s\S]*<tr[^>]*>)/,/(?:<!--StartFragment-->[\s\S]*<td[^>]*>)/].some((function(t){return t.test(e)}))},i=[8,3],a=function(e){var t=1===e.nodeType?e.innerText:e.data;return String(t).replace(/\s+/g," ").trim()},s=function(e,t){return"text/html"===t&&/(?:<table[^>]*>)|(?:<tr[^]*>)/.test(e)?function(e){var t,r=[],n=o((new DOMParser).parseFromString(e,"text/html").querySelectorAll("table tr"));try{for(n.s();!(t=n.n()).done;){var l,s=t.value,c=[],d=o(s.childNodes);try{for(d.s();!(l=d.n()).done;){var u=l.value;if(!i.includes(u.nodeType)){var f={value:[]},h=a(u);h&&f.value.push({value:h}),c.push(f)}}}catch(e){d.e(e)}finally{d.f()}r.push(c)}}catch(e){n.e(e)}finally{n.f()}return r}(e):"text/html"===t?function(e){var t=(new DOMParser).parseFromString(e,"text/html"),r=t.querySelector("div")||t.querySelector("span");return a(r).split("\n").map((function(e){return e.split("\t").map((function(e){return{value:[{value:e}]}}))}))}(e):function(e){return e.split("\n").map((function(e){return e.split("\t").map((function(e){return{value:[{value:e}]}}))}))}(e)},c=function(e){return"string"!=typeof e?e:e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},d=function(e,t){return t?e.map((function(e){return Object.values(e).join("\t")})).join("\n"):e.map((function(e){return Object.values(e).join("")})).join("")},u=function(e,t){if(!t)return d(e,t);var r="<table>";return(r+=e.map((function(e){return"<tr>"+Object.values(e).map((function(e){return["<td>",c(e),"</td>"].join("")})).join("")+"</tr>"})).join(""))+"</table>"}},944:function(e,t,r){"use strict";function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function l(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,l=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw l}}}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){n=!0,l=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw l}}return r}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function c(e,t){function r(e,t){var r,o=[];for(r=e;r<=t;r+=1)o[r]=r;return o}var a;e.scale=1,e.orders={rows:[],columns:[]},e.appliedInlineStyles={},e.cellGridAttributes={},e.treeGridAttributes={},e.visibleRowHeights=[],e.hasFocus=!1,e.activeCell={columnIndex:0,rowIndex:0},e.innerHTML="",e.storageName="canvasDataGrid",e.invalidSearchExpClass="canvas-datagrid-invalid-search-regExp",e.localStyleLibraryStorageKey="canvas-datagrid-user-style-library",e.dataType="application/x-canvas-datagrid",e.orderBy=null,e.orderDirection="asc",e.orderings={columns:[],add:function(t,r,o){e.orderings.columns=e.orderings.columns.filter((function(e){return e.orderBy!==t})),e.orderings.columns.push({orderBy:t,orderDirection:r,sortFunction:o})},sort:function(){console.warn("grid.orderings.sort has been deprecated. Please use grid.refresh()."),e.orderings.columns.forEach((function(t){e.viewData.sort(t.sortFunction(t.orderBy,t.orderDirection))}))}},e.columnFilters={},e.filters={},e.frozenRow=0,e.frozenColumn=0,e.ellipsisCache={},e.scrollCache={x:[],y:[]},e.scrollBox={},e.visibleRows=[],e.visibleCells=[],e.visibleUnhideIndicators=[],e.hiddenRowRanges=[],e.visibleGroups=[],e.sizes={rows:{},columns:{},trees:{}},e.fillOverlay={},e.filterable={rows:[],columns:[]},e.selectedFilterButton={columnIndex:-1,rowIndex:-1},e.cellTree={rows:[],columns:{},tempSchema:{},rowTreeColIndex:0,columnTreeRowStartIndex:0,columnTreeRowEndIndex:0,origin:{rows:[],columns:{}}},e.hovers={},e.attributes={},e.style={},e.formatters={},e.sorters={},e.parsers={},e.schemaHashes={},e.events={},e.changes=[],e.scrollIndexTop=0,e.scrollPixelTop=0,e.scrollIndexLeft=0,e.scrollPixelLeft=0,e.childGrids={},e.openChildren={},e.groupedColumns=[],e.groupedRows=[],e.scrollModes=["vertical-scroll-box","vertical-scroll-top","vertical-scroll-bottom","horizontal-scroll-box","horizontal-scroll-right","horizontal-scroll-left"],e.componentL1Events={},e.eventNames=["afterdraw","afterrendercell","afterrenderfilterbutton","aftercreategroup","attributechanged","beforebeginedit","beforecreatecellgrid","beforedraw","beforeendedit","beforerendercell","beforerendercellgrid","beforerenderfilterbutton","beginedit","cellmouseout","cellmouseover","click","collapsetree","columnhide","columnunhide","contextmenu","copy","datachanged","dblclick","endedit","expandtree","formatcellvalue","keydown","keypress","keyup","mousedown","mousemove","mouseup","newrow","ordercolumn","rendercell","rendercellgrid","renderorderbyarrow","rendertext","rendertreearrow","reorder","reordering","resize","resizecolumn","resizerow","schemachanged","scroll","selectionchanged","stylechanged","touchcancel","touchend","touchmove","touchstart","wheel"],e.mouse={x:0,y:0},e.getBoundRowIndexFromViewRowIndex=function(t){if(e.boundRowIndexMap&&e.boundRowIndexMap.has(t))return e.boundRowIndexMap.get(t)},e.getBoundColumnIndexFromViewColumnIndex=function(t){return e.orders.columns[t]},e.getColumnGroupAreaHeight=function(){if(!e.attributes.allowGroupingColumns)return 0;var t=e.groupedColumns.length;return e.style.columnGroupRowHeight*e.scale*t},e.getRowGroupAreaWidth=function(){if(!e.attributes.allowGroupingRows)return 0;var t=e.groupedRows.length;return e.style.rowGroupColumnWidth*e.scale*t},e.getCollapsedColumnGroups=function(){for(var t=[],r=0;r<e.groupedColumns.length;r++)for(var o=e.groupedColumns[r],n=0;n<o.length;n++){var l=o[n];l.collapsed&&t.push(l)}return t},e.getCollapsedRowGroups=function(){for(var t=[],r=0;r<e.groupedRows.length;r++)for(var o=e.groupedRows[r],n=0;n<o.length;n++){var l=o[n];l.collapsed&&t.push(l)}return t},e.toggleGroup=function(t){if("c"===t.type){for(var r,o=t.from,n=t.to,l=e.groupedColumns,i=0;i<l.length;i++){for(var a=l[i],s=0;s<a.length;s++){var c=a[s];if(c.from===o&&c.to===n){r=c;break}}if(r)break}if(!r)return;var d=!r.collapsed;return r.collapsed=d,!0}if("r"===t.type){for(var u,f=t.from,h=t.to,g=e.groupedRows,m=0;m<g.length;m++){for(var p=g[m],v=0;v<p.length;v++){var y=p[v];if(y.from===f&&y.to===h){u=y;break}}if(u)break}if(!u)return;var x=!u.collapsed;return u.collapsed=x,!0}return!1},e.isNewGroupRangeValid=function(e,t,r){for(var o=0;o<e.length;o++)for(var n=e[o],l=0;l<n.length;l++){var i=n[l];if(t===i.to+1)return!1;if(!(t>i.to)){if(t===i.from){if(r===i.to)return!1;if(r>i.to)return!0;break}if(t>i.from){if(r>i.to)return!1;break}return!(r<i.to)}}return!0},e.getColumnHeaderCellHeight=function(){return e.attributes.showColumnHeaders?(e.sizes.rows[-1]||e.style.columnHeaderCellHeight)*e.scale:0},e.getRowHeaderCellWidth=function(){return e.attributes.showRowHeaders?(e.sizes.columns[-1]||e.style.rowHeaderCellWidth)*e.scale:0},e.setStorageData=function(){if(e.attributes.saveAppearance&&e.attributes.name){var t={};e.getSchema().forEach((function(e){t[e.name]=!e.hidden})),localStorage.setItem(e.storageName+"-"+e.attributes.name,JSON.stringify({sizes:{rows:e.sizes.rows,columns:e.sizes.columns},orders:{rows:e.orders.rows,columns:e.orders.columns},orderBy:e.orderBy,orderDirection:e.orderDirection,visibility:t}))}},e.getSchema=function(){return e.schema||e.tempSchema||[]},e.createColumnOrders=function(){var t=e.getSchema();e.orders.columns=r(0,t.length-1)},e.createRowOrders=function(){e.orders.rows=r(0,e.originalData.length-1)},e.getVisibleSchema=function(){return e.getSchema().filter((function(e){return!e.hidden}))},e.applyDefaultValue=function(t,r,o){var n=r.defaultValue||"";"function"==typeof n&&(n=n.apply(e.intf,[r,o])),t[r.name]=n},e.createNewRowData=function(){e.newRow={},e.getSchema().forEach((function(t){e.applyDefaultValue(e.newRow,t,void 0)}))},e.getSchemaNameHash=function(t){for(var r=0;e.schemaHashes[t];)t+=r+=1;return t},e.filter=function(t){var r=e.filters[t];return r||void 0===t||(console.warn("Cannot find filter for type %s, falling back to substring match.",t),r=e.filters.string),r},e.hasActiveFilters=function(){return e.columnFilters&&Object.keys(e.columnFilters).length>0},e.hasCollapsedRowGroup=function(){for(var t=0;t<e.groupedRows.length;t++)for(var r=e.groupedRows[t],o=0;o<r.length;o++)if(r[o].collapsed)return!0;return!1},e.getFilteredAndSortedViewData=function(t){var r=t.map((function(e,t){return[e,t]}));if(e.hiddenRowRanges.length>0)for(var o=e.hiddenRowRanges.sort((function(e,t){return t[1]-e[1]})),n=0;n<o.length;n++){var a=i(o[n],2),s=a[0],c=a[1]-s+1;r.splice(s,c)}for(var d=function(){var t=i(f[u],2),o=t[0],n=t[1],l=e.getHeaderByName(o);if(!l)return"continue";var a=l.filter||e.filter(l.type||"string");r=r.filter((function(t){var r=i(t,2),l=r[0],s=r[1];return!!(e.attributes.allowFreezingRows&&!e.attributes.filterFrozenRows&&s<e.frozenRow)||a(l[o],n)}))},u=0,f=Object.entries(e.columnFilters);u<f.length;u++)d();for(var h=[],g=0;g<e.groupedRows.length;g++)for(var m=e.groupedRows[g],p=0;p<m.length;p++){var v=m[p];v.collapsed&&h.push([v.from,v.to])}if(h.length>0){h.sort((function(e,t){return e[0]-t[0]}));for(var y=0,x=h.length,w=0;w<x;w++){var C=h[w];if(w===x-1){h[y++]=C;break}var b=C[1],S=i(h[w+1],2),B=S[0],R=S[1];B>b+1?h[y++]=C:(h[w+1]=C,R>b&&(h[w+1][1]=R))}for(var I=(h=h.slice(0,y)).shift(),M=0;M<r.length;M++)if(!(r[M][1]<I[0])){for(var T=M+1;T<r.length&&!(r[T][1]>I[1]);T++);if(r.splice(M,T-M),!(I=h.shift()))break;M--}}var k,O=l(e.orderings.columns);try{var E=function(){var t=k.value,o=t.sortFunction(t.orderBy,t.orderDirection);r.sort((function(t,r){var n=i(t,1)[0],l=i(r,2),a=l[0],s=l[1];return e.attributes.allowFreezingRows&&!e.attributes.sortFrozenRows&&s<e.frozenRow?0:o(n,a)}))};for(O.s();!(k=O.n()).done;)E()}catch(e){O.e(e)}finally{O.f()}return{viewData:r.map((function(e){return i(e,1)[0]})),boundRowIndexMap:new Map(r.map((function(e,t){var r=i(e,2);return r[0],[t,r[1]]})))}},e.refresh=function(){var t=e.getFilteredAndSortedViewData(e.originalData),r=t.viewData,o=t.boundRowIndexMap;e.viewData=r,e.boundRowIndexMap=o,e.resize(),e.draw(!0)},e.getBestGuessDataType=function(e,t){var r,o,l=t.length;for(o=0;o<l;o+=1)if(void 0!==t[o]&&null!==t[o]&&-1!==[null,void 0].indexOf(t[o][e]))return"object"===(r=n(t[o]))?"string":r;return"string"},e.drawChildGrids=function(){Object.keys(e.childGrids).forEach((function(t){e.childGrids[t].draw()}))},e.resizeChildGrids=function(){Object.keys(e.childGrids).forEach((function(t){e.childGrids[t].resize()}))},e.autoScrollZone=function(t,r,o,n){var l,i=e.getRowHeaderCellWidth(),a=e.getColumnHeaderCellHeight();-1!==r&&(r>e.width-e.attributes.selectionScrollZone&&(e.scrollBox.scrollLeft+=e.attributes.selectionScrollIncrement,l=!0),r-e.attributes.selectionScrollZone-i<0&&(e.scrollBox.scrollLeft-=e.attributes.selectionScrollIncrement,l=!0)),-1!==o&&(o>e.height-e.attributes.selectionScrollZone&&(e.scrollBox.scrollTop+=e.attributes.selectionScrollIncrement,l=!0),o-e.attributes.selectionScrollZone-a<0&&(e.scrollBox.scrollTop-=e.attributes.selectionScrollIncrement,l=!0)),l&&!n&&e.currentCell&&-1!==e.currentCell.columnIndex&&(e.scrollTimer=setTimeout(e.mousemove,e.attributes.scrollRepeatRate,t))},e.validateColumn=function(e,t){if(!e.name)throw new Error("A column must contain at least a name.");if(t.filter((function(t){return t.name===e.name})).length>0)throw new Error("A column with the name "+e.name+" already exists and cannot be added again.");return!0},e.setDefaults=function(e,t,r,o){e[r]=void 0===t[r]?o:t[r]},e.setAttributes=function(){e.defaults.attributes.forEach((function(t){e.setDefaults(e.attributes,e.args,t[0],t[1])}))},e.setStyle=function(){e.defaults.styles.forEach((function(t){e.setDefaults(e.style,e.args.style||{},t[0],t[1])}))},e.autosize=function(t){e.getVisibleSchema().forEach((function(r,o){r.name!==t&&void 0!==t||(e.sizes.columns[o]=Math.max(e.findColumnMaxTextLength(r.name),e.style.minColumnWidth))})),e.sizes.columns[-1]=e.findColumnMaxTextLength("cornerCell")},e.dispose=function(){!e.isChildGrid&&e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),e.isChildGrid||document.body.removeChild(e.controlInput),e.eventParent.removeEventListener("mousedown",e.mousedown,!1),e.eventParent.removeEventListener("dblclick",e.dblclick,!1),e.eventParent.removeEventListener("click",e.click,!1),e.eventParent.removeEventListener("mousemove",e.mousemove),e.eventParent.removeEventListener("wheel",e.scrollWheel,!1),e.canvas.removeEventListener("contextmenu",e.contextmenuEvent,!1),e.canvas.removeEventListener("copy",e.copy),e.controlInput.removeEventListener("copy",e.copy),e.controlInput.removeEventListener("cut",e.cut),e.controlInput.removeEventListener("paste",e.paste),e.controlInput.removeEventListener("keypress",e.keypress,!1),e.controlInput.removeEventListener("keyup",e.keyup,!1),e.controlInput.removeEventListener("keydown",e.keydown,!1),window.removeEventListener("mouseup",e.mouseup,!1),window.removeEventListener("mousemove",e.mousemove),window.removeEventListener("resize",e.resize),e.observer&&e.observer.disconnect&&e.observer.disconnect()},e.tryLoadStoredSettings=function(){var t;e.reloadStoredValues(),e.storedSettings&&"object"===n(e.storedSettings.orders)&&null!==e.storedSettings.orders&&(e.storedSettings.orders.rows.length>=(e.viewData||[]).length&&(e.orders.rows=e.storedSettings.orders.rows),t=e.getSchema(),e.storedSettings.orders.columns.length===t.length&&(e.orders.columns=e.storedSettings.orders.columns),e.orderBy=void 0===e.storedSettings.orderBy?t[0].name:e.storedSettings.orderBy,e.orderDirection=void 0===e.storedSettings.orderDirection?"asc":e.storedSettings.orderDirection,void 0!==e.storedSettings.orderBy&&e.getHeaderByName(e.orderBy)&&e.orderDirection&&e.order(e.orderBy,e.orderDirection))},e.toggleCollapseTree=function(t,r,n){var l=[],i=0;if(r==e.cellTree.rowTreeColIndex&&(t>0||0==t&&e.cellTree.rows[0].icon)){var a=e.cellTree.rows;switch(n){case"Expand":a[t].expand=!0,e.cellTree.origin.rows[a[t].index].expand=!0;break;case"Collapse":a[t].expand=!1,e.cellTree.origin.rows[a[t].index].expand=!1;break;default:a[t].expand=!a[t].expand,e.cellTree.origin.rows[a[t].index].expand=a[t].expand}for(var s=a[t].index+1;s<=a[t].lastchild;s++){var c=e.cellTree.origin.rows[s];a[t].expand?(c.hide=!1,c.icon&&!c.expand&&(s=c.lastchild)):c.hide=!0}}else if(e.cellTree.columns[t]){var d=e.cellTree.columns[t];switch(n){case"Expand":d[r].expand=!0;break;case"Collapse":d[r].expand=!1;break;default:d[r].expand=!d[r].expand}for(var u=d[r].index+1;u<=d[r].lastchild;u++)d[r].expand?e.cellTree.tempSchema[u].hidden=!1:e.cellTree.tempSchema[u].hidden=!0;var f,h=0;if(d[r].expand)for(;h<d[r].child;){f=t+h+1;for(var g=d[r].index;g<=d[r].lastchild;g++)if(e.cellTree.origin.columns[f]&&e.cellTree.origin.columns[f][g].icon&&!e.cellTree.origin.columns[f][g].expand)for(var m=g+1;m<=e.cellTree.origin.columns[f][g].lastchild;m++)e.cellTree.tempSchema[m].hidden=!0;h++}}var p,v={},y=[];for(var x in e.cellTree.rows=[],e.cellTree.columns={},e.cellTree.origin.rows){var w=[],C=e.cellTree.origin.rows[x];if(C.hide){for(var b=0;b<e.cellTree.rowTreeColIndex;b++)w.push(e.viewData[x][b]);v[x]=w,y.push(Array(e.viewData[0].length).fill("")),i++}else{var S=[],B=0;if(x<e.cellTree.columnTreeRowStartIndex)l.push(e.originalData[x]);else if(x>e.cellTree.columnTreeRowEndIndex)v[x]=e.viewData[x],i++;else{for(var R=0;R<e.originalData[x].length;R++)e.cellTree.tempSchema[R].hidden?B++:(R<e.cellTree.rowTreeColIndex&&(Object.prototype.hasOwnProperty.call(v,x)||(v[x]=[]),v[x].push(e.viewData[x][R])),w.push(e.originalData[x][R]),Object.prototype.hasOwnProperty.call(e.cellTree.origin.columns,x)&&S.push(e.cellTree.origin.columns[x][R]));w.push.apply(w,o(Array(B).fill(""))),S.length&&(S.push.apply(S,o(Array(B).fill().map((function(){return{}})))),e.cellTree.columns[x]=S),l.push(w)}e.cellTree.rows.push(C)}}for(var I in i&&((p=e.cellTree.rows).push.apply(p,o(Array(i).fill().map((function(t,r){return{index:e.cellTree.rows.length+r}})))),l.push.apply(l,y)),v)if(I>e.cellTree.columnTreeRowEndIndex)l[I]=v[I];else for(var M in v[I])l[I][M]=v[I][M];e.viewData=l},e.cellTreeExpandCollapse=function(t,r,o){if(r==e.cellTree.rowTreeColIndex&&(t>0||0==t&&e.cellTree.rows[0].icon)){var n=e.cellTree.rows;switch(o){case"Expand":n[t].expand=!0;break;case"Collapse":n[t].expand=!1;break;default:n[t].expand=!n[t].expand}for(var l=t+1;l<=n[t].lastchild;l++)n[t].expand?(n[l].hide=!1,n[l].icon&&!n[l].expand&&(l=n[l].lastchild)):n[l].hide=!0}else if(e.cellTree.columns[t]){var i=e.cellTree.columns[t];switch(o){case"Expand":i[r].expand=!0;break;case"Collapse":i[r].expand=!1;break;default:i[r].expand=!i[r].expand}for(var a=r+1;a<=i[r].lastchild;a++)i[r].expand?e.tempSchema[a].hidden=!1:e.tempSchema[a].hidden=!0;var s,c=0;if(i[r].expand)for(;c<i[r].child;){s=t+c+1;for(var d=r;d<=i[r].lastchild;d++)if(e.cellTree.columns[s]&&e.cellTree.columns[s][d].icon&&!e.cellTree.columns[s][d].expand)for(var u=d+1;u<=e.cellTree.columns[s][d].lastchild;u++)e.tempSchema[u].hidden=!0;c++}}},e.initCellTreeSettings=function(){if(void 0!==e.viewData){if(e.attributes.rowTree.length>0&&e.viewData.length>0){e.cellTree.rows=Array(e.viewData.length).fill().map((function(e,t){return{index:t}})),e.cellTree.rowTreeColIndex=e.attributes.rowTreeColIndex;var t,r=!1,o=l(e.attributes.rowTree);try{for(o.s();!(t=o.n()).done;){var n=t.value;if(e.cellTree.rows.length<=n.end){r=!0;break}for(var i=n.begin;i<=n.end;i++)i==n.begin?(e.cellTree.rows[i].icon=!0,e.cellTree.rows[i].lastchild=n.end,e.cellTree.rows[i].expand=!0,e.cellTree.rows[i].parentCount||(e.cellTree.rows[i].parentCount=0)):(e.cellTree.rows[i].hide=!1,e.cellTree.rows[i].parentIndex=n.begin,e.cellTree.rows[i]&&e.cellTree.rows[i].parentCount?e.cellTree.rows[i].parentCount+=1:e.cellTree.rows[i].parentCount=1)}}catch(e){o.e(e)}finally{o.f()}r&&(e.cellTree.rows={})}if(e.attributes.columnTree.length>0&&e.viewData.length>0){e.cellTree.columnTreeRowStartIndex=e.attributes.columnTreeRowStartIndex,e.cellTree.columnTreeRowEndIndex=e.attributes.columnTreeRowEndIndex;var a,s=Object.keys(e.viewData[0]).length,c=!1,d=l(e.attributes.columnTree);try{for(d.s();!(a=d.n()).done;){var u=a.value;if(s<=u.end){c=!0;break}e.cellTree.columns[u.row]||(e.cellTree.columns[u.row]=Array(s).fill().map((function(e,t){return{index:t}})));for(var f=u.begin;f<=u.end;f++){var h=e.cellTree.columns[u.row][f];f==u.begin&&(h.icon=!0,h.lastchild=u.end,h.length=u.end-u.begin,h.expand=!0,u.child?h.child=u.child:h.child=0)}}}catch(e){d.e(e)}finally{d.f()}e.cellTree.tempSchema=Array(s).fill().map((function(){return{hidden:!1}})),c&&(e.cellTree.columns={})}e.cellTree.origin={rows:e.cellTree.rows,columns:e.cellTree.columns}}},e.getDomRoot=function(){return e.shadowRoot?e.shadowRoot.host:e.parentNode},e.getFontName=function(e){return e.replace(/\d+\.?\d*px/,"")},e.getFontHeight=function(e){return parseFloat(e)},e.parseStyleValue=function(t){if(/Font/.test(t))return e.style[t+"Height"]=e.getFontHeight(e.style[t]),void(e.style[t+"Name"]=e.getFontName(e.style[t]));"moveOverlayBorderSegments"===t&&"string"==typeof e.style[t]&&(e.style[t]=e.style[t].split(",").map((function(e){return parseInt(e,10)})))},e.initProp=function(t){e.args[t]&&Object.keys(e.args[t]).forEach((function(r){e[t][r]=e.args[t][r]}))},e.getStyleProperty=function(t){return-1===e.styleKeys.indexOf(t)?e.parentNodeStyle[t]:e.style[t]},e.setStyleProperty=function(t,r,o){var n=-1!==["height","width","minHeight","minWidth","maxHeight","maxWidth"].indexOf(t);-1===e.styleKeys.indexOf(t)?e.parentNodeStyle[t]=r:(/-/.test(t)&&(t=e.dehyphenateProperty(t)),e.style[t]=r,e.parseStyleValue(t)),n&&e.resize(),o||(e.draw(!0),e.dispatchEvent("stylechanged",{name:"style",value:r}))},e.reloadStoredValues=function(){if(e.attributes.name&&e.attributes.saveAppearance){try{e.storedSettings=localStorage.getItem(e.storageName+"-"+e.attributes.name)}catch(t){console.warn("Error loading stored values. "+t.message),e.storedSettings=void 0}if(e.storedSettings)try{e.storedSettings=JSON.parse(e.storedSettings)}catch(t){console.warn("could not read settings from localStore",t),e.storedSettings=void 0}e.storedSettings&&("object"===n(e.storedSettings.sizes)&&null!==e.storedSettings.sizes&&(e.sizes.rows=e.storedSettings.sizes.rows,e.sizes.columns=e.storedSettings.sizes.columns,["trees","columns","rows"].forEach((function(t){e.sizes[t]||(e.sizes[t]={})}))),"object"===n(e.storedSettings.visibility)&&e.getSchema().forEach((function(t){e.storedSettings.visibility&&void 0!==e.storedSettings.visibility[t.name]&&(t.hidden=!e.storedSettings.visibility[t.name])})))}},e.init=function(){if(!e.initialized){var t={};return e.setAttributes(),e.setStyle(),e.initScrollBox(),e.setDom(),e.nodeType="canvas-datagrid",e.ie=/Trident/.test(window.navigator.userAgent),e.edge=/Edge/.test(window.navigator.userAgent),e.webKit=/WebKit/.test(window.navigator.userAgent),e.moz=/Gecko/.test(window.navigator.userAgent),e.mobile=/Mobile/i.test(window.navigator.userAgent),e.blankValues=[void 0,null,""],e.cursorGrab="grab",e.cursorGrabing="grabbing",e.cursorGrab=e.webKit?"-webkit-grab":e.cursorGrab,e.cursorGrabing=e.moz?"-webkit-grabbing":e.cursorGrabbing,e.pointerLockPosition={x:0,y:0},Object.keys(e.style).forEach(e.parseStyleValue),e.intf.moveSelection=e.moveSelection,e.intf.deleteSelectedData=e.deleteSelectedData,e.intf.moveTo=e.moveTo,e.intf.addEventListener=e.addEventListener,e.intf.removeEventListener=e.removeEventListener,e.intf.dispatchEvent=e.dispatchEvent,e.intf.dispose=e.dispose,e.intf.appendTo=e.appendTo,e.intf.getVisibleCellByIndex=e.getVisibleCellByIndex,e.intf.filters=e.filters,e.intf.sorters=e.sorters,e.intf.autosize=e.autosize,e.intf.beginEditAt=e.beginEditAt,e.intf.endEdit=e.endEdit,e.intf.setActiveCell=e.setActiveCell,e.intf.forEachSelectedCell=e.forEachSelectedCell,e.intf.scrollIntoView=e.scrollIntoView,e.intf.clearChangeLog=e.clearChangeLog,e.intf.gotoCell=e.gotoCell,e.intf.gotoRow=e.gotoRow,e.intf.addButton=e.addButton,e.intf.toggleCellCollapseTree=e.toggleCellCollapseTree,e.intf.expandCollapseCellTree=e.expandCollapseCellTree,e.intf.getHeaderByName=e.getHeaderByName,e.intf.findColumnScrollLeft=e.findColumnScrollLeft,e.intf.findRowScrollTop=e.findRowScrollTop,e.intf.fitColumnToValues=e.fitColumnToValues,e.intf.findColumnMaxTextLength=e.findColumnMaxTextLength,e.intf.disposeContextMenu=e.disposeContextMenu,e.intf.getCellAt=e.getCellAt,e.intf.groupColumns=e.groupColumns,e.intf.groupRows=e.groupRows,e.intf.removeGroupColumns=e.removeGroupColumns,e.intf.removeGroupRows=e.removeGroupRows,e.intf.toggleGroupColumns=e.toggleGroupColumns,e.intf.toggleGroupRows=e.toggleGroupRows,e.intf.getGroupsColumnBelongsTo=e.getGroupsColumnBelongsTo,e.intf.getGroupsRowBelongsTo=e.getGroupsRowBelongsTo,e.intf.isCellVisible=e.isCellVisible,e.intf.isRowVisible=e.isRowVisible,e.intf.isColumnVisible=e.isColumnVisible,e.intf.order=e.order,e.intf.draw=e.draw,e.intf.refresh=e.refresh,e.intf.isComponent=e.isComponent,e.intf.selectArea=e.selectArea,e.intf.clipElement=e.clipElement,e.intf.getSchemaFromData=e.getSchemaFromData,e.intf.setFilter=e.setFilter,e.intf.parentGrid=e.parentGrid,e.intf.toggleTree=e.toggleTree,e.intf.expandTree=e.expandTree,e.intf.collapseTree=e.collapseTree,e.intf.canvas=e.canvas,e.intf.context=e.ctx,e.intf.insertRow=e.insertRow,e.intf.deleteRow=e.deleteRow,e.intf.addRow=e.addRow,e.intf.insertColumn=e.insertColumn,e.intf.deleteColumn=e.deleteColumn,e.intf.addColumn=e.addColumn,e.intf.getClippingRect=e.getClippingRect,e.intf.setRowHeight=e.setRowHeight,e.intf.setColumnWidth=e.setColumnWidth,e.intf.resetColumnWidths=e.resetColumnWidths,e.intf.resetRowHeights=e.resetRowHeights,e.intf.resize=e.resize,e.intf.selectColumn=e.selectColumn,e.intf.selectRow=e.selectRow,e.intf.selectAll=e.selectAll,e.intf.selectNone=e.selectNone,e.intf.drawChildGrids=e.drawChildGrids,e.intf.assertPxColor=e.assertPxColor,e.intf.clearPxColorAssertions=e.clearPxColorAssertions,e.intf.integerToAlpha=e.integerToAlpha,e.intf.copy=e.copy,e.intf.cut=e.cut,e.intf.paste=e.paste,e.intf.setStyleProperty=e.setStyleProperty,e.intf.hideColumns=e.hideColumns,e.intf.unhideColumns=e.unhideColumns,e.intf.hideRows=e.hideRows,e.intf.unhideRows=e.unhideRows,Object.defineProperty(e.intf,"defaults",{get:function(){return{styles:e.defaults.styles.reduce((function(e,t){return e[t[0]]=t[1],e}),{}),attributes:e.defaults.attributes.reduce((function(e,t){return e[t[0]]=t[1],e}),{})}}}),e.styleKeys=Object.keys(e.intf.defaults.styles),e.styleKeys.map((function(t){return e.hyphenateProperty(t,!1)})).forEach(r),e.styleKeys.map((function(t){return e.hyphenateProperty(t,!0)})).forEach(r),e.DOMStyles=window.getComputedStyle(document.body,null),e.styleKeys.concat(Object.keys(e.DOMStyles)).forEach((function(r){t[r]=void 0,Object.defineProperty(t,r,{get:function(){return e.getStyleProperty(r)},set:function(t){e.initialized&&(e.appliedInlineStyles[r]=t),e.setStyleProperty(r,t)}})})),Object.defineProperty(e.intf,"shadowRoot",{get:function(){return e.shadowRoot}}),Object.defineProperty(e.intf,"activeCell",{get:function(){return e.activeCell}}),Object.defineProperty(e.intf,"hasFocus",{get:function(){return e.hasFocus}}),Object.defineProperty(e.intf,"hasActiveFilters",{get:function(){return e.hasActiveFilters()}}),Object.defineProperty(e.intf,"style",{get:function(){return t},set:function(t){Object.keys(t).forEach((function(r){e.setStyleProperty(r,t[r],!0)})),e.draw(!0),e.dispatchEvent("stylechanged",{name:"style",value:t})}}),Object.defineProperty(e.intf,"attributes",{value:{}}),Object.keys(e.attributes).forEach((function(t){Object.defineProperty(e.intf.attributes,t,{get:function(){return e.attributes[t]},set:function(r){e.attributes[t]=r,"name"===t&&e.tryLoadStoredSettings(),"rowTree"!==t&&"columnTree"!==t&&"columnTreeRowEndIndex"!==t||e.initCellTreeSettings(),e.draw(!0),e.dispatchEvent("attributechanged",{name:t,value:r[t]})}})})),e.filters.string=function(t,r){if(r===e.attributes.blanksText)return e.blankValues.includes(null==t?t:String(t).trim());t=String(t);var o,n=/\/(i|g|m)*$/.exec(r),l=n?n[0].substring(1):"",i=l.length;if(e.invalidFilterRegEx=void 0,"/"===r.substring(0,1)&&n){try{o=new RegExp(r.substring(1,r.length-(i+1)),l)}catch(t){return void(e.invalidFilterRegEx=t)}return o.test(t)}return!!t.toString&&-1!==t.toString().toLocaleUpperCase().indexOf(r.toLocaleUpperCase())},e.filters.number=function(t,r){return r===e.attributes.blanksText?e.blankValues.includes(null==t?t:String(t).trim()):!r||t===r},["formatters","filters","sorters"].forEach(e.initProp),e.applyComponentStyle(!1,e.intf),e.reloadStoredValues(),e.args.data&&(e.intf.data=e.args.data),(e.intf.innerText||e.intf.textContent)&&("application/x-canvas-datagrid"===e.intf.dataType&&(e.intf.dataType="application/json+x-canvas-datagrid"),e.intf.data=e.intf.innerText||e.intf.textContent),e.args.schema&&(e.intf.schema=e.args.schema),e.isChildGrid||!e.isComponent?requestAnimationFrame((function(){e.resize(!0)})):e.resize(!0),e.initialized=!0,e}function r(t){-1===e.styleKeys.indexOf(t)&&e.styleKeys.push(t)}},e.intf.blur=function(t){e.hasFocus=!1},e.intf.focus=function(){e.hasFocus=!0,e.controlInput.focus()},(e.shadowRoot||e.isChildGrid)&&(Object.defineProperty(e.intf,"height",{get:function(){return e.shadowRoot?e.shadowRoot.height:e.parentNode.height},set:function(t){e.shadowRoot?e.shadowRoot.height=t:e.parentNode.height=t,e.resize(!0)}}),Object.defineProperty(e.intf,"width",{get:function(){return e.shadowRoot?e.shadowRoot.width:e.parentNode.width},set:function(t){e.shadowRoot?e.shadowRoot.width=t:e.parentNode.width=t,e.resize(!0)}}),Object.defineProperty(e.intf,"parentNode",{get:function(){return e.parentNode},set:function(t){if(!e.isChildGrid)throw new TypeError("Cannot set property parentNode which has only a getter");e.parentNode=t}})),Object.defineProperty(e.intf,"visibleRowHeights",{get:function(){return e.visibleRowHeights}}),Object.defineProperty(e.intf,"openChildren",{get:function(){return e.openChildren}}),Object.defineProperty(e.intf,"childGrids",{get:function(){return Object.keys(e.childGrids).map((function(t){return e.childGrids[t]}))}}),Object.defineProperty(e.intf,"isChildGrid",{get:function(){return e.isChildGrid}}),Object.defineProperty(e,"cursor",{get:function(){return e.parentNodeStyle.cursor},set:function(t){"cell"===t&&(t="default"),e.currentCursor!==t&&(e.parentNodeStyle.cursor=t,e.currentCursor=t)}}),Object.defineProperty(e.intf,"orderDirection",{get:function(){return e.orderDirection},set:function(t){"desc"!==t&&(t="asc"),e.orderDirection=t,e.order(e.orderBy,e.orderDirection)}}),Object.defineProperty(e.intf,"orderBy",{get:function(){return e.orderBy},set:function(t){if(void 0===e.getSchema().find((function(e){return e.name===t})))throw new Error("Cannot sort by unknown column name.");e.orderBy=t,e.order(e.orderBy,e.orderDirection)}}),e.isComponent&&(Object.defineProperty(e.intf,"offsetHeight",{get:function(){return e.canvas.offsetHeight}}),Object.defineProperty(e.intf,"offsetWidth",{get:function(){return e.canvas.offsetWidth}})),Object.defineProperty(e.intf,"scrollHeight",{get:function(){return e.scrollBox.scrollHeight}}),Object.defineProperty(e.intf,"scrollWidth",{get:function(){return e.scrollBox.scrollWidth}}),Object.defineProperty(e.intf,"scrollTop",{get:function(){return e.scrollBox.scrollTop},set:function(t){e.scrollBox.scrollTop=t}}),Object.defineProperty(e.intf,"scrollLeft",{get:function(){return e.scrollBox.scrollLeft},set:function(t){e.scrollBox.scrollLeft=t}}),Object.defineProperty(e.intf,"sizes",{get:function(){return e.sizes}}),Object.defineProperty(e.intf,"parentDOMNode",{get:function(){return e.parentDOMNode}}),Object.defineProperty(e.intf,"input",{get:function(){return e.input}}),Object.defineProperty(e.intf,"controlInput",{get:function(){return e.controlInput}}),Object.defineProperty(e.intf,"currentCell",{get:function(){return e.currentCell}}),Object.defineProperty(e.intf,"visibleCells",{get:function(){return e.visibleCells}}),Object.defineProperty(e.intf,"visibleRows",{get:function(){return e.visibleRows}}),Object.defineProperty(e.intf,"selections",{get:function(){return a||(console.warn("DeprecationWarning: The property 'selections' is deprecated due to performance issue. And it will be removed in the future.Please use new property 'selectionList' instead. Visit this link to get more information: https://github.com/TonyGermaneri/canvas-datagrid/pull/498"),a=!0),e.getObsoleteSelectionMatrix()}}),Object.defineProperty(e.intf,"selectionList",{get:function(){return e.selections}}),Object.defineProperty(e.intf,"dragMode",{get:function(){return e.dragMode}}),Object.defineProperty(e.intf,"changes",{get:function(){return e.changes}}),e.intf.formatters=e.formatters,Object.defineProperty(e.intf,"dataType",{get:function(){return e.dataType},set:function(t){if(!e.parsers[t])throw new Error("No parser for MIME type "+t);e.dataType=t}}),e.eventNames.forEach((function(t){Object.defineProperty(e.intf,"on"+t,{get:function(){return e.componentL1Events[t]},set:function(r){e.events[t]=[],e.componentL1Events[t]=r,r&&e.addEventListener(t,r)}})})),Object.defineProperty(e.intf,"frozenRow",{get:function(){return e.frozenRow},set:function(t){if(isNaN(t))throw new TypeError("Expected value for frozenRow to be a number.");if(e.visibleRows.length<t)throw new RangeError("Cannot set a value larger than the number of visible rows.");e.frozenRow=t}}),Object.defineProperty(e.intf,"frozenColumn",{get:function(){return e.frozenColumn},set:function(t){if(isNaN(t))throw new TypeError("Expected value for frozenRow to be a number.");if(e.getVisibleSchema().length<t)throw new RangeError("Cannot set a value larger than the number of visible columns.");e.frozenColumn=t}}),Object.defineProperty(e.intf,"scrollIndexRect",{get:function(){return{top:e.scrollIndexTop,right:e.scrollIndexRight,bottom:e.scrollIndexBottom,left:e.scrollIndexLeft}}}),Object.defineProperty(e.intf,"scrollPixelRect",{get:function(){return{top:e.scrollPixelTop,right:e.scrollPixelRight,bottom:e.scrollPixelBottom,left:e.scrollPixelLeft}}}),Object.defineProperty(e.intf,"rowOrder",{get:function(){return e.orders.rows},set:function(t){if(!Array.isArray(t))throw new TypeError("Value must be an array.");if(!e.originalData||t.length<e.originalData.length)throw new RangeError("Array length must be equal to or greater than number of rows.");e.orders.rows=t}}),Object.defineProperty(e.intf,"columnOrder",{get:function(){return e.orders.columns},set:function(t){if(!Array.isArray(t))throw new TypeError("Value must be an array.");if(t.length<e.getSchema().length)throw new RangeError("Array length must be equal to or greater than number of columns.");e.orders.columns=t}}),Object.defineProperty(e.intf,"selectionBounds",{get:function(){return e.getSelectionBounds()}}),Object.defineProperty(e.intf,"selectedRows",{get:function(){return e.getSelectedData(!0)}}),Object.defineProperty(e.intf,"selectedCells",{get:function(){return e.getSelectedData()}}),Object.defineProperty(e.intf,"visibleSchema",{get:function(){return e.getVisibleSchema().map((function(e){return e}))}}),Object.defineProperty(e.intf,"treeGridAttributes",{get:function(){return e.treeGridAttributes},set:function(t){e.treeGridAttributes=t}}),Object.defineProperty(e.intf,"cellGridAttributes",{get:function(){return e.cellGridAttributes},set:function(t){e.cellGridAttributes=t}}),Object.defineProperty(e.intf,"fillCellCallback",{get:function(){return e.fillCellCallback},set:function(t){e.fillCellCallback=t}}),Object.defineProperty(e.intf,"ctx",{get:function(){return e.ctx}}),Object.defineProperty(e.intf,"schema",{get:function(){return e.getSchema()},set:function(t){if(void 0===t)return e.schema=void 0,e.tempSchema=void 0,void e.dispatchEvent("schemachanged",{schema:void 0});if(!Array.isArray(t)||"object"!==n(t[0]))throw new Error("Schema must be an array of objects.");if(void 0===t[0].name)throw new Error("Expected schema to contain an object with at least a name property.");e.schema=t.map((function(t,r){return t.width=t.width||e.style.cellWidth,t.filter=t.filter||e.filter(t.type),t.type=t.type||"string",t.index=r,t.columnIndex=r,t.rowIndex=-1,t})),e.tempSchema=void 0,e.createNewRowData(),e.createColumnOrders(),e.tryLoadStoredSettings(),e.storedSettings&&"object"===n(e.storedSettings.visibility)&&e.schema.forEach((function(t,r){e.storedSettings&&void 0!==e.storedSettings.visibility[t.name]&&(t.hidden=!e.storedSettings.visibility[t.name])})),e.resize(!0),e.dispatchEvent("schemachanged",{schema:e.schema})}}),e.intf.getTypes=function(){return Object.keys(e.parsers)},e.parseInnerHtml=function(e){if(!e||/^ +$/.test(e))return[];try{e=JSON.parse(e)}catch(e){console.warn(Error("Cannot parse application/json+x-canvas-datagrid formated data. "+e.message+"  \nNote: canvas-datagrid.innerHTML is for string data only.  Use the canvas-datagrid.data property to set object data."))}return e},e.parsers["application/json+x-canvas-datagrid"]=function(t,r){e.parsers["application/x-canvas-datagrid"](e.parseInnerHtml(t),(function(e,t){return r(e,t)}))},e.parsers["application/x-canvas-datagrid"]=function(e,t){return t(e)},e.intf.parsers=e.parsers,e.etl=function(t,r){if(!e.intf.parsers[e.dataType])throw new Error("Unsupported data type.");e.intf.parsers[e.dataType](t,(function(t,o){e.originalData=t,e.viewData=Array.from(e.originalData),Array.isArray(o)&&(e.schema=o),e.attributes.autoGenerateSchema&&(e.schema=e.getSchemaFromData(t)),e.schema||(e.tempSchema=e.getSchemaFromData(t)),e.getSchema()&&e.createColumnOrders(),e.refresh(),e.schema||0!==(e.originalData||[]).length||(e.tempSchema=[{name:""}]),e.fitColumnToValues("cornerCell",!0),(e.tempSchema&&!e.schema||e.attributes.autoGenerateSchema)&&(e.createColumnOrders(),e.dispatchEvent("schemachanged",{schema:e.tempSchema})),r()}))},Object.defineProperty(e.intf,"viewData",{get:function(){return e.viewData}}),Object.defineProperty(e.intf,"boundData",{get:function(){return e.originalData}}),Object.defineProperty(e.intf,"data",{get:function(){return e.originalData},set:function(t){e.etl(t,(function(){e.changes=[],e.createNewRowData(),e.attributes.autoResizeColumns&&e.originalData.length>0&&void 0===e.storedSettings&&e.autosize(),e.fitColumnToValues("cornerCell",!0),e.createRowOrders(),e.tryLoadStoredSettings(),e.dispatchEvent("datachanged",{data:e.originalData}),e.initCellTreeSettings(),e.resize(!0)}))}}),e.initScrollBox=function(){var t=0,r=0,o=0,n=0,l=0,i=0,a=20,s=20;function c(t,r){if(isNaN(t))throw new Error("ScrollTop value must be a number");t<0&&(t=0),t>l&&(t=l),l<0&&(t=0),o=t,r||e.scroll(),e.button&&e.moveButtonPos()}function d(t,r){if(isNaN(t))throw new Error("ScrollLeft value must be a number");t<0&&(t=0),t>i&&(t=i),i<0&&(t=0),n=t,r||e.scroll(),e.button&&e.moveButtonPos()}e.scrollBox.toString=function(){return'{"width": '+i.toFixed(2)+', "height": '+l.toFixed(2)+', "left": '+n.toFixed(2)+', "top": '+o.toFixed(2)+', "widthRatio": '+e.scrollBox.widthBoxRatio.toFixed(5)+', "heightRatio": '+e.scrollBox.heightBoxRatio.toFixed(5)+"}"},e.scrollBox.scrollTo=function(e,t,r){d(e,!0),c(t,r)},Object.defineProperty(e.scrollBox,"scrollBoxHeight",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(e.scrollBox,"scrollBoxWidth",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(e.scrollBox,"height",{get:function(){return t},set:function(e){t=e}}),Object.defineProperty(e.scrollBox,"width",{get:function(){return r},set:function(e){r=e}}),Object.defineProperty(e.scrollBox,"scrollTop",{get:function(){return o},set:c}),Object.defineProperty(e.scrollBox,"scrollLeft",{get:function(){return n},set:d}),Object.defineProperty(e.scrollBox,"scrollHeight",{get:function(){return l},set:function(e){o>e&&(o=Math.max(e,0)),l=e}}),Object.defineProperty(e.scrollBox,"scrollWidth",{get:function(){return i},set:function(e){n>e&&(n=Math.max(e,0)),i=e}})}}r.d(t,{Z:function(){return c}})},995:function(e,t,r){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r.d(t,{Z:function(){return a}});var n=function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){n=!0,l=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],l=r[1];if(l<n)return!1;for(var i=!1,a=0;a<e.length;a++){var s=e[a];if(!(n>s[1]+1)){if(n<=s[0]&&l>=s[0]){e[a]=[n,Math.max(l,s[1])],i=!0;break}if(n>=s[0]){e[a]=[s[0],Math.max(l,s[1])],i=!0;break}}}i||e.push([n,l]),e.sort((function(e,t){return e[0]-t[0]}));for(var c=0;c<e.length-1;c++){var d=e[c],u=e[c+1];u[0]<=d[1]+1&&(e[c]=[d[0],Math.max(d[1],u[1])],e.splice(c+1,1),c--)}return!0};function l(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,l=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw l}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function a(e){function t(t,r,o){for(var n=!1,l="rows"===t?e.groupedRows:e.groupedColumns,i=l.length-1;i>=0;i--){var a=l[i],s=a[0].from,c=a[a.length-1].to;if(r<=s&&o>=c){if(r===s&&o===c&&1===a.length)return}else{for(var d=0;d<a.length;d++){var u=a[d];if(!(r>u.to)){if(r>=u.from){if(o>u.to){if(r===u.from)return l.splice(i,0,[{from:r,to:o,collapsed:!1}]),void e.refresh();throw new Error("Can't group these ".concat(t))}if(o===u.to&&r===u.from)return;n=!0;break}if(o>=u.from){if(o<u.to)throw new Error("Can't group these ".concat(t));l.splice(i,0,[{from:r,to:o,collapsed:!1}])}else a.splice(d,0,{from:r,to:o,collapsed:!1});return void e.refresh()}}if(!n)return a.push({from:r,to:o,collapsed:!1}),void e.refresh()}}n?l.push([{from:r,to:o,collapsed:!1}]):l.unshift([{from:r,to:o,collapsed:!1}]),e.refresh()}function r(t,r,o){for(var n=0;n<t.length;n++)for(var l=t[n],i=0;i<l.length;i++){var a=l[i];if(a.from===r&&a.to===o)return l.length<=1?t.splice(n,1):l.splice(i,1),void e.refresh()}}e.integerToAlpha=function(e){for(var t="a".charCodeAt(0),r="z".charCodeAt(0)-t+1,o="";e>=0;)o=String.fromCharCode(e%r+t)+o,e=Math.floor(e/r)-1;return o},e.insertColumn=function(t,r){var o=e.getSchema();if(o.length<r)throw new Error("Index is beyond the length of the schema.");e.validateColumn(t,o),o.splice(r,0,t),e.originalData.forEach((function(r,o){e.applyDefaultValue(r,t,o)})),e.intf.schema=o,e.refresh()},e.deleteColumn=function(t){var r=e.getSchema();e.originalData.forEach((function(e){delete e[r[t].name]})),r.splice(t,1),e.intf.schema=r,e.refresh()},e.addColumn=function(t){var r=e.getSchema();e.validateColumn(t,r),r.push(t),e.originalData.forEach((function(r,o){e.applyDefaultValue(r,t,o)})),e.intf.schema=r,e.refresh()},e.deleteRow=function(t){e.originalData.splice(t,1),e.setFilter(),e.resize(!0)},e.insertRow=function(t,r){if(e.originalData.length<r)throw new Error("Index is beyond the length of the dataset.");e.originalData.splice(r,0,t),e.getSchema().forEach((function(o){void 0===t[o.name]&&e.applyDefaultValue(e.originalData[r],o,r)})),e.setFilter(),e.resize(!0)},e.addRow=function(t){e.originalData.push(t),e.getSchema().forEach((function(r){void 0===t[r.name]&&e.applyDefaultValue(e.originalData[e.originalData.length-1],r,e.originalData.length-1)})),e.setFilter(),e.resize(!0)},e.setRowHeight=function(t,r){e.sizes.rows[t]=r,e.draw(!0)},e.setColumnWidth=function(t,r){e.sizes.columns[t]=r,e.draw(!0)},e.resetColumnWidths=function(){e.sizes.columns={},e.draw(!0)},e.resetRowHeights=function(){e.sizes.rows={},e.draw(!0)},e.setFilter=function(t,r){void 0===t&&void 0===r?e.columnFilters={}:!t||""!==r&&void 0!==r?(e.columnFilters[t]=r,e.attributes.showFilterInCell&&(e.filterable.rows.push(0),e.orders.columns.forEach((function(t,r){e.filterable.columns.push(r)})))):delete e.columnFilters[t],Object.keys(e.columnFilters).length||(e.filterable={rows:[],columns:[]}),e.refresh()},e.findRowScrollTop=function(t){if(void 0===e.scrollCache.y[t])throw new RangeError("Row index ".concat(t," out of range: ").concat(e.scrollCache.y.length,"."));return e.scrollCache.y[t]},e.findColumnScrollLeft=function(t){var r=Math.max(t-1,0);if(void 0===e.scrollCache.x[r])throw new Error("Column index out of range.");return e.scrollCache.x[r]-e.getColumnWidth(e.orders.columns[t])},e.gotoCell=function(t,r,o,n){var l,i=void 0===t?void 0:e.findColumnScrollLeft(t),a=void 0===r?void 0:e.findRowScrollTop(r),s=e.scrollBox.width-(e.scrollBox.verticalBarVisible?e.style.scrollBarWidth:0),c=e.scrollBox.height-(e.scrollBox.horizontalBarVisible?e.style.scrollBarWidth:0);i-=s*(o=void 0===o?0:o),a-=c*(n=void 0===n?0:n),void 0!==t&&void 0!==r?(e.scrollBox.scrollTo(i,a),requestAnimationFrame((function(){(l=e.getVisibleCellByIndex(t,r))&&(i+=l.width*o,a+=l.height*n,e.scrollBox.scrollTo(i,a))}))):void 0!==t?e.scrollBox.scrollLeft=i:void 0!==r&&(e.scrollBox.scrollTop=a)},e.gotoRow=function(t){e.gotoCell(0,t)},e.addButton=function(t,r,o,n,l){var i=e.visibleCells.filter((function(e){return e.sortColumnIndex===t&&e.sortRowIndex===r}));e.attachButton({top:i[0].y+i[0].height+o.y,left:i[0].x+i[0].width+o.x},n,l)},e.toggleCellCollapseTree=function(t){for(var r in t){var o,n=l(t[r]);try{for(n.s();!(o=n.n()).done;){var i=o.value;i.length>0&&e.toggleCollapseTree(i[0],i[1],r)}}catch(e){n.e(e)}finally{n.f()}}e.draw()},e.expandCollapseCellTree=function(t){for(var r in t){var o,n=l(t[r]);try{for(n.s();!(o=n.n()).done;){var i=o.value;i.length>0&&e.cellTreeExpandCollapse(i[0],i[1],r)}}catch(e){n.e(e)}finally{n.f()}}e.draw()},e.scrollIntoView=function(t,r,o,n){var l=e.visibleCells.filter((function(o){return(o.rowIndex===r||void 0===r)&&(o.columnIndex===t||void 0===t)&&o.x>0&&o.y>0&&o.x+o.width<e.width&&o.y+o.height<e.height}));1===l.length&&void 0!==t&&void 0!==r&&(l[0].x<e.getRowHeaderCellWidth()||l[0].y<e.getColumnHeaderCellHeight())&&(l.length=0),0===l.length&&e.gotoCell(t,r,o,n)},e.setActiveCell=function(t,r){void 0!==t&&(t<0&&(t=0),r<0&&(r=0),e.activeCell={rowIndex:r,columnIndex:t})},e.collapseTree=function(t){e.dispatchEvent("collapsetree",{childGrid:e.childGrids[t],data:e.viewData[t],rowIndex:t}),e.openChildren[t].blur(),e.openChildren[t].dispose(),delete e.openChildren[t],delete e.sizes.trees[t],delete e.childGrids[t],e.dispatchEvent("resizerow",{cellHeight:e.style.cellHeight}),e.resize(!0),e.draw(!0)},e.expandTree=function(t){var r,o=e.args.treeGridAttributes||{},n=e.getColumnHeaderCellHeight(),l=e.sizes.columns.cornerCell||e.style.rowHeaderCellWidth,i=e.sizes.trees[t]||e.style.treeGridHeight;e.childGrids[t]||(o.debug=e.attributes.debug,o.name=e.attributes.saveAppearance?e.attributes.name+"tree"+t:void 0,o.style=o.style||e.style,o.parentNode={parentGrid:e.intf,nodeType:"canvas-datagrid-tree",offsetHeight:i,offsetWidth:e.width-l,header:{width:e.width-l},offsetLeft:l,offsetTop:n,offsetParent:e.intf.parentNode,parentNode:e.intf.parentNode,style:"tree",data:e.viewData[t]},r=e.createGrid(o),e.childGrids[t]=r),(r=e.childGrids[t]).visible=!0,e.dispatchEvent("expandtree",{treeGrid:r,data:e.viewData[t],rowIndex:t}),e.openChildren[t]=r,e.sizes.trees[t]=i,e.dispatchEvent("resizerow",{height:e.style.cellHeight}),e.resize(!0)},e.toggleTree=function(t){if(e.openChildren[t])return e.collapseTree(t);e.expandTree(t)},e.getHeaderByName=function(t){var r,o=e.getSchema();for(r=0;r<o.length;r+=1)if(o[r].name===t)return o[r]},e.hideColumns=function(t,r){var o=e.getSchema(),n=e.orders.columns,l=[];"number"!=typeof r&&(r=t);for(var i=t;i<=r;i++){var a=n[i];a>=0&&!o[a].hidden&&(l.push(a),o[a].hidden=!0,e.dispatchEvent("columnhide",{columnIndex:a}))}l.length>0&&(e.setStorageData(),setTimeout((function(){e.resize(!0)}),10)),e.dispatchEvent("hidecolumns",{hiddenColumns:l})},e.unhideColumns=function(t,r){for(var o=e.orders.columns,n=e.getSchema(),l=t;l<=r;l++){var i=o[l],a=n[i];a&&a.hidden&&(a.hidden=!1,e.dispatchEvent("columnunhide",{columnIndex:i}))}e.refresh()},e.hideRows=function(t,r){n(e.hiddenRowRanges,[t,r])&&e.refresh()},e.unhideRows=function(t,r){e.hiddenRowRanges=e.hiddenRowRanges.filter((function(e){return e[0]!==t||e[1]!==r})),e.refresh()},e.fitColumnToValues=function(t,r){if(e.canvas){var o="cornerCell"===t?-1:e.getHeaderByName(t).index,n=Math.max(e.findColumnMaxTextLength(t),e.style.minColumnWidth);e.sizes.columns[o]=n,e.dispatchEvent("resizecolumn",{x:n,y:e.resizingStartingHeight,draggingItem:e.currentCell}),r||(e.resize(),e.draw(!0))}},e.isCellVisible=function(t,r){if(void 0!==r)return e.visibleCells.filter((function(e){return e.columnIndex===t&&e.rowIndex===r})).length>0;var o,n=e.visibleCells.length;for(o=0;o<n;o+=1)if(t.x===e.visibleCells[o].x&&t.y===e.visibleCells[o].y)return!0;return!1},e.order=function(t,r,o,n){if(e.attributes.allowSorting){var l,i=e.getSchema().filter((function(e){return e.name===t}));if(!e.dispatchEvent("beforesortcolumn",{name:t,direction:r})&&(e.orderBy=t,e.orderDirection=r,e.viewData&&0!==e.viewData.length)){if(0===i.length)throw new Error("Cannot sort.  No such column name");(l=o||i[0].sorter||e.sorters[i[0].type])||void 0===i[0].type||console.warn('Cannot sort type "%s" falling back to string sort.',i[0].type),e.orderings.add(t,r,"function"==typeof l?l:e.sorters.string),e.refresh(),e.dispatchEvent("sortcolumn",{name:t,direction:r}),n||e.setStorageData()}}else e.refresh()},e.groupColumns=function(r,o){for(var n,l,i=e.getSchema(),a=0;a<i.length;a++){var s=i[a];if(n&&l)break;s.name!==r?s.name!==o||(l=s):n=s}if(!n)throw new Error("No such column name for first column");if(!l)throw new Error("No such column name for last column");if(l.columnIndex>n.columnIndex!=1)throw new Error("Can't group these columns");var c=n.columnIndex,d=l.columnIndex,u={group:{type:"columns",from:c,to:d}};try{t("columns",c,d)}catch(e){u.error=e}e.dispatchEvent("aftercreategroup",u)},e.groupRows=function(r,o){if(!Number.isInteger(r)||r<0)throw new Error("No such row for the beginning of the group");var n=e.viewData.length;if(!Number.isInteger(r)||o<=r||o>=n)throw new Error("No such row for the end of the group");var l={group:{type:"rows",from:r,to:o}};try{t("rows",r,o)}catch(e){l.error=e}e.dispatchEvent("aftercreategroup",l)},e.removeGroupColumns=function(t,o){for(var n,l,i=e.getSchema(),a=0;a<i.length;a++){var s=i[a];if(n&&l)break;s.name!==t?s.name!==o||(l=s):n=s}if(!n)throw new Error("No such column name for first column");if(!l)throw new Error("No such column name for last column");var c=n.columnIndex,d=l.columnIndex;r(e.groupedColumns,c,d)},e.removeGroupRows=function(t,o){r(e.groupedRows,t,o)},e.toggleGroupColumns=function(t,r){for(var o,n,l=e.getSchema(),i=0;i<l.length;i++){var a=l[i];if(o&&n)break;a.name!==t?a.name!==r||(n=a):o=a}if(o&&n){var s=o.columnIndex,c=n.columnIndex;e.toggleGroup({type:"c",from:s,to:c})&&(e.disposeContextMenu(),e.setStorageData(),e.refresh())}},e.toggleGroupRows=function(t,r){e.toggleGroup({type:"r",from:t,to:r})&&(e.disposeContextMenu(),e.setStorageData(),e.refresh())},e.isInGrid=function(t){return!(t.x<0||t.x>e.width||t.y<0||t.y>e.height)},e.moveTo=function(t,r,o){t=e.getObsoleteSelectionMatrix(t);var n,l=e.getSelectedData(),i=e.getVisibleSchema(),a=t.length,s=-1/0,c=1/0,d=o-1;t.forEach((function(t,o){o!==a&&0!==t.length&&(c=Math.min(e.getVisibleColumnIndexOf(r),c),s=Math.max(s,t.length),t.forEach((function(t){t=e.getVisibleColumnIndexOf(t),i[t]&&(e.data||(e.data={}),e.data[o]||(e.data[o]={}),e.data[o][i[t].name]=null)})))})),t.forEach((function(t,o){var a;d+=1,n=e.getVisibleColumnIndexOf(r),t.forEach((function(t,r){t=e.getVisibleColumnIndexOf(t),r>0&&(n+=t-a),a=t,-1===t||!i[n]||!i[t]||e.data.length-1<d||d<0||(e.data[d]||(e.data[d]={}),e.data[d][i[n].name]=l[o][i[t].name])}))}))},e.getGroupsColumnBelongsTo=function(t){if(!e.attributes.allowGroupingColumns)return[];for(var r=[],o=0;o<e.groupedColumns.length;o++)for(var n=e.groupedColumns[o],l=0;l<n.length;l++){var i=n[l];if(t>=i.from&&t<=i.to){r.push(i);break}}return r},e.getGroupsRowBelongsTo=function(t){if(!e.attributes.allowGroupingRows)return[];for(var r=[],o=0;o<e.groupedRows.length;o++)for(var n=e.groupedRows[o],l=0;l<n.length;l++){var i=n[l];if(t>=i.from&&t<=i.to){r.push(i);break}}return r},e.isColumnVisible=function(t){return e.visibleCells.filter((function(e){return e.columnIndex===t})).length>0},e.isRowVisible=function(t){return e.visibleCells.filter((function(e){return e.rowIndex===t})).length>0},e.getVisibleCellByIndex=function(t,r){return e.visibleCells.filter((function(e){return e.columnIndex===t&&e.rowIndex===r}))[0]},e.getUnhideIndicator=function(t,r){var o=e.visibleUnhideIndicators;if(!(o.length<=0))for(var n=0;n<o.length;n++){var l=o[n];if(t>=l.x&&r>=l.y&&t<=l.x2&&r<=l.y2)return l}},e.getColumnGroupAt=function(t,r){if(!(e.groupedColumns.length<=0||r>=e.getColumnGroupAreaHeight()))for(var o=0;o<e.visibleGroups.length;o++){var n=e.visibleGroups[o];if("c"===n.type&&t>=n.x&&r>=n.y&&t<=n.x2&&r<=n.y2)return n}},e.getRowGroupAt=function(t,r){if(!(e.groupedRows.length<=0||t>=e.getRowGroupAreaWidth()))for(var o=0;o<e.visibleGroups.length;o++){var n=e.visibleGroups[o];if("r"===n.type&&t>=n.x&&r>=n.y&&t<=n.x2&&r<=n.y2)return n}},e.getCellAt=function(t,r,o){function n(o){return o.x+o.width-.4*e.attributes.borderResizeZone<t&&o.x+o.width+.6*e.attributes.borderResizeZone>t?"r":o.x-.4*e.attributes.borderResizeZone<t&&o.x+.6*e.attributes.borderResizeZone>t?"l":o.y+o.height-.4*e.attributes.borderResizeZone<r&&o.y+o.height+.6*e.attributes.borderResizeZone>r?"b":o.y-.4*e.attributes.borderResizeZone<r&&o.y+.6*e.attributes.borderResizeZone>r?"t":void 0}if(e.visibleCells){t-=e.getRowGroupAreaWidth(),r-=e.getColumnGroupAreaHeight(),void 0!==e.dragStartObject&&(t<=0&&(t=1),t>=e.width&&(t=e.width-1),r<=0&&(r=1),r>=e.height&&(r=e.height-1));var l,i,a,s,c,d=o?e.attributes.touchScrollZone:0,u="move"===e.attributes.borderDragBehavior,f=e.visibleCells.length,h=u?e.cursorGrab:"ew-resize",g=u?e.cursorGrab:"ns-resize";if(e.visibleCells&&e.visibleCells.length){if(e.hasFocus=!0,!(r<e.height&&r>0&&t<e.width&&t>0))return e.hasFocus=!1,{dragContext:"inherit",context:"inherit"};for(i=0;i<f;i+=1)if(c={x:(s=e.visibleCells[i]).x,y:s.y,height:s.height,width:s.width},o&&/(vertical|horizontal)-scroll-/.test(s.style)&&(c.x-=d,c.y-=d,c.height+=d,c.width+=d),c.x-e.style.cellBorderWidth<t&&c.x+c.width+e.style.cellBorderWidth>t&&c.y-e.style.cellBorderWidth<r&&c.y+c.height+e.style.cellBorderWidth>r){if(/frozen-row-marker/.test(s.style)){if("frozen-column-marker"===e.dragMode)continue;return s.dragContext=s.style,s.context="grab",s}if(/frozen-column-marker/.test(s.style)){if("frozen-row-marker"===e.dragMode)continue;return s.dragContext=s.style,s.context="grab",s}if(/selection-handle-/.test(s.style))return s.dragContext=s.style,s.context="crosshair",s;if(/vertical-scroll-(bar|box)/.test(s.style))return s.dragContext="vertical-scroll-box",s.context="vertical-scroll-box",s.isScrollBar=!0,s.isVerticalScrollBar=!0,r>e.scrollBox.box.v.y+e.scrollBox.scrollBoxHeight?(s.dragContext="vertical-scroll-bottom",s.context="vertical-scroll-bottom"):r<e.scrollBox.box.v.y&&(s.dragContext="vertical-scroll-top",s.context="vertical-scroll-top"),e.cursor="default",s;if(/horizontal-scroll-(bar|box)/.test(s.style))return s.dragContext="horizontal-scroll-box",s.context="horizontal-scroll-box",s.isScrollBar=!0,s.isHorizontalScrollBar=!0,t>e.scrollBox.box.h.x+e.scrollBox.scrollBoxWidth?(s.dragContext="horizontal-scroll-right",s.context="horizontal-scroll-right"):t<e.scrollBox.box.h.x&&(s.dragContext="horizontal-scroll-left",s.context="horizontal-scroll-left"),e.cursor="default",s;if(l=n(c),a=u&&s.selectionBorder&&-1!==s.selectionBorder.indexOf(l),-1!==["l","r"].indexOf(l)&&(e.attributes.allowColumnResize||a)&&(e.attributes.allowColumnResizeFromCell&&s.isNormal||!s.isNormal||a)&&(e.attributes.allowRowHeaderResize&&(s.isRowHeader||s.isCorner)||!s.isRowHeader||!s.isCorner)){if((s.isColumnHeader||s.isCorner||e.attributes.allowColumnResizeFromCell&&s.isNormal)&&"r"===l)return s.context="ew-resize",s.dragContext="ew-resize",s;if(!s.isColumnHeader&&!s.isCorner&&a)return s.context=h,s.dragContext=l+"-move",s}if(-1!==["t","b"].indexOf(l)&&s.rowIndex>-1&&(e.attributes.allowRowResize||a)&&(e.attributes.allowRowResizeFromCell&&s.isNormal||!s.isNormal||a)&&!s.isColumnHeader){if((s.isRowHeader||s.isCorner||e.attributes.allowRowResizeFromCell&&s.isNormal)&&"b"===l)return s.context="ns-resize",s.dragContext="ns-resize",s;if(!s.isRowHeader&&!s.isCorner&&a)return s.context=g,s.dragContext=l+"-move",s}return"columnHeaderCell"===s.style?(!e.isColumnSelected(s.columnIndex)&&s.x+s.width-e.attributes.columnGrabZoneSize-e.style.cellBorderWidth>t||!e.attributes.allowRowReordering?(s.dragContext="cell",s.context="cell"):(s.context=e.cursorGrab,s.dragContext="column-reorder"),s):"rowHeaderCell"===s.style?(!e.isRowSelected(s.rowIndex)&&e.attributes.rowGrabZoneSize+(s.y-e.style.cellBorderWidth)<r||!e.attributes.allowRowReordering?(s.dragContext="cell",s.context="cell"):(s.context=e.cursorGrab,s.dragContext="row-reorder"),s):s.isGrid?(e.hasFocus=!1,s.dragContext="cell-grid",s.context="cell-grid",s):"tree-grid"===s.style?(e.hasFocus=!1,s.dragContext="tree",s.context="tree",s):(s.dragContext="cell",s.context="cell",s)}return e.hasFocus=!0,e.cursor="default",{dragContext:"background",context:"background",style:"background",isBackground:!0}}}},e.getSchemaFromData=function(t){return t=t||e.originalData,Object.keys(t[0]||{" ":""}).map((function(r,o){var n=e.getBestGuessDataType(r,t),l={name:r,title:isNaN(parseInt(r,10))?r:e.integerToAlpha(r).toUpperCase(),index:o,columnIndex:o,type:n,filter:e.filter(n)};return e.storedSettings&&e.storedSettings.visibility&&void 0!==e.storedSettings.visibility[l.name]&&(l.hidden=!e.storedSettings.visibility[l.name]),l}))},e.clearChangeLog=function(){e.changes=[]},e.findColumnMaxTextLength=function(t){var r=-1/0;if("cornerCell"===t)return e.ctx.font=e.style.rowHeaderCellFont,e.ctx.measureText((e.viewData.length+(e.attributes.showNewRow?1:0)).toString()).width+e.style.autosizePadding+e.style.autosizeHeaderCellPadding+e.style.rowHeaderCellPaddingRight+e.style.rowHeaderCellPaddingLeft+(e.attributes.tree?e.style.treeArrowWidth+e.style.treeArrowMarginLeft+e.style.treeArrowMarginRight:0);var o=null;return e.getSchema().forEach((function(n){if(n.name===t){e.ctx.font=e.style.columnHeaderCellFont;var l=e.ctx.measureText(n.title||n.name).width+e.style.columnHeaderCellPaddingRight+e.style.columnHeaderCellPaddingLeft+e.style.cellAutoResizePadding;r=l>r?l:r,o=e.formatters[n.type]}})),e.viewData.forEach((function(n){var l=n[t];o&&(l=o({cell:{value:l}})),e.ctx.font=e.style.cellFont;var i=e.ctx.measureText(l).width+e.style.cellPaddingRight+e.style.cellPaddingLeft+e.style.cellAutoResizePadding;r=i>r?i:r})),r},e.getHeaderWidth=function(){return e.getVisibleSchema().reduce((function(t,r){return t+parseInt(r.width||e.style.cellWidth,10)}),0)},e.getRowHeight=function(t){return(e.sizes.rows[t]||e.style.cellHeight)*e.scale},e.getColumnWidth=function(t){return(e.sizes.columns[t]||e.getSchema()[t].width||e.style.cellWidth)*e.scale},e.formatters.string=function(e){return void 0!==e.cell.value?e.cell.value:""},e.formatters.rowHeaderCell=e.formatters.string,e.formatters.headerCell=e.formatters.string,e.formatters.number=e.formatters.string,e.formatters.int=e.formatters.string,e.formatters.html=e.formatters.string,e.sorters.string=function(e,t){var r="asc"===t;return function(t,o){var n=t[e]||"",l=o[e]||"";return r?n.localeCompare?n.localeCompare(l):1:l.localeCompare?l.localeCompare(n):1}},e.sorters.number=function(e,t){var r="asc"===t;return function(t,o){return r?t[e]-o[e]:o[e]-t[e]}},e.sorters.date=function(e,t){var r="asc"===t;return function(t,o){return r?new Date(t[e]).getTime()-new Date(o[e]).getTime():new Date(o[e]).getTime()-new Date(t[e]).getTime()}}}},473:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var o=r(172),n=r(523);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function i(e){function t(t,o,l){if(o){var i=o.top,a=o.bottom,s=o.left,c=o.right,d=a-i+1,u=c-s+1,f=(0,n.rT)(e.selections,{startRow:i,endRow:a,startColumn:s,endColumn:c});if(!1!==f)for(var h=r(s,u),g=i,m=i+d;g<m;g++){var p=e.viewData[g]||{},v=!0===f||f[g-i];if(v)for(var y=s,x=s+u;y<x;y++)if(!0===v||v[y-s]){var w=h[y];!w||w.hidden&&!l||t({value:p[w.name],header:w,columnName:w.name,boundRowIndex:e.getBoundRowIndexFromViewRowIndex(g),boundColumnIndex:e.orders.columns[y],viewRowIndex:g,viewColumnIndex:y})}}}}function r(t,r){for(var o=e.getSchema(),n=[],l=t,i=t+r;l<i;l++){var a=o[e.orders.columns[l]];n[l]=a}return n}e.selections=[],e.selectionCache=[],e.selectionCacheWidth=0,e.selectionCacheHeight=0,e.getObsoleteSelectionMatrix=function(t){var r=e.getSelectionBounds(!0,t);if(!r)return[];var o=r.top,l=r.bottom,i=r.left,a=r.right,s=l-o+1,c=a-i+1,d=(0,n.rT)(e.selections,{startRow:o,endRow:l,startColumn:i,endColumn:a});if(!1===d)return[];for(var u=[],f=o,h=o+s;f<h;f++)if(!0!==d){var g=d[f-o];if(g){u[f]=[];for(var m=i,p=i+c;m<p;m++)(!0===g||g[m-i])&&u[f].push(m)}}else u[f]=new Array(c).fill(0).map((function(e,t){return i+t}));for(var v=0;v<e.selections.length;v++){var y=e.selections[v];if(y.type===n.RT.Rows)for(var x=y.startRow;x<=y.endRow;x++)u[x]?-1!==u[x][0]&&u[x].unshift(-1):u[x]=[-1]}return u},e.getSelectedContiguousColumns=function(t){t||(t=e.getSchema());var r=(0,n.oG)(e.selections,!1);if(Array.isArray(r)){var o=e.orders.columns;return r.map((function(e){var r=o[e],n=t[r];return Object.assign({},n,{orderIndex:e})}))}},e.getSelectedContiguousRows=function(t){var r=(0,n.he)(e.selections,!1);if(Array.isArray(r)&&(t||r[0]!==r[1]))return r},e.canSelectionsBeCopied=function(){return e.selections.length>0&&!(0,n.bU)(e.selections)},e.getSelectedRowsHeight=function(){var t=(0,n.he)(e.selections,!0);if(!t)return 0;for(var r=0,o=t[0];o<=t[1];o++)r+=e.getRowHeight(o);return r},e.getSelectedColumnsWidth=function(){var t=(0,n.oG)(e.selections,!0);if(!t)return 0;for(var r=0,o=t[0];o<=t[1];o++)r+=e.getColumnWidth(e.orders.columns[o]);return r},e.isCellSelected=function(t){return(0,n.Nn)(e.selections,t.rowIndex,t.viewColumnIndex)},e.isColumnSelected=function(t){return"number"==typeof t&&(0,n.u)(e.selections,t)},e.isRowSelected=function(t){return"number"==typeof t&&(0,n.Ax)(e.selections,t)},e.clearSelections=function(t){e.selections=[],t&&e.dispatchSelectionChangedEvent()},e.selectNone=function(t){e.clearSelections(!0),t||e.draw()},e.selectAll=function(t){(0,n.DN)(e.selections,{type:n.RT.Columns,startColumn:0,endColumn:e.getSchema().length-1})&&!t&&e.draw()},e.unselectCell=function(t,r){var o=(0,n.db)(e.selections,(0,n.FK)({type:n.RT.Cells,startRow:t.rowIndex,startColumn:t.viewColumnIndex}));return o&&!r&&e.dispatchSelectionChangedEvent(),o},e.unselectRows=function(t,r,o){var l=(0,n.db)(e.selections,(0,n.FK)({type:n.RT.Rows,startRow:t,endRow:r}));return l&&!o&&e.dispatchSelectionChangedEvent(),l},e.selectCell=function(t,r){var o=(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Cells,startRow:t.rowIndex,startColumn:t.viewColumnIndex}));return o&&!r&&e.dispatchSelectionChangedEvent(),o},e.moveSelection=function(t,r){(0,n.Gl)(e.selections,t,r)},e.dispatchSelectionChangedEvent=function(){e.dispatchEvent("selectionchanged",e.getContextOfSelectionEvent())},e.getContextOfSelectionEvent=function(){var t={selectionList:e.cloneSelections()};return Object.defineProperty(t,"selections",{get:function(){return e.getObsoleteSelectionMatrix()}}),Object.defineProperty(t,"selectedData",{get:function(){return e.getSelectedData()}}),Object.defineProperty(t,"selectedCells",{get:function(){return e.getSelectedCells()}}),Object.defineProperty(t,"selectionBounds",{get:function(){return e.getSelectionBounds()}}),t},e.cloneSelections=function(){return(0,n.sD)(e.selections)},e.getSelectionBounds=function(t,r){var o=(0,n.FW)(r||e.selections);if(t){if(o.top>o.bottom||o.left>o.right)return null;e.sanitizeSelectionBounds(o)}return o},e.sanitizeSelectionBounds=function(t){if(!t)return t;t.top<0&&(t.top=0),t.left<0&&(t.left=0);var r=e.viewData.length;t.bottom>r&&(t.bottom=r-1);var o=e.getSchema().length;return t.right>o&&(t.right=o-1),t},e.getSelectedData=function(t){var o=e.getSelectionBounds(!0);if(!o)return[];var l=[],i=o.top,a=o.bottom,s=o.left,c=o.right,d=a-i+1,u=c-s+1,f=(0,n.rT)(e.selections,{startRow:i,endRow:a,startColumn:s,endColumn:c});if(!1===f)return[];for(var h=r(s,u),g=i,m=i+d;g<m;g++){var p=e.viewData[g]||{},v={},y=!1,x=!0===f||f[g-i];if(x){for(var w=s,C=s+u;w<C;w++)if(!0===f||x[w-s]){var b=h[w];if(b&&!b.hidden){if(y=!0,t)break;v[b.name]=p[b.name]}}y&&(l[g]=t?Object.assign({},p):v)}}return l},e.getSelectedCells=function(r){var o=[];return t((function(e){return o.push(e)}),e.getSelectionBounds(!0),r),o},e.clearSelectedCells=function(){var r=[];return t((function(t){r.push(t),e.viewData[t.boundRowIndex][t.columnName]=""}),e.getSelectionBounds(!0),!1),r},e.deleteSelectedData=function(t){var r=e.clearSelectedCells().map((function(e){return[e.viewRowIndex,e.viewColumnIndex,e.boundRowIndex,e.boundColumnIndex]}));e.dispatchEvent("afterdelete",{cells:r}),t||requestAnimationFrame((function(){return e.draw()}))},e.forEachSelectedCell=function(r,o){t((function(t){return r(e.viewData,t.viewRowIndex,t.columnName,t)}),e.getSelectionBounds(!0),o)},e.copySelectedCellsToClipboard=function(t){var r,i,a=(0,n.nj)(e.selections),s=e.getSelectedData();if(s.length>0)for(var c=(0,o.Kz)(s,a),d={"text/plain":c,"text/html":(0,o.vi)(s,a),"text/csv":c,"application/json":JSON.stringify(s)},u=0,f=Object.entries(d);u<f.length;u++){var h=(r=f[u],i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){n=!0,l=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw l}}return r}}(r,i)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=h[0],m=h[1];t.setData(g,m)}},e.fitSelectedColumns=function(r){var o=e.getSelectionBounds(!0);if(o){var n="number"==typeof r&&r>0;o.bottom=o.top,t((function(t){var o=t.columnName,l=t.viewColumnIndex;n?(e.sizes.columns[l]=r,e.dispatchEvent("resizecolumn",{x:r,y:e.resizingStartingHeight,width:r,height:e.resizingStartingHeight,columnIndex:l,draggingItem:e.currentCell})):e.fitColumnToValues(o)}),o,!1)}},e.fitSelectedRows=function(t){var r=e.getSelectionBounds(!0);if(r)for(var o=r.top;o<=r.bottom;o++)e.isRowSelected(o)&&(e.sizes.rows[o]=t,e.dispatchEvent("resizerow",{width:e.resizingStartingWidth,height:t,rowIndex:o,draggingItem:e.currentCell}))},e.selectColumn=function(t,r,o,l){if(e.isMultiRowsSelected=!1,e.isMultiColumnsSelected=!1,o){if(!e.activeCell)return;var i=Math.min(e.activeCell.columnIndex,t),a=Math.max(e.activeCell.columnIndex,t);(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Columns,startColumn:i,endColumn:a-1})),i!=a&&(e.isMultiColumnsSelected=!0)}var s;r||o||(e.selections=[],e.activeCell.columnIndex=t,e.activeCell.rowIndex=e.scrollIndexTop),r&&e.isColumnSelected(t)?(s=t,(0,n.db)(e.selections,(0,n.FK)({type:n.RT.Columns,startColumn:s}))):function(t){(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Columns,startColumn:t}))}(t),l||e.dispatchSelectionChangedEvent()},e.selectRow=function(t,r,o,l){function i(){l||e.dispatchSelectionChangedEvent()}if(e.isMultiRowsSelected=!1,(!1===e.dragAddToSelection||void 0===e.dragObject)&&(0,n.Ax)(e.selections,t)&&r)return(0,n.db)(e.selections,(0,n.FK)({type:n.RT.Rows,startRow:t})),void i();if(!0===e.dragAddToSelection||void 0===e.dragObject)if(o&&void 0===e.dragObject){if(!e.activeCell)return;var a=Math.min(e.activeCell.rowIndex,t),s=Math.max(e.activeCell.rowIndex,t);(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Rows,startRow:a,endRow:s}))}else c=t,(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Rows,startRow:c}));var c;i()},e.selectArea=function(t,r){var o=e.getSchema().length;if(t){if(t.right<0&&(t.right=Math.max(o-1,t.left,0)),t.top>t.bottom||t.left>t.right)throw new Error("Impossible selection area");e.selectionBounds=e.sanitizeSelectionBounds(t)}var l=e.selectionBounds,i=l.top,a=l.bottom,s=l.left,c=l.right;if(r||(e.selections=[]),a>=e.viewData.length&&(a=Math.max(e.viewData.length-1,i)),i<-1||s<-1||c>o)throw new Error("Impossible selection area");var d={rows:e.viewData.length,columns:o},u=!1;if(-1===i){var f=Math.max(s,0),h=-1===s?o-1:Math.min(c,o-1);u=(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Columns,startColumn:f,endColumn:h}),d)}else if(-1===s){var g=Math.max(i,0),m=Math.min(a,e.viewData.length-1);u=(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Rows,startRow:g,endRow:m}),d)}else u=(0,n.DN)(e.selections,(0,n.FK)({type:n.RT.Cells,startRow:i,endRow:a,startColumn:s,endColumn:c}),d);u&&e.dispatchSelectionChangedEvent()},e.getRowSelectionStates=function(t){("number"!=typeof t||t<0)&&(t=0);var r=e.getSchema().length-1,o=r-0+1,l=(0,n.rT)(e.selections,{startRow:t,startColumn:0,endRow:t,endColumn:r});if(!1!==l){if(!0===l)return new Array(o).fill(!0).map((function(e,t){return t}));var i=l[0];if(i){for(var a=[],s=0;s<i.length;s++)i[s]&&a.push(s);return a}}},e.replaceAllSelections=function(t){(0,n.Je)(t),e.selections=t},e.selectColumnViewIndexes=function(t){var r=t.map((function(e){return{type:n.RT.Columns,startColumn:e,endRow:e}}));e.replaceAllSelections(r)},e.getRowViewIndexesFromSelection=function(){if(0===e.selections.length)return[];for(var t=(0,n.FW)(e.selections,!0),r=[],o=t.top;o<=t.bottom;o++)r.push(o);return r},e.shrinkOrExpandSelections=function(t,r,o){var l=(0,n.dr)(e.selections,t,r,{columns:e.getSchema().length,rows:e.viewData.length});return l&&!o&&e.dispatchSelectionChangedEvent(),l}}},523:function(e,t,r){"use strict";function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r.d(t,{Ax:function(){return y},DN:function(){return m},FK:function(){return a},FW:function(){return T},Gl:function(){return I},Je:function(){return v},Nn:function(){return w},RT:function(){return l},bU:function(){return B},db:function(){return p},dr:function(){return k},he:function(){return S},nj:function(){return R},oG:function(){return b},rT:function(){return C},sD:function(){return M},u:function(){return x}});var l={UnselectedCells:0,Cells:1,Rows:2,Columns:3},i=function(e,t,r){var o=e[t];e[t]=e[r],e[r]=o},a=function(e){if(!e)return e;switch(e.type){case l.UnselectedCells:case l.Cells:"number"!=typeof e.endRow?e.endRow=e.startRow:e.endRow<e.startRow&&i(e,"startRow","endRow"),"number"!=typeof e.endColumn?e.endColumn=e.startColumn:e.endColumn<e.startColumn&&i(e,"startColumn","endColumn");break;case l.Rows:"number"!=typeof e.endRow?e.endRow=e.startRow:e.endRow<e.startRow&&i(e,"startRow","endRow");break;case l.Columns:"number"!=typeof e.endColumn?e.endColumn=e.startColumn:e.endColumn<e.startColumn&&i(e,"startColumn","endColumn")}return e},s=function(e,t){return e.startRow===t.startRow&&e.endRow===t.endRow&&e.startColumn===t.startColumn&&e.endColumn===t.endColumn},c=function(e,t){return t.type===l.Rows?e.startRow>=t.startRow&&e.endRow<=t.endRow?t:void 0:e.startColumn>=t.startColumn&&e.endColumn<=t.endColumn?t:void 0},d=function(e,t){if(e.type!==t.type)return t.type<=l.Cells&&e.type>l.Cells?c(t,e):e.type<=l.Cells&&t.type>l.Cells?c(e,t):void 0;var r=e.type===l.Columns||e.startRow===t.startRow&&e.endRow===t.endRow,o=e.type===l.Rows||e.startColumn===t.startColumn&&e.endColumn===t.endColumn;if(r){if(o)return e;if(t.startColumn>e.endColumn+1||t.endColumn<e.startColumn-1)return;return Object.assign({},e,{startColumn:Math.min(e.startColumn,t.startColumn),endColumn:Math.max(e.endColumn,t.endColumn)})}if(o){if(t.startRow>e.endRow+1||t.endRow<e.startRow-1)return;return Object.assign({},e,{startRow:Math.min(e.startRow,t.startRow),endRow:Math.max(e.endRow,t.endRow)})}if(e.type===l.Cells||e.type===l.UnselectedCells){var n=g(e,t);if(n){if(s(n,e))return t;if(s(n,t))return e}}},u=function(e,t){if(!(t.endRow<e.startRow||t.startRow>e.endRow))return t.startRow<=e.startRow?t.endRow>=e.endRow?[]:[Object.assign({},e,{startRow:t.endRow+1})]:t.endRow>=e.endRow?[Object.assign({},e,{endRow:t.startRow-1})]:[Object.assign({},e,{endRow:t.startRow-1}),Object.assign({},e,{startRow:t.endRow+1})]},f=function(e,t){if(!(t.endColumn<e.startColumn||t.startColumn>e.endColumn))return t.startColumn<=e.startColumn?t.endColumn>=e.endColumn?[]:[Object.assign({},e,{startColumn:t.endColumn+1})]:t.endColumn>=e.endColumn?[Object.assign({},e,{endColumn:t.startColumn-1})]:[Object.assign({},e,{endColumn:t.startColumn-1}),Object.assign({},e,{startColumn:t.endColumn+1})]},h=function(e,t){var r=g(e,t);if(r){if(s(e,r))return[];var o=[],n=e.startRow,l=e.endRow,i=e.endColumn;return r.startRow>e.startRow&&(o.push(Object.assign({},e,{endRow:r.startRow-1})),n=r.startRow),r.endColumn<e.endColumn&&(o.push(Object.assign({},e,{startRow:n,startColumn:r.endColumn+1})),i=r.endColumn),r.endRow<e.endRow&&(o.push(Object.assign({},e,{endColumn:i,startRow:r.endRow+1})),l=r.endRow),r.startColumn>e.startColumn&&o.push(Object.assign({},e,{startRow:n,endRow:l,endColumn:r.startColumn-1})),o}},g=function e(t,r){if(t.type>r.type)return e(r,t);if(t.type<=l.Cells){if(r.type<=l.Cells){var o=Math.max(t.startColumn,r.startColumn),n=Math.min(t.endColumn,r.endColumn);if(o>n)return;var i=Math.max(t.startRow,r.startRow),a=Math.min(t.endRow,r.endRow);if(i>a)return;return{type:l.Cells,startRow:i,startColumn:o,endRow:a,endColumn:n}}if(r.type===l.Rows){var s=Math.max(t.startRow,r.startRow),c=Math.min(t.endRow,r.endRow);if(s>c)return;return{type:l.Cells,startRow:s,startColumn:t.startColumn,endRow:c,endColumn:t.endColumn}}var d=Math.max(t.startColumn,r.startColumn),u=Math.min(t.endColumn,r.endColumn);if(d>u)return;return{type:l.Cells,startColumn:d,startRow:t.startRow,endColumn:u,endRow:t.endRow}}if(t.type===l.Rows){if(r.type===l.Rows){var f=Math.max(t.startRow,r.startRow),h=Math.min(t.endRow,r.endRow);if(f>h)return;return{type:l.Rows,startRow:f,endRow:h}}return{type:l.Cells,startRow:t.startRow,startColumn:r.startColumn,endRow:t.endRow,endColumn:r.endColumn}}var g=Math.max(t.startColumn,r.startColumn),m=Math.min(t.endColumn,r.endColumn);return g>m?void 0:{type:l.Columns,startColumn:g,endColumn:m}},m=function e(t,r,n){if(!r||"number"!=typeof r.type)return!1;if(r.type===l.Cells){for(var i=0;i<t.length;i++){var a=t[i];if(a.type!==l.UnselectedCells){if(a.type===l.Cells){var s=h(r,a);if(Array.isArray(s)){for(var c=!1,u=0;u<s.length;u++)e(t,s[u],n)&&(c=!0);return c&&v(t),c}}}else{var f=h(a,r);f&&(t.splice.apply(t,[i,1].concat(o(f))),i+=f.length-1)}}if(n){var g,m,p=0===r.startRow&&r.endRow+1>=n.rows,y=0===r.startColumn&&r.endColumn+1>=n.columns;if(p&&(g=e(t,{type:l.Columns,startColumn:r.startColumn,endColumn:r.endColumn},n)),y&&(m=e(t,{type:l.Rows,startRow:r.startRow,endRow:r.endRow},n)),p||y)return g||m}return t.push(r),v(t),!0}var x=r.type===l.Rows;if(x||r.type===l.Columns){for(var w=0;w<t.length;w++){var C=t[w];if(C.type!==l.UnselectedCells){if(C.type===r.type){var b=d(C,r);if(b){for(var S=w+1;S<t.length;S++)if(t[S].type===r.type){var B=d(t[S],b);B&&(t.splice(S,1),S--,b=B)}return t[w]=b,v(t),!0}}}else{var R=h(C,x?{startRow:r.startRow,endRow:r.endRow,startColumn:0,endColumn:C.endColumn}:{startColumn:r.startColumn,endColumn:r.endColumn,startRow:0,endRow:C.endRow});R&&(t.splice.apply(t,[w,1].concat(o(R))),w+=R.length-1)}}return t.push(r),v(t),!0}return!1},p=function e(t,r,n){if(!r||"number"!=typeof r.type)return!1;if(r.type===l.Cells){for(var i=0;i<t.length;i++){var a=t[i];if(a.type===l.UnselectedCells){var s=h(r,a);if(Array.isArray(s)){for(var c=!1,d=0;d<s.length;d++)e(t,s[d],n)&&(c=!0);return c&&v(t),c}}if(a.type!==l.Cells);else{var g=h(a,r);g&&(t.splice.apply(t,[i,1].concat(o(g))),i+=g.length-1)}}if(n){var m,p,y=0===r.startRow&&r.endRow+1>=n.rows,x=0===r.startColumn&&r.endColumn+1>=n.columns;if(y&&(m=e(t,{type:l.Columns,startColumn:r.startColumn,endColumn:r.endColumn},n)),x&&(p=e(t,{type:l.Rows,startRow:r.startRow,endRow:r.endRow},n)),y||x)return m||p}return r.type=l.UnselectedCells,t.unshift(r),v(t),!0}var w=r.type===l.Rows;if(w||r.type===l.Columns){for(var C=!1,b=0;b<t.length;b++){var S=t[b];if(S.type!==l.Cells)if(S.type!==l.UnselectedCells)if(S.type===r.type){var B=w?u(S,r):f(S,r);if(!B)continue;C=!0,t.splice.apply(t,[b,1].concat(o(B))),b+=B.length-1}else{C=!0;var R;R=S.type===l.Rows?{type:l.UnselectedCells,startColumn:r.startColumn,endColumn:r.endColumn,startRow:S.startRow,endRow:S.endRow}:{type:l.UnselectedCells,startRow:r.startRow,endRow:r.endRow,startColumn:S.startColumn,endColumn:S.endColumn},t.unshift(R)}else w?S.startRow>=r.startRow&&S.endRow<=r.endRow&&(t.splice(b,1),b--):S.startColumn>=r.startColumn&&S.endColumn<=r.endColumn&&(t.splice(b,1),b--);else{var I=h(S,w?{startRow:r.startRow,endRow:r.endRow,startColumn:0,endColumn:S.endColumn}:{startColumn:r.startColumn,endColumn:r.endColumn,startRow:0,endRow:S.endRow});I&&(t.splice.apply(t,[b,1].concat(o(I))),b+=I.length-1)}}return C&&v(t),C}return!1},v=function(e){for(var t=[],r=[],o=0;o<e.length;o++){var n=e[o];n.type===l.UnselectedCells?t.push(n):r.push(n)}t=t.filter((function(e){for(var t=0;t<r.length;t++)if(g(e,r[t]))return!0;return!1}));for(var i=!1;!i;){i=!0;for(var a=0;a<r.length;a++){for(var s=r[a],c=a+1;c<r.length;c++){var u=r[c],f=d(s,u);if(f){r[a]=f,r.splice(c,1),i=!1;break}}if(!i)break}}for(var h=0,m=0;m<t.length;m++)e[h++]=t[m];for(var p=0;p<r.length;p++)e[h++]=r[p];e.splice(h,e.length-h)},y=function(e,t){for(var r=0;r<e.length;r++){var o=e[r];switch(o.type){case l.UnselectedCells:if(t>=o.startRow&&t<=o.endRow)return!1;break;case l.Rows:if(t>=o.startRow&&t<=o.endRow)return!0}}return!1},x=function(e,t){for(var r=0;r<e.length;r++){var o=e[r];switch(o.type){case l.UnselectedCells:if(t>=o.startColumn&&t<=o.endColumn)return!1;break;case l.Columns:if(t>=o.startColumn&&t<=o.endColumn)return!0}}return!1},w=function(e,t,r){for(var o=0;o<e.length;o++){var n=e[o];switch(n.type){case l.UnselectedCells:case l.Cells:if(r>=n.startColumn&&r<=n.endColumn&&t>=n.startRow&&t<=n.endRow)return n.type===l.Cells;break;case l.Rows:if(t>=n.startRow&&t<=n.endRow)return!0;break;case l.Columns:if(r>=n.startColumn&&r<=n.endColumn)return!0}}return!1},C=function(e,t){if(!Array.isArray(e)||0===e.length)return!1;if(e=e.filter((function(e){return("number"!=typeof e.startRow||!(e.endRow<t.startRow||e.startRow>t.endRow))&&("number"!=typeof e.startColumn||!(e.endColumn<t.startColumn||e.startColumn>t.endColumn))&&e})),0===e.length)return!1;if(function(e,t){for(var r=t.startRow,o=t.startColumn,n=t.endRow,i=t.endColumn,a=0,s=e.length;a<s;a++){var c=e[a];if(c)switch(c.type){case l.UnselectedCells:case l.Cells:var d=o>=c.startColumn&&r>=c.startRow,u=i<=c.endColumn&&n<=c.endRow;if(d||u){if(d&&u)return c.type===l.Cells;if(d&&o<=c.endColumn&&r<=c.endRow||u&&i>=c.startColumn&&n>=c.startRow)return!1}break;case l.Rows:if(r>=c.startRow){if(n<=c.endRow)return!0;if(r<=c.endRow)return!1}else if(n>=c.startRow)return!1;break;case l.Columns:if(o>=c.startColumn){if(i<=c.endColumn)return!0;if(o<=c.endColumn)return!1}else if(i>=c.startColumn)return!1}}return!1}(e,t))return!0;for(var r=t.endColumn-t.startColumn+1,o=new Array(t.endRow-t.startRow+1).fill(null).map((function(){return new Array(r)})),n=Object.assign({type:l.Cells},t),i=e.length-1;i>=0;i--){var a=e[i],s=g(n,a);if(s)for(var c=a.type!==l.UnselectedCells,d=s.startRow;d<=s.endRow;d++)for(var u=o[d-t.startRow],f=s.startColumn-t.startColumn,h=s.endColumn-t.startColumn;f<=h;f++)u[f]=c}return o},b=function(e,t){if(e&&0!==e.length){for(var r,o=e.length-1;o>=0;o--){var n=e[o];switch(n.type){case l.Columns:if(r){var i=d(r,n);if(i){r=i;break}}r=n;break;case l.Rows:case l.Cells:if(!t)return;break;case l.UnselectedCells:if(!r)return;if(g(n,r))return}}return r?[r.startColumn,r.endColumn]:void 0}},S=function(e,t){if(e&&0!==e.length){for(var r,o=e.length-1;o>=0;o--){var n=e[o];switch(n.type){case l.Rows:if(r){var i=d(r,n);if(i){r=i;break}}r=n;break;case l.Columns:case l.Cells:if(!t)return;break;case l.UnselectedCells:if(!r)return;if(g(n,r))return}}return r?[r.startRow,r.endRow]:void 0}},B=function(e){if(!e||e.length<=1)return!1;var t=e[0].type;return t===l.UnselectedCells||e.findIndex((function(e){return e.type!==t}))>=0},R=function(e){if(!e)return!1;if(1===e.length)return!0;var t=e[0],r=t.type;if(r===l.UnselectedCells)return!0;for(var o=0;o<e.length;o++){var n=e[o];if(r!==n.type)return!1;if(r===l.Cells){if(n.startColumn===t.startColumn&&n.endColumn===t.endColumn)continue;if(n.startRow===t.startRow&&n.endRow===t.endRow)continue;return!1}}return!0},I=function(e,t,r){for(var o=0;o<e.length;o++){var n=e[o];switch(n.type){case l.Cells:case l.UnselectedCells:n.startRow+=r,n.endRow+=r,n.startColumn+=t,n.endColumn+=t;break;case l.Rows:n.startRow+=r,n.endRow+=r;break;case l.Columns:n.startColumn+=t,n.endColumn+=t}}},M=function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r];o&&t.push(Object.assign({},o))}return t},T=function(e){for(var t=1/0,r=-1/0,o=1/0,n=-1/0,i=0;i<e.length;i++){var a=e[i];a.type!==l.UnselectedCells&&("number"!=typeof a.startColumn?o=0:a.startColumn<o&&(o=a.startColumn),"number"!=typeof a.endColumn?n=1/0:a.endColumn>n&&(n=a.endColumn),"number"!=typeof a.startRow?t=0:a.startRow<t&&(t=a.startRow),"number"!=typeof a.endRow?r=1/0:a.endRow>r&&(r=a.endRow))}return{top:t,left:o,bottom:r,right:n}},k=function(e,t,r,o){var n=t.rowIndex,i=t.columnIndex;if(n<0||i<0)return!1;var a={ArrowLeft:{x:1,y:0,isLeft:!0},ArrowUp:{x:0,y:1,isUp:!0},ArrowRight:{x:-1,y:0,isRight:!0},ArrowDown:{x:0,y:-1,isDown:!0}}[r.key];if(!a)return!1;for(var s=n+a.y,c=i+a.x,d=[],u=0;u<e.length;u++){var f=e[u];switch(f.type){case l.Cells:case l.UnselectedCells:if(!(s!==f.startRow&&s!==f.endRow||c!==f.startColumn&&c!==f.endColumn)){if(f.type===l.UnselectedCells)return!1;d.push(f)}break;case l.Rows:s!==f.startRow&&s!==f.endRow||d.push(f);break;case l.Columns:c!==f.startColumn&&c!==f.endColumn||d.push(f)}}if(1!==d.length)return!1;var h=d[0],g=h.startRow===s,m=h.endRow===s,p=h.startColumn===c,y=h.endColumn===c,x=o?o.rows-1:1/0,w=o?o.columns-1:1/0,C=function(){return v(e),!0};if(g){if(a.isUp)return 0!==h.startRow&&(h.startRow--,C());if(a.isDown&&h.startRow<h.endRow)return h.startRow++,C()}if(m){if(a.isDown)return!(h.endRow>=x)&&(h.endRow++,C());if(a.isUp&&h.startRow<h.endRow)return h.endRow--,C()}if(p){if(a.isLeft)return 0!==h.startColumn&&(h.startColumn--,C());if(a.isRight&&h.startColumn<h.endColumn)return h.startColumn++,C()}if(y){if(a.isRight)return!(h.endColumn>=w)&&(h.endColumn++,C());if(a.isLeft&&h.startColumn<h.endColumn)return h.endColumn--,C()}return!1}},79:function(e,t,r){"use strict";function o(e){var t,r;e.scrollAnimation={},e.touchDelta={},e.touchAnimateTo={},e.animationFrames=0,e.getTouchPos=function(t,r){var o,n=r?t.touches[r]:t.touches[0],l=e.canvas.getBoundingClientRect();if(n)return o={x:n.clientX-l.left,y:n.clientY-l.top},e.isChildGrid&&(o.x-=e.canvasOffsetLeft,o.y-=e.canvasOffsetTop),{x:o.x,y:o.y,rect:l}},e.easingFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},e.easing=function(t,r,o,n){return o*e.easingFunctions[e.attributes.touchEasingMethod](t/n)+r},e.calculatePPSTimed=function(){e.xPPST=-(e.touchDelta.x-e.touchSigmaTimed.x)/(e.touchDelta.t-e.touchSigmaTimed.t),e.yPPST=-(e.touchDelta.y-e.touchSigmaTimed.y)/(e.touchDelta.t-e.touchSigmaTimed.t),e.touchSigmaTimed={x:e.touchDelta.x,y:e.touchDelta.y,t:performance.now()}},e.calculatePPS=function(){e.xPPS=-(e.touchDelta.x-e.touchSigma.x)/(e.touchDelta.t-e.touchSigma.t),e.yPPS=-(e.touchDelta.y-e.touchSigma.y)/(e.touchDelta.t-e.touchSigma.t),e.touchSigma={x:e.touchDelta.x,y:e.touchDelta.y,t:performance.now()}},e.touchEndAnimation=function(){if(!e.canvas||!e.scrollBox.scrollTo)return requestAnimationFrame(e.touchEndAnimation);var t,r=performance.now(),o=e.attributes.touchReleaseAnimationDurationMs;t=r-e.touchDelta.t,e.animationFrames+=1,e.scrollAnimation.x=e.easing(t,e.touchDelta.scrollLeft,e.touchAnimateTo.x,o),e.scrollAnimation.y=e.easing(t,e.touchDelta.scrollTop,e.touchAnimateTo.y,o),t>o||e.scrollAnimation.y===e.scrollBox.scrollTop&&e.scrollAnimation.x===e.scrollBox.scrollLeft||e.stopAnimation||(e.scrollBox.scrollTo(e.scrollAnimation.x,e.scrollAnimation.y),requestAnimationFrame(e.touchEndAnimation))},e.touchEditCell=function(t){e.beginEditAt(t.columnIndex,t.rowIndex)},e.touchstart=function(t){if(t.changedTouches[0]&&(e.touchStart=e.getTouchPos(t),e.startingCell=e.getCellAt(e.touchStart.x,e.touchStart.y,!0)),!e.dispatchEvent("touchstart",{NativeEvent:t,cell:e.startingCell})){if(e.disposeContextMenu(),clearInterval(e.calculatePPSTimer),clearTimeout(e.touchContextTimeout),e.touchStartEvent=t,e.stopAnimation=!0,e.animationFrames=0,e.stopPropagation(t),1===t.touches.length&&t.changedTouches[0]&&!e.zoomAltered){if(e.touchLength=1,e.touchStart=e.touchStart||e.touchStart1,e.touchScrollStart={x:e.scrollBox.scrollLeft,y:e.scrollBox.scrollTop,t:performance.now()},e.touchDelta={x:0,y:0,scrollLeft:e.scrollBox.scrollLeft,scrollTop:e.scrollBox.scrollTop,t:e.touchScrollStart.t},e.touchSigma={x:e.touchDelta.x,y:e.touchDelta.y,t:e.touchDelta.t},e.touchSigmaTimed={x:e.touchDelta.x,y:e.touchDelta.y,t:e.touchDelta.t},e.touchContextTimeout=setTimeout((function(){e.contextmenuEvent(t,e.touchStart)}),e.attributes.touchContextMenuTimeMs),e.calculatePPSTimer=setInterval(e.calculatePPSTimed,50),e.startingCell&&(e.startingCell.isGrid||-1!==["tree","inherit"].indexOf(e.startingCell.context)))return void(e.hasFocus=!1);if(e.hasFocus=!0,e.startingCell.isHeader)return e.startingCell.isRowHeader?(e.selectArea({top:e.startingCell.rowIndex,bottom:e.startingCell.rowIndex,left:0,right:e.getVisibleSchema().length-1}),e.draw(!0)):e.startingCell.isColumnHeader&&("sort"===e.attributes.columnHeaderClickBehavior&&(e.orderBy===e.startingCell.header.name?e.orderDirection="asc"===e.orderDirection?"desc":"asc":e.orderDirection="asc",e.order(e.startingCell.header.name,e.orderDirection)),"select"===e.attributes.columnHeaderClickBehavior&&(e.selectArea({top:0,bottom:e.viewData.length-1,left:e.startingCell.columnIndex,right:e.startingCell.columnIndex}),e.draw(!0))),void e.touchEndEvents(t)}e.zoomAltered||(document.body.addEventListener("touchmove",e.touchmove,{passive:!1}),document.body.addEventListener("touchend",e.touchend,!1),document.body.addEventListener("touchcancel",e.touchcancel,!1),e.draw(!0))}},e.touchSelect=function(t,r){if(void 0!==t.rowIndex&&void 0!==t.columnIndex){e.touchSelecting=!0;var o=e.getSelectionBounds();"selection-handle-bl"===r&&t.rowIndex>=o.top&&t.columnIndex<=o.right?(o.bottom=t.rowIndex,o.left=t.columnIndex):"selection-handle-tl"===r&&t.rowIndex<=o.bottom&&t.columnIndex<=o.right?(o.top=t.rowIndex,o.left=t.columnIndex):"selection-handle-tr"===r&&t.rowIndex<=o.bottom&&t.columnIndex>=o.left?(o.top=t.rowIndex,o.right=t.columnIndex):"selection-handle-br"===r&&t.rowIndex>=o.top&&t.columnIndex>=o.left&&(o.bottom=t.rowIndex,o.right=t.columnIndex),"row"===e.attributes.selectionMode||-1===t.rowIndex?(o.left=0,o.right=e.getSchema().length-1):o.left=Math.max(0,o.left),e.selectArea(o),e.draw(!0)}},e.touchmove=function(o){t||requestAnimationFrame((function(){t=!0,function(t){var o,n,l,i,a,s,c,d,u;if(!e.dispatchEvent("beforetouchmove",{NativeEvent:t})){if(clearTimeout(r),t.changedTouches[0]&&(e.touchPosition=e.getTouchPos(t)),t.changedTouches[1]&&(e.touchPosition1=e.getTouchPos(t,1)),Math.abs(e.touchDelta.x)+Math.abs(e.touchDelta.y)>e.attributes.touchDeadZone&&clearTimeout(e.touchContextTimeout),2===t.touches.length&&e.touchPosition&&e.touchPosition1)return d=e.touchPosition.y,u=e.touchPosition1.y,e.zoomDeltaStart||(e.zoomDeltaStart=Math.abs(d-u),e.startScale=e.scale),e.touchLength=2,e.scaleDelta=e.zoomDeltaStart-Math.abs(d-u),e.scale=e.startScale-e.scaleDelta*e.attributes.touchZoomSensitivity,e.scale=Math.min(Math.max(e.scale,e.attributes.touchZoomMin),e.attributes.touchZoomMax),e.zoomAltered=!0,e.resize(!0),void e.resizeChildGrids();e.zoomAltered||(e.touchLength=1,e.touchPosition=e.touchPosition||e.touchPosition1,o=e.getColumnHeaderCellHeight(),n=e.getRowHeaderCellWidth(),l=e.width-e.style.scrollBarWidth-e.touchPosition.x<e.attributes.selectionScrollZone,i=e.touchPosition.x-n<e.attributes.selectionScrollZone,a=e.height-e.style.scrollBarWidth-e.touchPosition.y<e.attributes.selectionScrollZone,s=e.touchPosition.y-o<e.attributes.selectionScrollZone,c=e.style.scrollBarWidth,t.stopPropagation(),e.touchDelta={x:e.touchPosition.x-e.touchStart.x,y:e.touchPosition.y-e.touchStart.y,scrollLeft:e.scrollBox.scrollLeft,scrollTop:e.scrollBox.scrollTop,t:performance.now()},e.currentCell=e.getCellAt(e.touchPosition.x,e.touchPosition.y),e.dispatchEvent("touchmove",{NativeEvent:t,cell:e.currentCell}),e.calculatePPS(),e.touchDuration=performance.now()-e.touchScrollStart.t,e.stopAnimation=!0,e.animationFrames=0,e.touchSelecting&&(l||i||s||a)&&function t(){var o=e.scrollBox.scrollLeft,n=e.scrollBox.scrollTop;o+=l?e.attributes.selectionScrollIncrement:0,n+=a?e.attributes.selectionScrollIncrement:0,n-=s?e.attributes.selectionScrollIncrement:0,o-=i?e.attributes.selectionScrollIncrement:0,e.scrollBox.scrollTo(o,n),r=setTimeout(t,e.attributes.scrollRepeatRate)}(),/vertical-scroll-/.test(e.startingCell.style)?e.scrollBox.scrollTop=e.scrollBox.scrollHeight*((e.touchPosition.y-o-c)/(e.scrollBox.height-c-o)):/horizontal-scroll-/.test(e.startingCell.style)?e.scrollBox.scrollLeft=e.scrollBox.scrollWidth*((e.touchPosition.x-n-c)/(e.scrollBox.width-c-n)):/selection-handle-/.test(e.startingCell.style)?e.touchSelect(e.currentCell,e.startingCell.style):e.scrollBox.scrollTo(e.touchScrollStart.x-e.touchDelta.x,e.touchScrollStart.y-e.touchDelta.y))}}(o),t=!1}))},e.touchEndEvents=function(t){e.zoomDeltaStart=void 0,e.touchSelecting=!1,clearInterval(e.touchScrollTimeout),clearInterval(e.touchContextTimeout),clearInterval(e.calculatePPSTimer),t.stopPropagation(),document.body.removeEventListener("touchmove",e.touchmove,{passive:!1}),document.body.removeEventListener("touchend",e.touchend,!1),document.body.removeEventListener("touchcancel",e.touchcancel,!1)},e.touchend=function(t){if(!e.dispatchEvent("touchend",{NativeEvent:t,cell:e.currentCell}))if(e.zoomDeltaStart=void 0,t.changedTouches[0]&&(e.touchPosition=void 0),t.changedTouches[1]&&(e.touchPosition1=void 0),e.zoomAltered)0===t.touches.length&&(e.zoomAltered=!1);else{var r=Math.abs(e.touchDelta.x)+Math.abs(e.touchDelta.y)<e.attributes.touchDeadZone;isNaN(e.xPPS)&&(e.xPPS=0),isNaN(e.yPPS)&&(e.yPPS=0),isNaN(e.xPPST)&&(e.xPPST=0),isNaN(e.yPPST)&&(e.yPPST=0),e.touchAnimateTo.x=e.xPPS*e.attributes.touchReleaseAcceleration,e.touchAnimateTo.y=e.yPPS*e.attributes.touchReleaseAcceleration,e.calculatePPSTimed(),r||0!==e.animationFrames||!(Math.abs(e.xPPST)>e.attributes.scrollAnimationPPSThreshold||Math.abs(e.yPPST)>e.attributes.scrollAnimationPPSThreshold)||/-scroll-/.test(e.startingCell.style)||r||(e.stopAnimation=!1,e.touchEndAnimation()),e.touchEndEvents(t)}},e.touchcancel=function(t){e.dispatchEvent("touchcancel",{NativeEvent:t,cell:e.currentCell})||e.touchEndEvents(t)}}r.d(t,{Z:function(){return o}})},155:function(e){e.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=Object.keys(o.default).reduce((function(e,t){return e.concat(o.default[t])}),[]);t.default=function(e){return-1===n.indexOf(e.key)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={modifier:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"],legacyModifier:["Hyper","Super"],whiteSpace:["Enter","Tab"],navigation:["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp"],editing:["Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo"],ui:["Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut"],device:["BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp"],imeCompositionKeys:["AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate"],koreanSpecific:["HangulMode","HanjaMode","JunjaMode"],japaneseSpecific:["Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku"],commonFunction:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4"],multimedia:["ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck"],multimediaNumpad:["Key11","Key12"],audio:["AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute"],speech:["SpeechCorrectionList","SpeechInputToggle"],application:["LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor"],browser:["BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop"],mobilePhone:["AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial"],tv:["TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer"],mediaControls:["AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]}}]).default}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__={};return function(){"use strict";__webpack_require__.d(__webpack_exports__,{default:function(){return canvasDatagrid}});var _component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(195),_defaults__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(857),_draw__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(305),_events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(255),_touch__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(79),_intf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(944),_selections_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(473),_contextMenu__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(485),_button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(392),_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(251),_publicMethods__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(995);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var webComponent=(0,_component__WEBPACK_IMPORTED_MODULE_3__.Z)(),modules=[_defaults__WEBPACK_IMPORTED_MODULE_4__.Z,_draw__WEBPACK_IMPORTED_MODULE_0__.Z,_events__WEBPACK_IMPORTED_MODULE_1__.Z,_touch__WEBPACK_IMPORTED_MODULE_5__.Z,_intf__WEBPACK_IMPORTED_MODULE_6__.Z,_selections_index__WEBPACK_IMPORTED_MODULE_2__.Z,_contextMenu__WEBPACK_IMPORTED_MODULE_7__.Z,_button__WEBPACK_IMPORTED_MODULE_8__.Z,_dom__WEBPACK_IMPORTED_MODULE_9__.Z,_publicMethods__WEBPACK_IMPORTED_MODULE_10__.Z];function Grid(args){args=args||{};var self={};return self.isComponent=void 0===args.component,self.isChildGrid=args.parentNode&&/canvas-datagrid-(cell|tree)/.test(args.parentNode.nodeType),self.isChildGrid?self.intf={}:self.intf=self.isComponent?eval("Reflect.construct(HTMLElement, [], new.target)"):document.createElement("canvas"),self.args=args,self.intf.args=args,self.applyComponentStyle=webComponent.applyComponentStyle,self.hyphenateProperty=webComponent.hyphenateProperty,self.dehyphenateProperty=webComponent.dehyphenateProperty,self.createGrid=function(e){return e.component=!1,new Grid(e)},modules.forEach((function(e){e(self)})),self.isChildGrid?(self.shadowRoot=args.parentNode.shadowRoot,self.parentNode=args.parentNode):(self.shadowRoot=self.intf.attachShadow({mode:"open"}),self.parentNode=self.shadowRoot),self.init(),self.intf}function canvasDatagrid(e){e=e||{};var t,r=["style","formatters","sorters","filters","treeGridAttributes","cellGridAttributes","fillCellCallback","data","schema"];return window.customElements?(t=document.createElement("canvas-datagrid"),Object.keys(e).forEach((function(o){"data"!==o&&"parentNode"!==o&&(-1===r.indexOf(o)?t.attributes[o]=e[o]:r.forEach((function(r){void 0!==e[r]&&r===o&&(-1!==["formatters","sorters","filters"].indexOf(o)?"object"===_typeof(e[r])&&null!==e[r]&&Object.keys(e[r]).forEach((function(o){t[r][o]=e[r][o]})):t[r]=e[r])})))})),e.data&&(t.data=e.data),e.parentNode&&e.parentNode.appendChild(t),t):(e.component=!1,t=new Grid(e),e.parentNode&&e.parentNode.appendChild&&e.parentNode.appendChild(t),t)}window.HTMLElement&&(Grid.prototype=Object.create(window.HTMLElement.prototype)),window.customElements&&(Grid.observedAttributes=webComponent.getObservableAttributes(),Grid.prototype.disconnectedCallback=webComponent.disconnectedCallback,Grid.prototype.attributeChangedCallback=webComponent.attributeChangedCallback,Grid.prototype.connectedCallback=webComponent.connectedCallback,Grid.prototype.adoptedCallback=webComponent.adoptedCallback,window.customElements.define("canvas-datagrid",Grid)),!window||window.canvasDatagrid||window.require||window.EXCLUDE_GLOBAL||(window.canvasDatagrid=function(e){return new Grid(e)})}(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__}()}));