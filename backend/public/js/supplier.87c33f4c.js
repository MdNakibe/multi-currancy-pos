(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["supplier"],{2313:function(e,t,s){"use strict";var i=s("6d70"),a=s.n(i);a.a},"4c2a":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:"12",md:"9"}},[s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("v-card",{staticClass:"shadow1 rounded white pb-5"},[s("v-toolbar",{staticStyle:{"border-bottom":"1px solid #ddd !important"},attrs:{color:"white",elevation:0}},[s("v-toolbar-title",{staticClass:"subtitle-2"},[e._v("Supplier Entry")])],1),s("v-card-text",{staticClass:"py-0"},[s("v-form",{ref:"supplierForm",staticClass:"custom-form",on:{submit:function(t){return t.preventDefault(),e.saveSupplier(t)}}},[s("v-row",[s("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[s("v-row",{staticClass:"align-center mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Supplier Id")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",rules:[function(e){return!!e}]},model:{value:e.supplier.code,callback:function(t){e.$set(e.supplier,"code",t)},expression:"supplier.code"}})],1)],1),s("v-row",{staticClass:"align-center mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Name")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",rules:[function(e){return!!e}]},model:{value:e.supplier.name,callback:function(t){e.$set(e.supplier,"name","string"===typeof t?t.trim():t)},expression:"supplier.name"}})],1)],1),s("v-row",{staticClass:"align-center mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Company Name")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",rules:[function(e){return!!e}]},model:{value:e.supplier.org_name,callback:function(t){e.$set(e.supplier,"org_name","string"===typeof t?t.trim():t)},expression:"supplier.org_name"}})],1)],1),s("v-row",{staticClass:"align-center mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Area")]),s("v-col",{staticClass:"py-0",attrs:{cols:"7"}},[s("v-combobox",{attrs:{dense:"",outlined:"","hide-details":"",items:e.$store.getters["area/areas"],loading:e.$store.getters["area/loadingAreas"],"item-text":"name","item-value":"id"},on:{focus:function(t){return e.$store.dispatch("area/getAreas")}},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}})],1),s("v-col",{staticClass:"py-0 pa-0",staticStyle:{"margin-left":"-12px"},attrs:{cols:"1"}},[s("area-dialog",{ref:"areaDialog",attrs:{icon:!0}})],1)],1),s("v-row",{staticClass:"align-center mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Address")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",rules:[function(e){return!!e}]},model:{value:e.supplier.address,callback:function(t){e.$set(e.supplier,"address","string"===typeof t?t.trim():t)},expression:"supplier.address"}})],1)],1)],1),s("v-col",{staticClass:"pa-2",attrs:{cols:"6"}},[s("v-row",{staticClass:"mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Mobile")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",rules:[function(e){return!!e},function(){return e.validateMobile(e.supplier.phone)}],type:"number"},model:{value:e.supplier.phone,callback:function(t){e.$set(e.supplier,"phone","string"===typeof t?t.trim():t)},expression:"supplier.phone"}})],1)],1),s("v-row",{staticClass:"mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Office Phone")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",type:"number"},model:{value:e.supplier.org_phone,callback:function(t){e.$set(e.supplier,"org_phone","string"===typeof t?t.trim():t)},expression:"supplier.org_phone"}})],1)],1),s("v-row",{staticClass:"mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Email")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",type:"email",rules:[function(){return e.validateEmail(e.supplier.email)}]},model:{value:e.supplier.email,callback:function(t){e.$set(e.supplier,"email","string"===typeof t?t.trim():t)},expression:"supplier.email"}})],1)],1),s("v-row",{staticClass:"mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}},[e._v("Credit Limit")]),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",rules:[function(e){return!!e}]},model:{value:e.supplier.credit_limit,callback:function(t){e.$set(e.supplier,"credit_limit",e._n(t))},expression:"supplier.credit_limit"}})],1)],1),s("v-row",{staticClass:"mt-2"},[s("v-col",{staticClass:"py-1",attrs:{cols:"4"}}),s("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"6"}},[s("v-btn",{attrs:{type:"submit",loading:e.waitingForSave,dark:"",block:"",color:"light-blue darken-2"}},[e._v("Save")])],1),s("v-col",{staticClass:"pl-1",attrs:{cols:"6"}},[s("v-btn",{attrs:{dark:"",block:"",color:"deep-orange"}},[e._v("Clear")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),s("v-row",[s("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[s("v-data-table",{staticClass:"custom-data-table shadow1 rounded py-4",attrs:{headers:e.supplierHeaders,items:e.$store.getters["supplier/suppliers"],loading:e.$store.getters["supplier/loadingSuppliers"],search:e.searchsupplier,"loading-text":"Loading... Please wait"},on:{"click:row":e.showDetails},scopedSlots:e._u([{key:"top",fn:function(){return[s("v-toolbar",{staticStyle:{"border-bottom":"1px solid #ddd !important"},attrs:{dense:"",color:"white",elevation:0}},[s("v-toolbar-title",{staticClass:"subtitle-2"},[e._v("Supplier List")]),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),s("v-form",{staticClass:"custom-form"},[s("v-text-field",{staticStyle:{width:"300px"},attrs:{outlined:"",dense:"","hide-details":"",placeholder:"Search supplier","append-icon":"mdi-magnify"},model:{value:e.searchsupplier,callback:function(t){e.searchsupplier=t},expression:"searchsupplier"}})],1)],1)]},proxy:!0}])})],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-card",{staticClass:"mx-auto rounded shadow1_important",attrs:{tile:"",width:"100%",height:"100%"}},[s("v-card",{staticClass:"carv_img_wrap",attrs:{dark:"",tile:"",flat:"",color:"#26ab68ad"}},[s("v-card-text",{staticClass:"text-center"},[s("img",{staticClass:"carv_img",attrs:{src:e.carv,alt:""}}),s("img",{staticClass:"uavatar",attrs:{src:"https://ui-avatars.com/api/?name="+e.selectedSupplier.name+"&background=26ab68ad&color=fff",alt:"alt"}})])],1),s("div",{staticClass:"actions_btns"},[s("h2",{staticClass:"subtitle-1"},[e._v(e._s(e.selectedSupplier.code))]),s("h1",{staticClass:"subtitle-1"},[e._v(e._s(e.selectedSupplier.name))]),"super_admin"==e.userType||"admin"==e.userType?s("div",[s("v-btn",{attrs:{icon:"",color:"black"},on:{click:function(t){return e.editSupplier(e.selectedSupplier)}}},[s("v-icon",[e._v("mdi-account-edit")])],1),s("v-btn",{attrs:{icon:"",color:"black"},on:{click:function(t){e.supplierId=e.selectedSupplier.id,e.$refs.confirmDialog.dialog=!0}}},[s("v-icon",[e._v("mdi-delete")])],1)],1):e._e()]),s("v-list",{attrs:{dense:""}},[s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"light-blue darken-2"}},[e._v("mdi-cellphone")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.selectedSupplier.phone))])],1)],1),s("v-divider",{attrs:{inset:""}}),s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"light-blue darken-2"}},[e._v("mdi-phone")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.selectedSupplier.org_phone))])],1)],1),s("v-divider",{attrs:{inset:""}}),s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"light-blue darken-2"}},[e._v("mdi-email")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.selectedSupplier.email))])],1)],1),s("v-divider",{attrs:{inset:""}}),s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"light-blue darken-2"}},[e._v("mdi-credit-card")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.selectedSupplier.credit_limit))])],1)],1),s("v-divider",{attrs:{inset:""}}),s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"light-blue darken-2"}},[e._v("mdi-office-building")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.selectedSupplier.org_name))])],1)],1),s("v-divider",{attrs:{inset:""}}),s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"light-blue darken-2"}},[e._v("mdi-map-marker")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.selectedSupplier.address))]),s("v-list-item-subtitle",[e._v(e._s(e.selectedSupplier.area.name))])],1)],1)],1)],1)],1)],1),s("delete-confirm",{ref:"confirmDialog",on:{confirm:e.deletesupplier}})],1)},a=[],r=(s("4160"),s("d81d"),s("b64b"),s("159b"),s("96cf"),s("1da1")),l=s("c711"),o=s("ad72"),n=s("b49a"),c=s("1713"),p=s.n(c),u={name:"Supplier",mixins:[o["a"]],components:{"area-dialog":l["a"],"delete-confirm":n["a"]},data:function(){return{supplierHeaders:[{text:"SL.",value:"sl"},{text:"Id",value:"code"},{text:"Name",value:"name"},{text:"Company Name",value:"org_name"},{text:"Mobile",value:"phone"},{text:"Email",value:"email"}],searchsupplier:"",carv:p.a,supplier:{id:null,code:"",name:"",phone:"",email:"",area_id:null,address:"",org_name:"",org_phone:"",credit_limit:0},selectedSupplier:{id:null,code:"C0001",name:"Select a supplier",org_name:"Company Name",credit_limit:0,address:"supplier's Address",mobile:"01XXXXXXXXX",email:"supplier's Email",org_phone:"Office Phone",area:"Area"},area:null,supplierId:null,waitingForSave:!1,userType:""}},watch:{area:function(e){void 0!=e&&(this.supplier.area_id=e.id)}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("supplier/generateSupplierCode");case 2:return e.supplier.code=t.sent,t.next=5,e.$store.dispatch("supplier/getSuppliers");case 5:s=JSON.parse(localStorage.getItem("userData")),e.userType=s.userType;case 7:case"end":return t.stop()}}),t)})))()},methods:{showDetails:function(e){this.selectedSupplier=e},editSupplier:function(e){var t=this;Object.keys(this.supplier).forEach((function(s){t.supplier[s]=e[s]})),this.area=e.area},saveSupplier:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validatesupplier()){t.next=2;break}return t.abrupt("return");case 2:return e.waitingForSave=!0,t.next=5,e.$store.dispatch("supplier/saveSupplier",e.supplier);case 5:s=t.sent,s&&e.resetForm(),e.waitingForSave=!1;case 8:case"end":return t.stop()}}),t)})))()},deletesupplier:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("supplier/deleteSupplier",e.supplierId);case 2:e.$refs.confirmDialog.dialog=!1;case 3:case"end":return t.stop()}}),t)})))()},validatesupplier:function(){var e=!0;if(this.$refs.supplierForm.validate(),this.$refs.supplierForm.inputs.forEach((function(t){t.hasError&&(e=!1)})),e)return null==this.supplier.area_id?(this.$store.dispatch("snackbar/error","Select a area"),e=!1,e):e},resetForm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object.keys(e.supplier).map((function(t){return e.supplier[t]=""})),e.$refs.supplierForm.resetValidation(),e.supplier.id=null,e.area=null,t.next=6,e.$store.dispatch("supplier/generateSupplierCode");case 6:e.supplier.code=t.sent;case 7:case"end":return t.stop()}}),t)})))()}}},d=u,v=(s("2313"),s("2877")),m=s("6544"),f=s.n(m),h=s("8336"),b=s("b0af"),g=s("99d9"),_=s("62ad"),C=s("2b5d"),x=s("a523"),w=s("8fea"),y=s("ce7e"),S=s("4bd4"),k=s("132d"),$=s("8860"),V=s("da13"),I=s("5d23"),F=s("34c3"),T=s("0fd9"),D=s("8654"),L=s("71d9"),O=s("2a7f"),E=Object(v["a"])(d,i,a,!1,null,"f42da7b0",null);t["default"]=E.exports;f()(E,{VBtn:h["a"],VCard:b["a"],VCardText:g["b"],VCol:_["a"],VCombobox:C["a"],VContainer:x["a"],VDataTable:w["a"],VDivider:y["a"],VForm:S["a"],VIcon:k["a"],VList:$["a"],VListItem:V["a"],VListItemContent:I["a"],VListItemIcon:F["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VRow:T["a"],VTextField:D["a"],VToolbar:L["a"],VToolbarTitle:O["a"]})},"6d70":function(e,t,s){}}]);
//# sourceMappingURL=supplier.87c33f4c.js.map