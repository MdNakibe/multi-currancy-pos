(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["damages"],{"3a2f":function(t,e,n){"use strict";n("a9e3");var a=n("ade3"),i=(n("9734"),n("4ad4")),o=n("a9ad"),s=n("16b7"),r=n("b848"),c=n("75eb"),l=n("f573"),d=n("f2e7"),u=n("80d2"),h=n("d9bd"),p=n("58df");e["a"]=Object(p["a"])(o["a"],s["a"],r["a"],c["a"],l["a"],d["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,a=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||a?o=i+e.width/2-n.width/2:(this.left||this.right)&&(o=i+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,a=!1!==this.attach?e.offsetTop:e.top,i=0;return this.top||this.bottom?i=a+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=a+e.height/2-n.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(u["h"])(this.maxWidth),minWidth:Object(u["h"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(u["u"])(this,"activator",!0)&&Object(h["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=i["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===u["z"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(a["a"])(t,this.contentClass,!0),Object(a["a"])(t,"menuable__content__active",this.isActive),Object(a["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},"4d7a":function(t,e,n){},8899:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"white shadow1 py-4 pt-2 px-3 rounded",attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-form",{staticClass:"custom-form",on:{submit:function(e){return e.preventDefault(),t.getDamageRecord(e)}}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"5"}},[n("v-row",[n("v-col",{attrs:{cols:"auto",sm:"6"}},[n("v-row",{staticStyle:{"margin-top":"3px",color:"#000","align-items":"center"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[t._v("Date From")]),n("v-col",{attrs:{cols:"8"}},[n("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{dense:"",outlined:"","hide-details":""},model:{value:t.damage.dateFrom,callback:function(e){t.$set(t.damage,"dateFrom",e)},expression:"damage.dateFrom"}},"v-text-field",i,!1),a),[n("v-icon",{attrs:{slot:"prepend-inner"},slot:"prepend-inner"},[t._v("mdi-calendar-month")])],1)]}}])},[n("v-date-picker",{model:{value:t.damage.dateFrom,callback:function(e){t.$set(t.damage,"dateFrom",e)},expression:"damage.dateFrom"}})],1)],1)],1)],1),n("v-col",{attrs:{cols:"auto",sm:"6"}},[n("v-row",{staticClass:"pl-3",staticStyle:{"margin-top":"3px",color:"#000","align-items":"center"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[t._v("Date To")]),n("v-col",{attrs:{cols:"8"}},[n("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{dense:"",outlined:"","hide-details":""},model:{value:t.damage.dateTo,callback:function(e){t.$set(t.damage,"dateTo",e)},expression:"damage.dateTo"}},"v-text-field",i,!1),a),[n("v-icon",{attrs:{slot:"prepend-inner"},slot:"prepend-inner"},[t._v("mdi-calendar-month")])],1)]}}])},[n("v-date-picker",{model:{value:t.damage.dateTo,callback:function(e){t.$set(t.damage,"dateTo",e)},expression:"damage.dateTo"}})],1)],1)],1)],1)],1)],1),n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"auto",sm:"1"}},[n("v-btn",{attrs:{type:"submit",dark:"",color:"light-blue darken-2",loading:t.loading}},[t._v("Search")])],1)],1),n("v-divider")],1)],1)],1),t.show?n("v-row",{attrs:{dense:""}},[n("v-col",{staticStyle:{display:"none"},attrs:{cols:"12"}},[n("v-btn",{attrs:{height:"26px"},on:{click:function(e){return e.preventDefault(),t.print(e)}}},[t._v("Print")])],1),n("v-col",{attrs:{cols:"12",id:"invoiceContent"}},[n("v-data-table",{staticClass:"custom-data-table mt-5",attrs:{"show-expand":"",headers:t.damageHeaders,loading:t.$store.getters["damage/loadin"],items:t.$store.getters["damage/damages"],search:t.searchDamage,"items-per-page":15},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{staticStyle:{"border-bottom":"1px solid #ddd !important"},attrs:{dense:"",color:"white",elevation:0}},[n("v-toolbar-title",{staticClass:"subtitle-2"},[t._v("Damage Report")]),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-form",{staticClass:"custom-form"},[n("v-text-field",{staticStyle:{width:"300px"},attrs:{outlined:"",dense:"","hide-details":"",placeholder:"Search damage","append-icon":"mdi-magnify"},model:{value:t.searchDamage,callback:function(e){t.searchDamage=e},expression:"searchDamage"}})],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var a=e.item;return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-icon",t._g({attrs:{small:"",color:"success",target:"_blank"},on:{click:function(e){return t.$router.push("/damage-invoice/"+a.id)}}},i),[t._v(" mdi-file ")])]}}],null,!0)},[n("span",[t._v("Invoice")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-icon",t._g({attrs:{small:"",color:"primary"},on:{click:function(e){return t.$router.push("/damage/"+a.id)}}},i),[t._v("mdi-circle-edit-outline")])]}}],null,!0)},[n("span",[t._v("Edit")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-icon",t._g({attrs:{small:"",color:"error"},on:{click:function(e){t.damageId=a.id,t.$refs.confirmDialog.dialog=!0}}},i),[t._v("mdi-delete-circle-outline")])]}}],null,!0)},[n("span",[t._v("Delete")])])]}},{key:"expanded-item",fn:function(e){var a=e.headers,i=e.item;return[n("td",{attrs:{colspan:a.length}},[n("table",{staticClass:"details__table"},[n("tr",[n("th",[t._v("SL No.")]),n("th",[t._v("Product Id")]),n("th",[t._v("Product Name")]),n("th",[t._v("Purchase Rate")]),n("th",[t._v("damage Rate")]),n("th",[t._v("Quantity")]),n("th",[t._v("Total")])]),t._l(i.damage_details,(function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(a+1))]),n("td",[t._v(t._s(e.product.code))]),n("td",[t._v(t._s(e.product.name))]),n("td",[t._v(t._s(e.product.purchase_rate))]),n("td",[t._v(t._s(e.rate))]),n("td",[t._v(t._s(e.quantity))]),n("td",[t._v(t._s(e.total))])])}))],2)])]}}],null,!0)}),n("confirm-dialog",{ref:"confirmDialog",on:{confirm:t.deleteDamage}})],1)],1):t._e()],1)},i=[],o=(n("99af"),n("d3b7"),n("96cf"),n("1da1")),s=n("b49a"),r={name:"Damages",components:{"confirm-dialog":s["a"]},data:function(){return{searchType:null,damage:{dateFrom:(new Date).toISOString().substr(0,10),dateTo:(new Date).toISOString().substr(0,10)},searchLoading:!1,show:!1,damageId:null,loading:!1,damageHeaders:[{text:"Sl",value:"sl"},{text:"Date",value:"date"},{text:"Invoice",value:"invoice"},{text:"Damage Total",value:"total"},{text:"Note",value:"note"},{text:"Save By",value:"added_by.name"},{text:"Action",value:"action"},{text:"Details",value:"data-table-expand"}],searchDamage:""}},created:function(){this.setStyle()},methods:{getDamageRecord:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("damage/getDamages",t.damage);case 3:t.loading=!1,t.show=!0;case 5:case"end":return e.stop()}}),e)})))()},deleteDamage:function(){this.$store.dispatch("damage/deleteDamage",this.damageId),this.$refs.confirmDialog.dialog=!1},printInvoice:function(t){this.$router.push("/damage-invoice/".concat(t))},print:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,i,o,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=document.querySelector("#invoiceContent").innerHTML,a=window.open("","PRINT","width=".concat(screen.width,", height=").concat(screen.height,", left=0, top=0")),i=t.$store.getters["companyProfile/company"],o=null!=i?t.$store.getters["companyProfile/company"].image:"",s=o?t.apiBasePath+"/"+o:"",a.document.write('\n                <!DOCTYPE html>\n                <html lang="en">\n                <head>\n                    <meta charset="UTF-8">\n                    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n                    <title>Investigation Payment Slip</title>\n                    <style>\n                    </style>\n                </head>\n                <body>\n                    <div>\n                        <div class="container">\n                            <table style="width:100%;">\n                                <thead>\n                                    <tr>\n                                        <td>\n                                            <div class="custom-row">\n                                                <div class="col-xs-2">\n                                                    <img src="'+s+'" alt="Logo" style="height:90px; width:90%;object-fit: contain;" />\n                                                </div>\n                                                <div class="col-xs-10">\n                                                    <strong style="font-size:18px;">'.concat(null!=i?i.company_name:"",'</strong><br>\n                                                    <p style="white-space:pre-line;margin:0px">Address : ').concat(null!=i?i.address:"",'</p>\n                                                    <p style="margin:0px">Mobile : ').concat(null!=i?i.contact_us:"",'</p>\n                                                    <p style="margin:0px">E-Mail : ').concat(null!=i?i.email:"",'</p>\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>\n                                            <div class="custom-row">\n                                                <div class="invoice-title">\n                                                    damage Record\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <div class="custom-row">\n                                                <div class="col-xs-12">\n                                                    ').concat(n,'\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                                <tfoot>\n                                    <tr>\n                                        <td>\n                                            <div style="width:100%;height:50px;">&nbsp;</div>\n                                        </td>\n                                    </tr>\n                                </tfoot>\n                            </table>\n                        </div>\n                    </div>    \n                    \n                </body>\n                </html>\n            ')),r=a.document.createElement("style"),r.innerHTML=t.style.innerHTML,a.document.head.appendChild(r),a.moveTo(0,0),a.focus(),e.next=13,new Promise((function(t){return setTimeout(t,1e3)}));case 13:a.print(),a.close();case 15:case"end":return e.stop()}}),e)})))()},setStyle:function(){this.style=document.createElement("style"),this.style.innerHTML="\n                .custom-row {\n                    width: 100%;\n                    display: block;\n                }\n                .print-btn a{\n                    background: #CFD8DC;\n                    display: inline-block;\n                    padding: 3px 13px;\n                    border-radius: 5px;\n                    color: #000 !important;\n                }\n                .print-btn a:hover {\n                    background: #B0BEC5;\n                }\n                .invoice-title {\n                    text-align: center;\n                    font-weight: bold;\n                    font-size: 15px;\n                    margin-bottom: 15px;\n                    padding: 5px;\n                    border-top: 1px dotted #454545;\n                    border-bottom: 1px dotted #454545;\n                }\n                .col-xs-12 {\n                    width: 100%;\n                }\n                .col-xs-10 {\n                    width: 80%;\n                    float: left;\n                }\n                .col-xs-9 {\n                    width: 70%;\n                    float: left;\n                }\n                .col-xs-7 {\n                    width: 60%;\n                    float: left;\n                }\n                .col-xs-6 {\n                    width: 50%;\n                    float: left;\n                }\n                .col-xs-5 {\n                    width: 40%;\n                    float: left;\n                }\n                .col-xs-4 {\n                    width: 35%;\n                    float: left;\n                }\n                .col-xs-3 {\n                    width: 30%;\n                    float: left;\n                }\n                .col-xs-2 {\n                    width: 20%;\n                    float: left;\n                }\n                .b-text {\n                    font-weight: 500;\n                    font-size: 15px;\n                }\n                .normal-text {\n                    font-size: 14px;\n                    margin: 0px;\n                }\n                .invoice-details {\n                    width: 100%;\n                    border-collapse: collapse;\n                    border:1px solid #ccc;\n                }\n                .invoice-details thead {\n                    font-weight: 500;\n                    text-align:center;\n                }\n                .invoice-details tbody td{\n                    padding: 0px 5px;\n                }\n                .text-center {\n                    text-align: center;\n                }\n                .text-right {\n                    text-align: right;\n                }\n                .line {\n                    border-bottom: 1px solid #ccc;\n                    margin-top: 15px;\n                    margin-bottom: 15px;\n                }\n                .paid-text {\n                    padding:30px 0px;\n                }\n                .mt-60 {\n                    margin-top: 60px;\n                }\n                .mr-20 {\n                    margin-right: 20px;\n                }\n                .ml-20 {\n                    margin-left: 20px;\n                }\n                .ft-fiext {\n                    position: fixed;\n                    bottom: 0;\n                }\n                @media print {\n                    .hide {\n                        display: none\n                    }\n                    .v-data-table > .v-data-table__wrapper > table {\n                        width: 100%;\n                        border-spacing: 0;\n                    }\n                    .theme--light.v-data-table > .v-data-table__wrapper > table > thead > tr:last-child > th {\n                        font-size: 13px;\n                        padding: 0px 1px;\n                        color: #000;\n                        border: 1px solid #ccc;\n                        text-align: center;\n                        height: 24px !important;\n                    }\n                    .v-data-table--dense > .v-data-table__wrapper > table > tbody > tr > td {\n                        height: 20px !important;\n                        padding: 0px 5px !important;\n                        font-size: 12px !important;\n                        border: 1px solid #ccc !important;\n                    }\n                }\n                .cls {\n                    clear: both;\n                }\n            ",document.head.appendChild(this.style)}}},c=r,l=(n("f485"),n("2877")),d=n("6544"),u=n.n(d),h=n("8336"),p=n("62ad"),m=n("a523"),v=n("8fea"),f=n("2e4b"),g=n("ce7e"),b=n("4bd4"),x=n("132d"),y=n("e449"),_=n("0fd9"),w=n("8654"),k=n("71d9"),C=n("2a7f"),D=n("3a2f"),T=Object(l["a"])(c,a,i,!1,null,"70ce06aa",null);e["default"]=T.exports;u()(T,{VBtn:h["a"],VCol:p["a"],VContainer:m["a"],VDataTable:v["a"],VDatePicker:f["a"],VDivider:g["a"],VForm:b["a"],VIcon:x["a"],VMenu:y["a"],VRow:_["a"],VTextField:w["a"],VToolbar:k["a"],VToolbarTitle:C["a"],VTooltip:D["a"]})},9276:function(t,e,n){"use strict";var a=n("f1d3"),i=n.n(a);i.a},9734:function(t,e,n){},b49a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"320",light:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",{staticClass:"text-center"},[n("div",{staticClass:"pt-5"},[n("v-icon",{staticClass:"cust-icon",attrs:{"x-large":"",color:"red",dark:""}},[t._v(" mdi-alert ")])],1),n("v-card-title",{staticClass:"justify-center py-0"},[n("h4",[t._v("Confirmation !")])]),n("v-card-text",{staticClass:"py-0"},[t._v("Are you sure to "+t._s(t.text)+"?")]),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){return t.$emit("confirm")}}},[t._v("Yes")]),n("v-btn",{attrs:{color:"error",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v("No")])],1)],1)],1)},i=[],o={data:function(){return{dialog:!1,text:"delete"}}},s=o,r=(n("9276"),n("2877")),c=n("6544"),l=n.n(c),d=n("8336"),u=n("b0af"),h=n("99d9"),p=n("169a"),m=n("132d"),v=Object(r["a"])(s,a,i,!1,null,null,null);e["a"]=v.exports;l()(v,{VBtn:d["a"],VCard:u["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VDialog:p["a"],VIcon:m["a"]})},f1d3:function(t,e,n){},f485:function(t,e,n){"use strict";var a=n("4d7a"),i=n.n(a);i.a}}]);
//# sourceMappingURL=damages.49d821b1.js.map